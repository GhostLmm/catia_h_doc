<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NewTopologicalObjects/PublicInterfaces/CATSmartBodyDuplicator.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>NewTopologicalObjects/PublicInterfaces/CATSmartBodyDuplicator.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATRecomposeShells.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATRecomposeShells.h</a></div>
        <div><a href="CATTopCAACompliantJournalChecker.html">‰∏ã‰∏ÄÈ°µ: CATTopCAACompliantJournalChecker.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATSmartBodyDuplicator_H
#define CATSmartBodyDuplicator_H

// COPYRIGHT DASSAULT SYSTEMES  1999

/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */ 

#include &quot;CATIACGMLevel.h&quot; // automatic treatment EB_2014_04_16
#include &quot;YI00IMPL.h&quot;
#include &quot;ListPOfCATBody.h&quot;
#include &quot;CATGeometryType.h&quot;
#include &quot;CATTopOperator.h&quot;
#include &quot;CATCGMDuplicateLyingOn.h&quot;


class CATBody;
class CATCell;
class CATDomain;
class CATCGMJournalList;
class CATSmartBodyDuplicator;
class CATExtTopOperator;


/** @nodoc */
extern ExportedByYI00IMPL void CATSmartBodyDuplicator_SetOptimizedInCaseOfNoTouch(CATSmartBodyDuplicator &amp; iToModify);
/** @nodoc */
extern ExportedByYI00IMPL void CATSmartBodyDuplicator_ForbidOptimizedInCaseOfNoTouch(CATSmartBodyDuplicator &amp; iToModify);

//--------------------------------------------------------------------------------------------------
// Constructeur de l&#x27;outil topologique
//--------------------------------------------------------------------------------------------------

/**
 * Class defining an operator that duplicates the touched cells (and the cells depending on these
 * touched cells) of a body.
 * &lt;br&gt;This is used in the context of the &quot;smart mechanism&quot;.
 * After its creation a CATToplogy is modifiable.
  *   It becomes non-modifiable when a body containing it is frozen.
  *   The smart duplicator only duplicates the touched cells and 
  *   the domains impacted by the touched cells.
	*&lt;br&gt;As any operator, the duplicator is created, run, read,and deleted.
	* Sample:
	* &lt;pre&gt;// anEdge is a cell belonging to FrozenBody.
	*	anEdge-&gt;Touch(FrozenBody);
	* //  Create an empty body to input the duplicated cells
	* CATBody * NewBody= CATGeoCreateBody(GeoFactory);
	*	CATSmartBodyDuplicator * SmartDupl=NewBody-&gt;CreateSmartDuplicator(FrozenBody);
	*	SmartDupl-&gt;Run();
	* // Retrieves the mapping between the touched edge and its copy:
	* CATEdge * DuplicatedEdge = (CATEdge *)	(SmartDupl-&gt;GetDuplicatedCell(anEdge));
	* // clean the memory
	*	delete SmartDupl;&lt;/pre&gt;
    * &lt;br&gt;NOTE:
    * &lt;br&gt;Throughout this header documentation, 
    * the term &quot;lying on link&quot; refers to a piece of information which is contained in
    * the cell to be duplicated. This piece of information gives a clue as to whether
    * the duplicated cell is lying on the cell the original cell was lying on (the link).  
    *  . 
  */
class ExportedByYI00IMPL CATSmartBodyDuplicator  : public CATTopOperator
{  
  CATCGMVirtualDeclareClass(CATSmartBodyDuplicator);
public :
  

#ifdef CATIACGMR419CAA
  /**
  * Constructs a body duplicator.
  * @param iFactory
  * The factory where objects are created.
  * @param iTopData
  * The object defining the CATSoftwareConfiguration and the CATCGMJournalList.
  * @param iExtensible
  * The optional dedicated extension object to delegate the computation (mandatory for polyhedral management)
  */
  CATSmartBodyDuplicator(CATGeoFactory* iFactory, const CATTopData &amp; iData, CATExtTopOperator * iExtensible=NULL);
#else
  /**
  * Constructs a body duplicator.
  * @param iFactory
  * The factory where objects are created.
  * @param iTopData
  * The object defining the CATSoftwareConfiguration and the CATCGMJournalList.
  */
  CATSmartBodyDuplicator(CATGeoFactory* iFactory, const CATTopData &amp; iData);
#endif
  
  virtual ~CATSmartBodyDuplicator();

  /**
   * Adds another body to compute the impacts of a touched CATTopology.
	 * @param iNewInitialBody
	 * The pointer to another body to take into account.
	 */
  void               AddInitialBody    (CATBody* NewInitialBody);

	/**
	 * Retrieves the list of the bodies that are taken into account by &lt;tt&gt;this&lt;/tt&gt; duplicator.
	 * @param ioResult
	 * The list of the bodies. As part of the class, this list must not be directly deleted.
	 */
  void               GetInitialBodies  (CATLISTP(CATBody)&amp; ioResult) const;

	/**
	 * Returns the pointer to the body inside which the duplicated cells are created.
	 * @return
	 * The pointer to the body, tha must be not frozen.
	 */
  CATBody*           GetDuplicatedBody ()                           const;

	/**
	 * Returns the pointer to the journal of &lt;tt&gt;this&lt;/tt&gt; iterator.
	 * @return
	 * The pointer to the journal.
	 */
  CATCGMJournalList* GetJournal        () ;

  /** 
	 * Returns the mapping between a touched cell and its copy.
	 * @param iBeforeDuplication
	 * The pointer to the touched cell.
	 * @return
	 * The pointer to the corresponding duplicated cell.
   */
  virtual CATCell*    GetDuplicatedCell  (CATCell* iBeforeDuplication)   const = 0;

	/**
	 * Returns the mapping between a touched domain and its copy.
	 * @param iBeforeDuplication
	 * The pointer to the touched domain.
	 * @return
	 * The pointer to the corresponding duplicated domain.
	 */
  virtual CATDomain*  GetDuplicatedDomain(CATDomain* iBeforeDuplication) const = 0;

  /** 
	* Resets the filter on the cells for the journal.
	* &lt;br&gt; By default, all cells and domains are logged.
    */
  virtual void  ResetLogFilter() = 0;

	/**
	 *Adds a new type to be logged inside the journal of &lt;tt&gt;this&lt;/tt&gt; duplicator.
	 * @param iTypeToFilter
	 * The type of geometry to add to the log.
   * &lt;br&gt;Sample: After &lt;tt&gt;ResetLogFilter + AddLogFilter(CATEdgeType) &lt;/tt&gt;, only edges are logged. 
	 * After &lt;tt&gt;ResetLogFilter + AddLogFilter(CATEdgeType) + AddLogFilter(CATShellType)&lt;/tt&gt;, 
   *              edges and shells are logged.
	 */
  virtual void  AddLogFilter(CATGeometricType iTypeToFilter) = 0;

  /** 
	 * Specifies how the edges and vertices are to be duplicated by &lt;tt&gt;this&lt;/tt&gt;.
	 * @param iMode
	 * The mode of duplication.
	 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
	 * &lt;dl&gt;
   * &lt;dt&gt;&lt;tt&gt;0&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt;Default mode: the touched edges and vertices are not duplicated when they bound faces.
   * &lt;dt&gt;&lt;tt&gt;1&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt;Full duplication: all the touched cells and their impacts are duplicated.
	 * &lt;/dl&gt;
   */
  void  SetFullDuplication(short iMode);

	/**
	 * Returns a value indicating how the edges and vertices are duplicated by &lt;tt&gt;this&lt;/tt&gt;.
	 * @return
	 * The duplication mode.
	 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
	 * &lt;dl&gt;
   * &lt;dt&gt;&lt;tt&gt;0&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt;Default mode: the touched edges and vertices are not duplicated when they bound faces.
   * &lt;dt&gt;&lt;tt&gt;1&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt;Full duplication: all the touched cells and their impacts are duplicated.
	 * &lt;/dl&gt;
	 */
  short GetFullDuplication() const;

 

  /** 
	 * Specifies the lying on link of a duplicated cell. 
	 * @param iMode
	 * The mode of lying on links duplication.
	 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
	 * &lt;dl&gt;
   * &lt;dt&gt;&lt;tt&gt;CatCGMLyingOnNoCopy&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt;A duplicated cell contains no lying on link.
   * &lt;dt&gt;&lt;tt&gt;CatCGMLyingOnDuplicated&lt;/tt&gt;&lt;dd&gt;Lying on links are duplicated on a duplicated cell.
   * &lt;dt&gt;&lt;tt&gt;CatCGMLyingOnTransfered&lt;/tt&gt;&lt;dd&gt;Lying on links are transfered from an original cell to the duplicated cell.
	 * &lt;/dl&gt;
   */
  void  SetDuplicateLyingOn(CATCGMDuplicateLyingOn iMode);


	/**
	 * Returns the lying on link of a duplicated cell.
	 * @return
	 * The mode of duplication.
	 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
	 * &lt;dl&gt;
   * &lt;dt&gt;&lt;tt&gt;CatCGMLyingOnNoCopy&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt;A duplicated cell contains no lying on link.
   * &lt;dt&gt;&lt;tt&gt;CatCGMLyingOnDuplicated&lt;/tt&gt;&lt;dd&gt;Lying on links are duplicated on a duplicated cell.
   * &lt;dt&gt;&lt;tt&gt;CatCGMLyingOnTransfered&lt;/tt&gt;&lt;dd&gt;Lying on links are transfered from an original cell to the duplicated cell.
	 * &lt;/dl&gt;
	 */
  CATCGMDuplicateLyingOn GetDuplicateLyingOn() const;

  /** @nodoc
   * @nocgmitf
   */
  void TransferTouch(CATBoolean transfert);
  /** @nodoc
   * @nocgmitf
   */
  CATBoolean TransferTouch();
  /** @nodoc
   * @nocgmitf
   */
  virtual CATCell *GetDuplicatedCellOldVersion(CATCell*) const = 0;

 
#if defined ( CATIACGMR214CAA )
  /** 
   *@nodoc
	 *   Specifies a specific optimal smart topology sharing 
   *    when no touched topology has been registered avoiding duplication of higher domain. 
   */
  void  SetOptimizedInCaseOfNoTouch();
#endif


protected :

  /** @nodoc */
  friend ExportedByYI00IMPL void CATSmartBodyDuplicator_SetOptimizedInCaseOfNoTouch(CATSmartBodyDuplicator &amp; iToModify);

  /** @nodoc */
  friend ExportedByYI00IMPL void CATSmartBodyDuplicator_ForbidOptimizedInCaseOfNoTouch(CATSmartBodyDuplicator &amp; iToModify);
 

  CATLISTP(CATBody)  _InitialBodies;
		/** @nodoc */
  CATBody*           _DuplicatedBody;
		/** @nodoc */
  CATCGMJournalList* _Journal;
		/** @nodoc */
  short                   _FullDuplication;
		/** @nodoc */
  CATCGMDuplicateLyingOn  _LyingOnDuplication;


		/** @nodoc */
  CATBoolean _TransferTouch;
  
  /** @nodoc */
  CATBoolean _OptimizedInCaseOfNoTouch;
 
  
  /** @nodoc */
  CATSmartBodyDuplicator(CATGeoFactory* iFactory, CATCGMJournalList* iJournal);
};

#endif
</div>
    
    <div class="navigation">
        <div><a href="CATRecomposeShells.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATRecomposeShells.h</a></div>
        <div><a href="CATTopCAACompliantJournalChecker.html">‰∏ã‰∏ÄÈ°µ: CATTopCAACompliantJournalChecker.h ‚Üí</a></div>
    </div>
</body>
</html>