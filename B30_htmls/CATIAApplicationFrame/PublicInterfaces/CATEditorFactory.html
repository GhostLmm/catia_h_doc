<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CATIAApplicationFrame/PublicInterfaces/CATEditorFactory.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>CATIAApplicationFrame/PublicInterfaces/CATEditorFactory.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATEditor.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATEditor.h</a></div>
        <div><a href="CATEditorPage.html">‰∏ã‰∏ÄÈ°µ: CATEditorPage.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CAT_EDITOR_FACTORY_H
#define CAT_EDITOR_FACTORY_H

// COPYRIGHT DASSAULT SYSTEMES 1999

/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */

#include &quot;OM0EDPRO.h&quot;
#include &lt;CATExtensionAdapter.h&gt;
#include &lt;CATUnicodeString.h&gt; 

class CATBaseUnknown ;

/**
* Base class to create an editor factory.
* &lt;b&gt;Role&lt;/b&gt;: To create a factory class for your editor, 
* use the macro @href CAT_EDITOR_DECLARE_FACTORY for the header file (.h) and 
* for the source file (.cpp)   
* the @href CAT_EDITOR_DEFINE_FACTORY for an Edit Properties Editor, and 
* the @href CAT_EDITOR_DEFINE_FACTORY2 for an Tools Options Editor.
* @see CATIUserSettings, CATIEditProperties
*/
class ExportedByOM0EDPRO CATEditorFactory : public CATExtensionAdapter
{
public :
  /**
  * @nodoc
  */
  CATEditorFactory() ;
  ~CATEditorFactory() ;
  /**
  * @nodoc
  */
  int IsAuthorized(const char *) const;
  
  /**
  * @nodoc
  */
  virtual unsigned char       Support( const CATUnicodeString&amp; editName ) const = 0 ;

  /**
  * @nodoc
  */
  virtual CATBaseUnknown* Create ( const CATUnicodeString&amp; intfName ) const = 0 ;
  
protected :
  
  CATEditorFactory( const CATEditorFactory&amp; base ) ;
  CATEditorFactory&amp; operator=( const CATEditorFactory&amp; base ) ;
}; 


#undef CAT_PX_DECLARE_FACTORY
/**
 * Declares an editor.
 * &lt;b&gt;Role&lt;/b&gt;:macro used to implement an editor factory interface.
 * @param MODULE
 *      module defining editor. 
 * &lt;br&gt;&lt;b&gt;Legal values:&lt;/b&gt; NOTHING
 * @param EDITOR
 *		This object, which derives from @href CATEditor, is created by the factory.
 * @param TYPE
 *      not used, has to be the same as editor.
 * @see CATIUserSettings,CATIEditProperties
 */
#define CAT_EDITOR_DECLARE_FACTORY(MODULE, EDITOR, TYPE)		 \
  									 \
class ExportedBy##MODULE EDITOR##Factory : public CATEditorFactory	 \
{									 \
  CATDeclareClass;							 \
  									 \
public:									 \
  EDITOR##Factory();							 \
  ~EDITOR##Factory();							 \
  									 \
  unsigned char        Support(const CATUnicodeString &amp; editName) const; \
  CATBaseUnknown * Create (const CATUnicodeString &amp; intfName) const; \
  									 \
protected :								 \
  EDITOR##Factory(const EDITOR##Factory &amp; base);			 \
  EDITOR##Factory &amp; operator=(const EDITOR##Factory &amp; base);		 \
};

#ifndef CATFrmMkStringFromDefine
/** @nodoc */
#define CATFrmMkStringFromDefine1(x) #x
/** @nodoc */
#define CATFrmMkStringFromDefine(x) CATFrmMkStringFromDefine1(x)
#endif

#undef CAT_PX_DEFINE_FACTORY
/**
 * Defines an editor.
 * &lt;b&gt;Role&lt;/b&gt;:macro used to implement an editor factory interface.
 * This implementation is done for an Edit properties Editor 
 * @param EDITOR
 *		This object, which derives from @href CATEditor, is created by the factory.
 * @param TYPE
 *      not used, has to be the same as editor.
 * @see CATIEditProperties
 */
#define CAT_EDITOR_DEFINE_FACTORY(EDITOR, TYPE)					      \
CATImplementClass(EDITOR##Factory, CodeExtension, CATEditorFactory,		      \
		  CATEditorManager);						      \
										      \
EDITOR##Factory::EDITOR##Factory(): CATEditorFactory() {}			      \
										      \
EDITOR##Factory::~EDITOR##Factory() {}						      \
										      \
unsigned char EDITOR##Factory::Support(const CATUnicodeString &amp; editName) const	      \
{										      \
  const CATUnicodeString editType = #TYPE;					      \
  return (editType == editName);						      \
}										      \
										      \
CATBaseUnknown * EDITOR##Factory::Create(const CATUnicodeString &amp; intfName) const \
{										      \
  if (!IsAuthorized(CATFrmMkStringFromDefine(_MK_FWNAME_)))			      \
    return NULL;								      \
  CATEditor * edit = new EDITOR;						      \
  CATBaseUnknown * itf = edit-&gt;QueryInterface((const char *)intfName);	              \
  edit-&gt;Release();                                                                    \
  return itf;	                                                                      \
}										      \
										      \
EDITOR##Factory::EDITOR##Factory(const EDITOR##Factory &amp; base):			      \
  CATEditorFactory(base) {}							      \
										      \
EDITOR##Factory &amp; EDITOR##Factory::operator=(const EDITOR##Factory &amp; base)	      \
{										      \
  CATEditorFactory::operator=(base);						      \
  return (*this);								      \
}

#undef CAT_PX_DEFINE_FACTORY2
/**
 * Defines an editor.
 * &lt;b&gt;Role&lt;/b&gt;:macro used to implement an editor factory interface. 
 * This implementation is done for an  Tools Options Editor.
 * @param EDITOR
 *		This object, which derives from @href CATEditor, is created by the factory.
 * @param TYPE
 *      not used, has to be the same as editor.
 * @see CATIUserSettings
 */
#define CAT_EDITOR_DEFINE_FACTORY2(EDITOR, TYPE)				      \
CATBeginImplementClass(EDITOR##Factory,  CodeExtension,            \
                  CATEditorFactory,	CATEditorManager2);     \
CATAddClassExtension(CATUserSettingsManager);					      \
CATEndImplementClass(EDITOR##Factory);						      \
								      \
EDITOR##Factory::EDITOR##Factory(): CATEditorFactory() {}			      \
										      \
EDITOR##Factory::~EDITOR##Factory() {}						      \
										      \
unsigned char EDITOR##Factory::Support(const CATUnicodeString &amp; editName) const	      \
{										      \
  const CATUnicodeString editType = #TYPE;					      \
  return (editType == editName);						      \
}										      \
										      \
CATBaseUnknown * EDITOR##Factory::Create(const CATUnicodeString &amp; intfName) const \
{										      \
  if (!IsAuthorized(CATFrmMkStringFromDefine(_MK_FWNAME_)))			      \
    return NULL;								      \
  CATEditor * edit = new EDITOR;						      \
  CATBaseUnknown * itf = edit-&gt;QueryInterface((const char *)intfName);	              \
  edit-&gt;Release();                                                                    \
  return itf;	                                                                      \
}										      \
										      \
EDITOR##Factory::EDITOR##Factory(const EDITOR##Factory &amp; base):			      \
  CATEditorFactory (base) {}							      \
										      \
EDITOR##Factory &amp; EDITOR##Factory::operator=(const EDITOR##Factory &amp; base)	      \
{										      \
  CATEditorFactory::operator=(base);						      \
  return (*this);								      \
}


#undef CAT_PX_DEFINE_FACTORY12
/** @nodoc */
#define CAT_EDITOR_DEFINE_FACTORY12( EDITOR, TYPE )				      \
CATBeginImplementClass(EDITOR##Factory,  CodeExtension,          \
                       CATEditorFactory, CATEditorManager);					      \
CATAddClassExtension(CATEditorManager2);					      \
CATAddClassExtension(CATUserSettingsManager);					      \
CATEndImplementClass(EDITOR##Factory);						      \
										      \
EDITOR##Factory::EDITOR##Factory(): CATEditorFactory() {}			      \
										      \
EDITOR##Factory::~EDITOR##Factory() {}						      \
										      \
unsigned char EDITOR##Factory::Support(const CATUnicodeString &amp; editName) const	      \
{										      \
  const CATUnicodeString editType = #TYPE;					      \
  return (editType == editName);						      \
}										      \
										      \
CATBaseUnknown * EDITOR##Factory::Create(const CATUnicodeString &amp; intfName) const \
{										      \
  if (!IsAuthorized(CATFrmMkStringFromDefine(_MK_FWNAME_)))			      \
    return NULL;								      \
  CATEditor * edit = new EDITOR;						      \
  CATBaseUnknown * itf = edit-&gt;QueryInterface((const char *)intfName);	              \
  edit-&gt;Release();                                                                    \
  return itf;	                                                                      \
}										      \
										      \
EDITOR##Factory::EDITOR##Factory(const EDITOR##Factory &amp; base):			      \
  CATEditorFactory(base) {}							      \
										      \
EDITOR##Factory&amp; EDITOR##Factory::operator=(const EDITOR##Factory &amp; base)	      \
{										      \
  CATEditorFactory::operator=(base);						      \
  return (*this);								      \
}

#endif 










</div>
    
    <div class="navigation">
        <div><a href="CATEditor.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATEditor.h</a></div>
        <div><a href="CATEditorPage.html">‰∏ã‰∏ÄÈ°µ: CATEditorPage.h ‚Üí</a></div>
    </div>
</body>
</html>