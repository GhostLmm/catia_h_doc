<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VisualizationBase/PublicInterfaces/list.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>VisualizationBase/PublicInterfaces/list.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="baselist.html">‚Üê ‰∏ä‰∏ÄÈ°µ: baselist.h</a></div>
        <div><a href="../../Visualization/PublicGenerated/win_b64/TIE_CATI2DGeoVisu.html">‰∏ã‰∏ÄÈ°µ: TIE_CATI2DGeoVisu.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef LIST_H
#define LIST_H

// COPYRIGHT DASSAULT SYSTEMES 1999

/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */


/** 
 * Class to create a list of pointers to objects.
 * &lt;br&gt;&lt;b&gt;HOW TO CREATE A LIST&lt;/b&gt; 
 * &lt;br&gt;list&lt;toto&gt; li;        empty list creation
 * &lt;br&gt;list&lt;toto&gt; li2(li);   copy-constructor 
 * &lt;br&gt; 
 * &lt;br&gt;&lt;b&gt;HOW TO ADD ELEMENTS&lt;/b&gt;
 * &lt;br&gt; 
 * &lt;br&gt;toto g1, g2, g3;   create some objects
 * &lt;br&gt;li += g1;          put pointers to each object into 
 * &lt;br&gt;li += g2;          the list. 
 * &lt;br&gt;li += g3;
 * &lt;br&gt; 
 * &lt;br&gt;You can also use pointers. example:
 * &lt;br&gt;toto * pg1 = new toto;
 * &lt;br&gt;li += pg1;
 * &lt;br&gt; 
 * &lt;br&gt;&lt;b&gt;HOW TO WRITE LOOPS&lt;/b&gt;
 * &lt;br&gt;
 * &lt;br&gt; To access the elements of the list, use the [] operator.
 * This operator tests for end-of-list and returns 0 if 
 * the index is beyond the end. 
 * &lt;br&gt; 
 * &lt;br&gt; The nicest form of loop, uses the [] operator behavior
 * as the end condition.
 * &lt;br&gt; 
 * &lt;br&gt;for(int i = 0; g = li[i]; i++)
 * &lt;br&gt;{
 * &lt;br&gt; g-&gt;draw();
 * &lt;br&gt;}
 * &lt;br&gt; 
 * &lt;br&gt;A more traditional form of loop, gets size first, not as pretty.
 * &lt;br&gt; 
 * &lt;br&gt;int siz = li.length();    Fetch length of list
 * &lt;br&gt; 
 * &lt;br&gt;for(int i = 0, i &lt; siz, i++)
 * &lt;br&gt;{
 * &lt;br&gt;    li[i]-&gt;draw();
 * &lt;br&gt;}
 * &lt;br&gt; 
 * &lt;br&gt;&lt;b&gt;HOW TO REMOVE ELEMENTS FROM THE LIST&lt;/b&gt;
 * &lt;br&gt; 
 * &lt;br&gt;li -= g1   Remove g1 from the list. 
 * &lt;br&gt; 
 * &lt;br&gt;li.empty();   Remove all elements from the list, leave
 * list in the same state as when it was 
 * first created. If you want to delete all
 * the objects in the list first (assuming
 * they were created with new) then do
 * &lt;br&gt; 
 * &lt;br&gt;for(int i = 0; g = li[i]; i++)
 * &lt;br&gt;{
 * &lt;br&gt;   delete g;
 * &lt;br&gt;}
 * &lt;br&gt; 
 * &lt;br&gt;li.empty(); 
 * &lt;br&gt; 
 * &lt;br&gt;&lt;b&gt;HOW TO REORDER THE LIST&lt;/b&gt;
 * &lt;br&gt; The swap call swaps the position of two elements. Like 
 *  this you can order the list if you want to. 
 * &lt;br&gt; 
 * &lt;br&gt;li.swap(2,5);   exchanges the position of the element in
 * position 2 and the element in position 5.
 * &lt;br&gt; 
 * &lt;br&gt;&lt;b&gt;NOTE - A FORM OF LOOPING THAT IS DELICATE&lt;/b&gt;
 * &lt;br&gt; This form of access uses an internal cursor:
 * &lt;br&gt; 
 * &lt;br&gt; operator ! sets the cursor to 0.
 * &lt;br&gt; operator ++ advances by 1 element and returns 0 at end. 
 * &lt;br&gt;
 * &lt;br&gt;&lt;b&gt;CORRECT USE&lt;/b&gt; of ! and ++. 
 * &lt;br&gt;
 * &lt;br&gt;for(!li; g = ++li;)             
 * &lt;br&gt;{
 * &lt;br&gt; g-&gt;draw();  
 * &lt;br&gt;}
 * &lt;br&gt;
 * &lt;br&gt;&lt;b&gt;BAD USE&lt;/b&gt; of ! and ++
 * &lt;br&gt;
 * &lt;br&gt;toto * g1, * g2;               BAD BAD BAD
 * &lt;br&gt;                               BAD BAD BAD
 * &lt;br&gt;for(!li; g1 = ++li;)           BAD BAD BAD
 * &lt;br&gt;{                              BAD BAD BAD !!!! 
 * &lt;br&gt; for(!li; g2 = ++li;)          BAD BAD BAD
 * &lt;br&gt; {                             BAD BAD BAD !!!! 
 * &lt;br&gt;  g1-&gt;draw_connection(g2);  
 * &lt;br&gt; }
 * &lt;br&gt;}     
 * &lt;br&gt;
 * &lt;br&gt;&lt;b&gt;GENERAL WARNING&lt;/b&gt;
 * &lt;br&gt;
 * &lt;br&gt;&lt;b&gt;THIS IS A LIST FOR OBJECTS&lt;/b&gt;. Do not use this list for storing
 * base types. Do not make any instances of list&lt;char&gt;, list
 * &lt;int&gt;, list&lt;double&gt;. This list is meant for OBJECTS. If you
 * must create character strings, use a &quot;String&quot; type object.
 */

#include &quot;baselist.h&quot;


template &lt;class T&gt; class list ;

// ---- Declaration of the friend function  operator &lt;&lt;
//      (needed because of a compilation problem on Windows)

template &lt;class T&gt; class list : public baselist&lt;T*&gt;
{
    

  public:

    /** Create an empty list of object&#x27;s pointers. */
    inline list() ;
	
    /** Addition assignement operator.
     * @param iObject
     * The object to add at the end of the list and if does not exist already
     * in the list.
     */
    inline void operator += ( T &amp; iObject ) ;
	
    /** Substraction assignement operator.
     * @param iObject
     * The object to remove of the list.
     */
    inline void operator -= ( T &amp; iObject ) ;
	
    /** Addition assignement operator.
     * @param iObject
     * The object to add at the end of the list and if does not exist already
     * in the list.
     */
    inline void operator += ( T * iObject ) ;
	
    /** Substraction assignement operator.
     * @param iObject
     * The object to remove of the list.
     */
    inline void operator -= ( T * iObject ) ;

    /** Add an object at the end of the list without control.
     * @param iObject
     * The object to add at the end of the list without control.
     */
    inline void fastadd (T &amp; iObject) ;

    /** Add an object at the end of the list without control.
     * @param iObject
     * The object to add at the end of the list without control.
     */
    inline void fastadd (T * iObject) ;

    /** Subscripting operator.
     * &amp;param iPosition
     * The object&#x27;s position in the list.
     * @return
     * The object&#x27;s pointer.
     */
    inline T * operator [] (int i) const ;

    /** Prefix increment operator.
     * @return
     * The object&#x27;s pointer.
     */
    inline T * operator ++ () ;
    
    /** Logical-negation operator.
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets the cursor to the top of the list.
     */
    inline void operator ! () ;

    /** Swap two objects in the list.
     * @param iObject1
     * The first object to swap.
     * @param iObject2
     * The second object to swap.
     */
    inline void swap(int iObject1, int iObject2) ;


    /** @nodoc */
    inline void fastinsert(T * t);
    /** @nodoc */
    inline void fastinsert(T &amp; t);
    /** @nodoc */
    inline void operator &lt;= (T * t);
    /** @nodoc */
    inline void operator &lt;= (T &amp; t);

    int cursor;   
};

template &lt;class T&gt; inline list&lt;T&gt;::list() : baselist&lt;T*&gt;() , cursor(0) {}

template &lt;class T&gt; inline void list&lt;T&gt;::operator += ( T &amp; t )
{
 if (!ismember(&amp;t))
   doadd(&amp;t);
}

template &lt;class T&gt; inline void list&lt;T&gt;::operator += ( T * t )
{ 
 if (t)
 {
  if (!ismember(t))
    doadd(t);
 }
}

template &lt;class T&gt; inline void list&lt;T&gt;::operator -= ( T &amp; t )
{ 
  int i = remove(&amp;t);
  if(i &lt; cursor) cursor--; 
}

template &lt;class T&gt; inline void list&lt;T&gt;::operator -= ( T * t )
{ 
  int i = remove(t);
  if(i &lt; cursor) cursor--;  
}

template &lt;class T&gt; inline void list&lt;T&gt;::fastadd (T &amp; t)
{
  doadd(&amp;t);
}

template &lt;class T&gt; inline void list&lt;T&gt;::fastadd (T * t)
{
  doadd(t);
}

template &lt;class T&gt; inline T * list&lt;T&gt;::operator [] (int i) const 
{ 
  return i &lt; this-&gt;size ? this-&gt;lis[i] : 0; 
}

template &lt;class T&gt; inline T * list&lt;T&gt;::operator ++ () 
{
  return cursor &lt; this-&gt;size ? this-&gt;lis[cursor++] : 0; 
}

template &lt;class T&gt; inline void list&lt;T&gt;::operator ! () { cursor = 0; }

template &lt;class T&gt; inline void list&lt;T&gt;::swap(int i, int j)
{
    if(i &gt;= this-&gt;size || j &gt;= this-&gt;size) return;
    T * t;
    t = this-&gt;lis[i];
    this-&gt;lis[i] = this-&gt;lis[j];
    this-&gt;lis[j] = t;
}

template &lt;class T&gt; inline void list&lt;T&gt;::fastinsert(T * t)
{
  insert(t);
}

template &lt;class T&gt; inline void list&lt;T&gt;::fastinsert(T &amp; t)
{
  insert(&amp;t);
}

template &lt;class T&gt; inline void list&lt;T&gt;::operator &lt;= (T * t)
{
  if (t)
  {
    if (!ismember(t))
      insert(t);
  }  
}

template &lt;class T&gt; inline void list&lt;T&gt;::operator &lt;= (T &amp; t)
{
  if (!ismember(&amp;t))
    insert(&amp;t);
}

#endif
</div>
    
    <div class="navigation">
        <div><a href="baselist.html">‚Üê ‰∏ä‰∏ÄÈ°µ: baselist.h</a></div>
        <div><a href="../../Visualization/PublicGenerated/win_b64/TIE_CATI2DGeoVisu.html">‰∏ã‰∏ÄÈ°µ: TIE_CATI2DGeoVisu.h ‚Üí</a></div>
    </div>
</body>
</html>