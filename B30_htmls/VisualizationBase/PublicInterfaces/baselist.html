<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VisualizationBase/PublicInterfaces/baselist.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>VisualizationBase/PublicInterfaces/baselist.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="RepWeakRefR10.html">‚Üê ‰∏ä‰∏ÄÈ°µ: RepWeakRefR10.h</a></div>
        <div><a href="list.html">‰∏ã‰∏ÄÈ°µ: list.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef BASELIST_H
#define BASELIST_H

// COPYRIGHT DASSAULT SYSTEMES 1999

/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */

/** 
 * @nodoc 
 * Class to create a list.
 */
#define MD(x) ((int)(x) % 10000)

template &lt;class T&gt; class baselist
{
  protected:

    int size;
    int startSize;
    int endSize;
    T * lis;
    
    /**
     * @nodoc
     */
    inline baselist() ;

    /**
     * @nodoc
     */
    inline baselist(const baselist&lt;T&gt; &amp; b) ;

    /**
     * @nodoc
     */
    inline ~baselist() ;

    /**
     * @nodoc
     */
    inline void fixStartSize() ;

    /**
     * @nodoc
     */
    inline void fixEndSize() ;

    /**
     * @nodoc
     */
    inline void doadd(const T &amp; t) ;

    /**
     * @nodoc
     */
    inline void add(const T &amp; t)   ;

    /**
      * @nodoc
      */
    inline void insert(const T &amp; t);


  public:
	      
    /**
     * @nodoc
     */
    inline int remove(const T &amp; t) ; 

    /** Indicates if the object&#x27;s pointer is in the list.
     * @param iObject
     * The object&#x27;s pointer tos search.
     * @return
     * The status.
     */
    inline int ismember(const T &amp; t) const ;
	
    /**
     * @nodoc
     */
    inline int index(const T &amp; t) const ;
        
    /** Indicates the length of the list.
     * @return
     * The length.
     */
    inline int length() const ;

    /** Empties the list. (but does not delete objects.)
     */
    inline void empty() ;

    /** Assignment operator.
     * &amp;param iObject
     * The list of object&#x27;s pointer to copy. 
     */
    inline void operator = (const baselist&lt;T&gt; &amp; iList) ;

} ;

template &lt;class T&gt; inline baselist&lt;T&gt;::baselist()

   : size(0),  startSize(0),endSize(0),lis(0) 
{}

template &lt;class T&gt; inline baselist&lt;T&gt;::baselist(const baselist&lt;T&gt; &amp; b)

  : size(0),  startSize(0),endSize(0),lis(0) 
{
   *this = b;
}

template &lt;class T&gt; inline void baselist&lt;T&gt;::empty()
{
   if ( lis ) delete [] (lis - startSize);
   size = 0;
   startSize = endSize = 0;
   lis  = 0;
}

template &lt;class T&gt; inline baselist&lt;T&gt;::~baselist() { empty(); }

template &lt;class T&gt; inline void baselist&lt;T&gt;::fixEndSize()
{
    if( !endSize )
    {
       endSize = (size == 0) ? 1 : size ;
       T * newlis = new T [startSize+size+endSize];
       newlis += startSize;
       for(int i = 0; i &lt; size; i++) 
         newlis[i] = lis[i];
       if ( lis ) delete [] (lis - startSize);
       lis = newlis;
    }
}

template &lt;class T&gt; inline void baselist&lt;T&gt;::fixStartSize()
{
    if(! startSize)
    {
       startSize = (size ==0 ? 1 : size);
       T * newlis = new T [startSize + size + endSize];
       newlis += startSize ;
       for(int i = 0; i &lt;size ; i++) newlis[i] = lis[i];
       if ( lis ) delete [] lis;
       lis = newlis;
    }
}

template &lt;class T&gt; inline void baselist&lt;T&gt;::doadd(const T &amp; t)
{
    fixEndSize() ;
    lis[size] = t ;
    endSize--;
    size++ ;
}

template &lt;class T&gt; inline void baselist&lt;T&gt;::insert(const T &amp; t)
{
    fixStartSize();
    lis[-1] = t;
    lis-=1;
    size++;
    startSize--;
}

template &lt;class T&gt; inline int baselist&lt;T&gt;::ismember(const T &amp; t) const
{
   return (index(t) &lt; 0) ? 0 : 1;
}

template &lt;class T&gt; inline void baselist&lt;T&gt;::add(const T &amp; t)
{
    if(!ismember(t)) doadd(t);
}

// return value is index of removed item
template &lt;class T&gt; inline int baselist&lt;T&gt;::remove(const T &amp; t)
{                        // (except in error case)
  int i = index(t);
  if(i &lt; 0 || i &gt;= size) return size;
  
  for(int j = i; j &lt; size-1; j++) lis[j] = lis[j+1];
  endSize++;
  size --;

  return i;
}

template &lt;class T&gt; inline int baselist&lt;T&gt;::index (const T &amp; t) const
{
    for(int i = size -1; i &gt;= 0; i--) if(lis[i] == t) return i;
    return -1;
}

template &lt;class T&gt; inline int baselist&lt;T&gt;::length() const 
{ return size; }

template &lt;class T&gt; inline void baselist&lt;T&gt;::operator = (const baselist&lt;T&gt; &amp; b)
{
  if ( lis ) 
    delete [] (lis - startSize);
  
  size = b.size;
  startSize = b.startSize;
  endSize = b.endSize;
  lis = 0;

  int s =size+startSize+endSize;

  if (s)
  {
    lis = new T [s];
    lis += startSize;

    for(int i = 0; i &lt; size; i++) lis[i] = b.lis[i];
  }
}

#endif




</div>
    
    <div class="navigation">
        <div><a href="RepWeakRefR10.html">‚Üê ‰∏ä‰∏ÄÈ°µ: RepWeakRefR10.h</a></div>
        <div><a href="list.html">‰∏ã‰∏ÄÈ°µ: list.h ‚Üí</a></div>
    </div>
</body>
</html>