<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnalysisMeshingToolsItf/PublicInterfaces/CATMSHSelectionTrapAgent.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>AnalysisMeshingToolsItf/PublicInterfaces/CATMSHSelectionTrapAgent.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATMSHOpenSmartSurfServices.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATMSHOpenSmartSurfServices.h</a></div>
        <div><a href="CATMSHSmartSurfSpecEdit.html">‰∏ã‰∏ÄÈ°µ: CATMSHSmartSurfSpecEdit.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATMSHSelectionTrapAgent_h
#define CATMSHSelectionTrapAgent_h

// COPYRIGHT DASSAULT SYSTEMES 2003

/**
 * @CAA2Level L0 
 * @CAA2Usage U1 
 */

#include &quot;MSHUITools.h&quot;
#include &quot;CATMSHTrapMode.h&quot;
#include &quot;CATStateCommand.h&quot;

class CATMSHDlgTrapType;
class CATIMSHTrapSelector;
class CATMSHSelectionTrap;
class CATIndicationAgent;  
class CATDialogAgent;
class CATViewer;
class CATDlgCheckButton;
class CATDlgDialog;
class CATDlgFrame;
class CATSO;

/**
 * @nodoc 
 */
typedef CATBoolean (CATCommand::*CATMSHTrapFilterMethod)(CATSO * Selection);


/**
 * Selection trap agent.
 * &lt;b&gt;Role&lt;/b&gt;: This dialog agent enable to selects objects using a trap.
 * It should be used along with another object that will build the selection from the trap contour.
 * see @href CATIMSHTrapSelector.
 */
class ExportedByMSHUITools CATMSHSelectionTrapAgent : public CATStateCommand
{
  CmdDeclareResource ( CATMSHSelectionTrapAgent, CATStateCommand );

public:

  /**
   * Constructs a selection trap agent. 
   * @param iId
   *   The agent identifier. It is used to retrieve the undo/redo titles in 
   *   the command message file.
   * @param iSelector
   *   Object that will build the selection from the trap contour.
   * @param iData
   *   An object that can be useful for the selection (see @href CATIMSHTrapSelector).
   */
	CATMSHSelectionTrapAgent ( const CATString&amp; iId , CATIMSHTrapSelector * iSelector , void * iData = NULL );

  /**
   * Destructor.
   */
	virtual ~CATMSHSelectionTrapAgent ();

  /**
   * Resets the valuation if the trap agent.
   */
  void InitializeAcquisition ();

  /**
   * Returns the list of selected objects.
   * &lt;br&gt;&lt;b&gt;Lifecycle rules deviation&lt;/b&gt;: This method doesn&#x27;t AddRef the 
   * returned list.
   */
  CATSO * GetListOfValues ();

  /**
   * Creates and returns a dialog agent that will be valuated when the user
   * is starting a trap selection i.e. when the user select one of the two icons of the trap selection window.
   * &lt;p&gt;This should be used if the selection trap agent have to be in parallel with other selection agents.
   * @return CATBaseUnknown#Release  
   */
  CATDialogAgent * CreateTriggerAgent ();

  /**
   * @nodoc 
   * Cration des boutons dans un frame,  utiliser pour
   * les intgrer dans une autre boite de dialogue.
   */
  void CreateButtons ( CATDlgFrame * Frame );

  /**
   * @nodoc 
   * Pour rajouter un filtre.
   */
  void SetFilter ( CATCommand * FilterCommand, CATMSHTrapFilterMethod FilterMethod );

  /**
   * @nodoc 
   * On adhre  l&#x27;Undo global.
   */
  virtual void BeforeUndo ();

  /**
   * @nodoc 
   * On adhre au Redo global.
   */
  virtual void BeforeRedo ();
 
private:

  /**
   * Structure ddie  l&#x27;undo global.
   */
  struct TrapUndoRedo
  {
    CATSO ** _Stack;     
    int      _StackSize; 
  };

  /**
   * Construction du graphe de la commande.
   */
  virtual void BuildGraph ();

  /**
   * Appel  la fin de vie de l&#x27;agent.
   */
  virtual CATStatusChangeRC Cancel ( CATCommand * Command , CATNotification * Notif );

  /**
   * Activation de l&#x27;agent.
   */
  virtual CATStatusChangeRC Activate ( CATCommand * Command , CATNotification * Notif );

  /**
   * Dsactivation de l&#x27;agent.
   */
  virtual CATStatusChangeRC Desactivate ( CATCommand * Command , CATNotification * Notif );

	boolean FirstIndicate ( void * Data );
	boolean OtherIndicate ( void * Data );
	boolean Move ( void * Data );
	boolean End ( void * Data );
	boolean TypeChanged ( void * Data );
	boolean Close ( void * Data );
	boolean Undo ( void * Data );
	boolean Redo ( void * Data );
	boolean CheckTrap ( void * Data );

  /**
   * Update de la table.
   */
  void Update();

  CATCommand *             _FilterCommand;
  CATMSHTrapFilterMethod   _FilterMethod;

  TrapUndoRedo *           _TrapUndoRedo;
	CATSO *                  _TrappedObjects;
  CATMSHDlgTrapType *      _TrapTypeWindow;
  CATDlgCheckButton *      _ButtonInter;
  CATDlgCheckButton *      _ButtonInclu;
      
	CATDialogAgent *       _End;
	CATDialogAgent *       _Cancel;
	CATDialogAgent *       _ModeAgent;
	CATDialogAgent *       _TriggerAgent;
  CATMSHTrapMode         _Mode;
	CATIndicationAgent *   _Indic;
	CATMSHSelectionTrap *  _Trap;
  CATIMSHTrapSelector *  _Selector;
  void *                 _Data;
  int                    _CanClose;
  int                    _Buttons;
  int                    _StackAlloc;
  int                    _CurrentIndex;
  int                    _State;
};

#endif 
</div>
    
    <div class="navigation">
        <div><a href="CATMSHOpenSmartSurfServices.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATMSHOpenSmartSurfServices.h</a></div>
        <div><a href="CATMSHSmartSurfSpecEdit.html">‰∏ã‰∏ÄÈ°µ: CATMSHSmartSurfSpecEdit.h ‚Üí</a></div>
    </div>
</body>
</html>