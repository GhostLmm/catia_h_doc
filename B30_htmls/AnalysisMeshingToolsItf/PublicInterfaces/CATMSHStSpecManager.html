<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnalysisMeshingToolsItf/PublicInterfaces/CATMSHStSpecManager.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>AnalysisMeshingToolsItf/PublicInterfaces/CATMSHStSpecManager.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATMSHStNode.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATMSHStNode.h</a></div>
        <div><a href="CATMSHStudioObject.html">‰∏ã‰∏ÄÈ°µ: CATMSHStudioObject.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATMSHStSpecManager_h
#define CATMSHStSpecManager_h
// COPYRIGHT Dassault Systemes 2004

/**
 * @CAA2Level L0 
 * @CAA2Usage U1
 */
//=============================================================================
//
// CATMSHStSpecManager :
//
// Management of Studio Specifications
//
//=============================================================================
// Juillet 2004  Cration                          Gerard Soubeyre
//=============================================================================
#include &quot;MSHStudio.h&quot;
#include &quot;CATMSHStudioStruct.h&quot;
#include &quot;CATIMSHStudioSpec.h&quot;
#include &quot;CATBaseUnknown.h&quot;
#include &lt;stddef.h&gt;
#include &lt;list.h&gt;

class CATMSHStudio;
class CATIMSHStudio;
class CATIMSHStudioSpec;
class CATMSHStudioObject;
class CATMSHStudioPartition;
class CATMSHHashPTab;
class CATMSHStSpecStream;
class CATIMSHLocalSpecification;
class CATIMSHMesherAccess;
class CATMSHStCaptureSpecManager;
class CATIMSHMeshPart;

class ExportedByMSHStudio CATMSHStSpecManager: public CATBaseUnknown
{

  friend class CATMSHStudio;
  friend class CATMSHStSpecStream;

// Mthodes et donnes membres publiques

public:

/**
 * Constructs a SpecManager
 */
  CATMSHStSpecManager ();
/**
 * Initialize the contains of the SpecManager
 * @return
 *   An HRESULT.
 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;&lt;dt&gt;S_OK&lt;/dt&gt;&lt;dd&gt;The Initialize is OK.
 *   &lt;dt&gt;E_FAIL&lt;/dt&gt;&lt;dd&gt;The Initialize failed.
 *   &lt;/dl&gt;
 * @param Studio
 *   Accociated Studio .
 * @param CATIMSHMesherAccess
 *   Accociated CATIMSHMesherAccess .
 */
  HRESULT Initialize( CATIMSHStudio * Studio, CATIMSHMesherAccess * Access );
/**
 * Remove the contains of the SpecManager
 * @return
 *   An HRESULT.
 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;&lt;dt&gt;S_OK&lt;/dt&gt;&lt;dd&gt;The Remove is OK.
 *   &lt;dt&gt;E_FAIL&lt;/dt&gt;&lt;dd&gt;The Remove failed.
 *   &lt;/dl&gt;
 */
  HRESULT Remove ();
/**
 * Create a mesh specification.
 * Example:
 * &lt;tt&gt;CATIMSHStudioSpec ** Spec = NULL;&lt;/tt&gt;&lt;dd&gt;
 * &lt;tt&gt;HRESULT hr = CreateSpec( &quot;SpecName&quot;, Spec );&lt;/tt&gt;&lt;dd&gt;
 * &lt;tt&gt;if ( FAILED ( hr ) ) return hr;&lt;/tt&gt;&lt;dd&gt;
 * @return
 *   An HRESULT.
 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;&lt;dt&gt;S_OK&lt;/dt&gt;&lt;dd&gt;Creation is OK.
 *   &lt;dt&gt;E_FAIL&lt;/dt&gt;&lt;dd&gt;Creation failed.
 *   &lt;/dl&gt;
 * @param Type
 *   @href CATClassId of the mesh specification
 * @param Spec [out, CATBaseUnknown#Release]
 *   The created mesh specification.
 */
  virtual HRESULT CreateSpec ( CATClassId Type, CATIMSHStudioSpec * &amp;Spec );
/**
 * Compute the compatibility data @href CATMSHStSpecCompatibility of a mesh specification.
 * @return
 *   An HRESULT.
 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;&lt;dt&gt;S_OK&lt;/dt&gt;&lt;dd&gt;Compute is OK.
 *   &lt;dt&gt;E_FAIL&lt;/dt&gt;&lt;dd&gt;Compute has failed.
 *   &lt;/dl&gt;
 * @param Spec
 *   The mesh specification to compute the compatibility with existing mesh sepcifications.
 * @param NbConflict
 *   The number of conflict between the &lt;tt&gt;Spec&lt;/tt&gt; and others mesh specifications.
 */
  virtual HRESULT ComputeCompatibility( CATIMSHStudioSpec * Spec, int &amp;NbConflict );
/**
 * Analyse la compatibilite entre 2 SpecConditions
 */
  int IsCompatible(const CATMSHStSpecCondition &amp;Cond1 , const CATMSHStSpecCondition &amp;Cond2 ) const;
/**
 * Register a mesh specification.
 * @return
 *   An HRESULT.
 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;&lt;dt&gt;S_OK&lt;/dt&gt;&lt;dd&gt;Register is OK.
 *   &lt;dt&gt;E_FAIL&lt;/dt&gt;&lt;dd&gt;Register has failed.
 *   &lt;/dl&gt;
 * @param Spec
 *   The mesh specification to register.
 */
  virtual HRESULT RegisterSpec ( CATIMSHStudioSpec * Spec );
/**
 * Register a mesh specification.
 * @return
 *   An HRESULT.
 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;&lt;dt&gt;S_OK&lt;/dt&gt;&lt;dd&gt;Removal is OK.
 *   &lt;dt&gt;E_FAIL&lt;/dt&gt;&lt;dd&gt;Removal failed.
 *   &lt;/dl&gt;
 * @param Spec
 *   The mesh specification to unregister.
 * @param DeleteMesh
 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;&lt;dt&gt;0&lt;/dt&gt;&lt;dd&gt;Remove mesh specification but keep the mesh.
 *   &lt;dt&gt;&gt;0&lt;/dt&gt;&lt;dd&gt;Remove both mesh specification and mesh.
 *   &lt;/dl&gt;
 */
  virtual HRESULT UnRegisterSpec (CATIMSHStudioSpec * Spec , int DeleteMesh=1 );
/**
 * Run a mesh specification.
 * @return
 *   An HRESULT.
 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;&lt;dt&gt;S_OK&lt;/dt&gt;&lt;dd&gt;Run is OK.
 *   &lt;dt&gt;E_FAIL&lt;/dt&gt;&lt;dd&gt;Run has failed.
 *   &lt;/dl&gt;
 * @param Spec
 *   The mesh specification to run.
 */
  virtual HRESULT ExecuteSpec ( CATIMSHStudioSpec * Spec );
/**
 * @nodoc
 * Chargement initial de toutes les specs
 */
  HRESULT LoadSpecs ();
/**
 * @nodoc
 * Gnration du maillage sur toutes les specifications
 */
  HRESULT MeshSpecifications();
/**
 * @nodoc
 * Gnration du maillage sur toutes les partitions se pretant au mailleur dedi
 */
  HRESULT MeshAutoDedicated(CATMSHStListOfPartitions &amp;Partitions);
/**
 * @nodoc
 * Mise a jour du maillage.
 */
  HRESULT Update(CATBaseUnknown * EventPublisherProgress=NULL, short MeshSpecifications = 1);
/**
 * @nodoc
 * Gnration du maillage sur une liste de partition
 */
  HRESULT Mesh(CATMSHStListOfPartitions &amp;Partitions);
/**
 * @nodoc
 * Remaillage des zones modifies
 */
  HRESULT ReMesh();
/**
 * @nodoc
 * Enregistrement de la spec par defaut
 */
  HRESULT SetDefaultSpec( CATIMSHStudioSpec * Spec );
/**
 * @nodoc
 * Lecture du MesherAccess
 */
  CATIMSHMesherAccess * GetMesherAccess() {return _MesherAccess;};
/**
 * Take account Specs in SizeMap
 */
  HRESULT UpdateSizeMap();
/**
 * @nodoc
 * Lecture de la spec par defaut
 */
  CATIMSHStudioSpec * GetDefaultSpec() {return _DefaultSpec;};
/**
 * @nodoc
 * Ajout d&#x27;une Spec sans impact sur le maillage ( unstream undo) 
 */
  HRESULT AddSpec ( CATIMSHStudioSpec * Spec );
/**
 * @nodoc
 * Retrait d&#x27;une Spec sans impact sur le maillage ( unstream undo ) 
 */
  HRESULT RemoveSpec ( CATIMSHStudioSpec * Spec, int DeleteMesh );
/**
 * @nodoc
 * Execution d&#x27;une spec maillage 
 */
  HRESULT UpdateSpec( CATIMSHStudioSpec * Spec, int WithImpact );
/**
 * @nodoc
 * Ajout dans la liste des specs en attente
 */
  virtual HRESULT AddStandbySpec ( CATIMSHStudioSpec * Spec );
/**
 * @nodoc
 * Enregistrement des specs en attente
 */
  virtual HRESULT RegisterStandbySpec ();
/**
 * @nodoc
 * Renvoie la spec invalide ( cree mais pas enregistree dans studio )
 */
  CATIMSHStudioSpec * GetTrashSpec ( int Index );
/**
 * @nodoc
 * Renvoie le nombre de specs invalides ( crees mais pas enregistrees dans studio )
 */
  int GetNumberOfTrashSpec ()  const ;
/**
 * @nodoc
 * Cree la table de specs invalides ( crees mais pas enregistrees dans studio )
 */
  HRESULT CreateTrashSpecTable ( int SizeOf );
/**
 * @nodoc
 * Ajoute la spec invalide ( cree mais pas enregistree dans studio )
 */
  int AddTrashSpec ( CATIMSHStudioSpec * Spec );
/**
 * @nodoc
 * Supprime la spec invalide ( cree mais pas enregistree dans studio )
 */
  int RemoveTrashSpec ( CATIMSHStudioSpec *&amp; Spec );
/**
 * @nodoc
 * Renvoie la liste des specs d&#x27;un type donne
 */
  HRESULT GetSpecs ( list &lt;CATIMSHStudioSpec&gt; &amp; ListOfSpecs, CATClassId Type = NULL );
/**
 * @nodoc
 * Renvoie la liste des specs d&#x27;un type donne
 */
  HRESULT FindSpec ( CATMSHStGeometryLink * Link, CATIMSHStudioSpec * &amp; Spec );
/**
 * @nodoc
 * Ecriture de Mode AutoDedicated 
 */
  virtual void SetDedicatedMode ( int Mode );
/**
 * @nodoc
 * Ecriture de Mode AutoDedicated 
 */
  virtual int GetDedicatedMode () { return _AutoDedicatedMode; };
/**
 * @nodoc
 * Mode AutoDedicated 
 */
  CATIMSHStudioSpec * GetDedicatedSpec () const { return _DedicatedSpec;};
/**
 * @nodoc
 * Mode AutoDedicated
 */
  virtual HRESULT SetDedicatedSpec (CATIMSHStudioSpec * Spec );
/**
 * Mise a jour Visu d&#x27;une spec
 */
  virtual HRESULT UpdateVisuSpec( CATIMSHStudioSpec * Spec );
/**
 * @nodoc
 * Mise a jour Visu des specs
 */
  virtual HRESULT UpdateVisualization();
/**
 * @nodoc
 * Recherche spec modele a partir de la spec studio
 */
  virtual HRESULT GetLocalSpecification( CATIMSHStudioSpec * StSpec, CATIMSHLocalSpecification * &amp;Local);
/**
 * @nodoc
 * Deconnexion d&#x27;une spec de ses partitions
 */
  virtual HRESULT DisconnectSpec (CATIMSHStudioSpec * StSpec, int DeleteMesh );
/**
 * @nodoc
 * Destruction d&#x27;une spec avec impact modele
 */
  virtual HRESULT DeleteSpec (CATIMSHStudioSpec * StSpec, int DeleteMesh=1 );
/**
 * @nodoc
 * Spec manager avec undo
 */
  virtual int WithUndo () const {return 1;};
/**
 * @nodoc
 * Lecture du capture manager
 */
  CATMSHStCaptureSpecManager * GetCaptureManager() {return _CaptureManager;};
/**
 * @nodoc
 * Ouverture/Fermeture du spec manager 
 */
  int OnClose() {return _OnClose;};
/**
 * @nodoc
 * Visualisation de toutes les specs
 */
  virtual HRESULT UpdateVisuSpecs();
  /**
 * @nodoc
 * Ajout d&#x27;une spec  visualiser
 */
  virtual HRESULT AddVisuSpec( CATIMSHStudioSpec * Spec );
/**
 * @nodoc
 * Lecture de la spec modifiee
 */
  CATIMSHStudioSpec * GetModifiedSpec (){return _ModifSpec;};
/**
 * @nodoc
 * Lecture de studio
 */
  CATIMSHStudio * GetStudio () const;

// Mthodes et donnes membres protected

protected:

/**
 * Destructeur
 */
  virtual ~CATMSHStSpecManager ();
/**
 * @nodoc
 * Ajout d&#x27;une spec 
 */
  virtual HRESULT AppendSpec (CATIMSHStudioSpec * Spec);
/**
 * @nodoc
 *  Retrait d&#x27;une spec
 */
  virtual HRESULT UnAppendSpec (CATIMSHStudioSpec * Spec);
/**
 * @nodoc
 *  Invalidation d&#x27;une spec
 */
  virtual HRESULT InvalidSpec (CATIMSHStudioSpec * Spec);
/**
 * @nodoc
 * Ecriture de la spec modifiee
 */
  void SetModifiedSpec ( CATIMSHStudioSpec * ModifSpec );
/**
 * @nodoc
 * Ecriture de l&#x27;tat de chargement de studio
 */
  void SetOnStream ( int OnStream ) {_OnStream=OnStream;};
/**
 * @nodoc
 * Lecture de l&#x27;tat de chargement de studio
 */
  int GetOnStream () const {return _OnStream;};

  // Donnes membres

  CATMSHStudio          * _Studio;
  CATIMSHMesherAccess   * _MesherAccess;
  CATIMSHMeshPart       * _MeshPart;  
  CATMSHStCaptureSpecManager * _CaptureManager;
  CATIMSHStudioSpec     * _DefaultSpec;
  CATIMSHStudioSpec     * _DedicatedSpec; 
  CATIMSHStudioSpec     * _ModifSpec;

  CATIMSHStudioSpec    ** _Specs;
  CATMSHHashPTab *        _TrashSpecTab;
  list&lt;CATIMSHStudioSpec&gt; _StandbySpecs;
  list&lt;CATIMSHStudioSpec&gt; _VisuSpecs;


  unsigned int            _NumberOfSpecs;
  unsigned int            _SizeOfSpecs;
  int                     _AutoDedicatedMode;
  int                     _OnClose;
  int                     _OnStream;


// Mthodes et donnes membres private

private:

/**
 * Constructeur recopie
 */
  CATMSHStSpecManager(const CATMSHStSpecManager &amp; Source );
/**
 * Operateur d&#x27;affectation
 */
  CATMSHStSpecManager&amp; operator=(const CATMSHStSpecManager &amp; Source );

};
#endif


</div>
    
    <div class="navigation">
        <div><a href="CATMSHStNode.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATMSHStNode.h</a></div>
        <div><a href="CATMSHStudioObject.html">‰∏ã‰∏ÄÈ°µ: CATMSHStudioObject.h ‚Üí</a></div>
    </div>
</body>
</html>