<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ENOVaultClientCPP/PublicInterfaces/ENOVIVaultSessionFactory.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ENOVaultClientCPP/PublicInterfaces/ENOVIVaultSessionFactory.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="ENOVIVaultSessionColl.html">‚Üê ‰∏ä‰∏ÄÈ°µ: ENOVIVaultSessionColl.h</a></div>
        <div><a href="ENOVIVaultUserSession.html">‰∏ã‰∏ÄÈ°µ: ENOVIVaultUserSession.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#include &quot;ENOVIVaultClientAPP.h&quot;

#ifndef ENOVIVaultSessionFactory_h
#define ENOVIVaultSessionFactory_h

// =================================================================
// COPYRIGHT DASSAULT SYSTEMES 2000
// =================================================================
// VPM (c) Copyright Dassault Systemes 2000
// -----------------------------------------------------------------
//
// Contents: ENOVIVaultSessionFactory, process client side.
//
// =================================================================

/**
 *  @CAA2Level L1
 *  @CAA2Usage U1
 */ 

//-----------------------------------------------------------------------------
// INCLUDES:
//-----------------------------------------------------------------------------
#include &quot;CATBoolean.h&quot;
#include &quot;CATUnicodeString.h&quot;
#include &quot;CATTypUtilit.h&quot;

#include &quot;ENOVIVaultError.h&quot;
#include &quot;ENOVIVaultSession.h&quot;
#include &quot;ENOVIVaultSessionColl.h&quot;

// TO BE DELIVERED IN R12
//class ServerTokenProvider;

class ENOVIVaultProperties;

//-----------------------------------------------------------------------------
// CLASS: ENOVIVaultSessionFactory
//-----------------------------------------------------------------------------

/**
 * Class to manage Vault sessions.
 * &lt;b&gt;role&lt;/b&gt;: This class provides static methods enabling to get and release @href ENOVIVaultSession objects. &lt;p&gt;
 * @version   V5R8
 */

class  ExportedByENOVIVaultClientAPP  ENOVIVaultSessionFactory
{
//
// Data member
//
protected :

   static ENOVIVaultSessionColl * _pENOVIVaultSessionColl;

//
// Methods
//
public :

// TO BE DELIVERED IN R12
/**
 * @nodoc
 * Retrieves the Vault session pertainning to the given parameters.
 * If the @href ENOVIVaultSession Object doesn&#x27;t exist yet, it will be created. &lt;br&gt;
 * @param ipServerTokenProvider [in] - the ServerTokenProvider object.
 * @param iIsTransactionMaster [in] - specifies if this process is transaction master.
 *     &lt;br&gt;&lt;b&gt;Legal Values&lt;/b&gt;: &lt;tt&gt;iAction&lt;/tt&gt; may be set to:
 *         &lt;dl&gt;
 *         &lt;dt&gt;&lt;tt&gt;CATTrue&lt;/tt&gt;  &lt;dd&gt;To indicate that the session will support all transaction related methods
 *         &lt;dt&gt;&lt;tt&gt;CATFalse&lt;/tt&gt; &lt;dd&gt;To indicate that the session will not support all transaction related methods. Meaning that it is part of multi-process transaction whose master is another vault session. In this case, the iTransactionMasterHostName and iTransactionMasterListenPort parameters are mandatory.
 *         &lt;/dl&gt; 
 * @param oppENOVIVaultSession [out] - Double pointer on ENOVIVaultSession Object.
 *     &lt;br&gt;&lt;b&gt;Lifecycle rules deviation&lt;/b&gt;: &lt;tt&gt;oppENOVIVaultSession&lt;/tt&gt; parameter must only be dealocated using the @href #endVaultSession method.
 * @param oVaultError [out] - Details about the error.
 * @return S_OK, VAULT_E_NOSESSION, E_FAIL
 * @since V5R11
 */
//   static HRESULT getVaultSession(const ServerTokenProvider * ipServerTokenProvider,
//                                  const CATBoolean          &amp; iIsTransactionMaster,
//                                        ENOVIVaultSession  ** oppENOVIVaultSession,
//                                        ENOVIVaultError     &amp; oVaultError);


/**
 * Retrieves the Vault session pertainning to the given parameters.
 * If the @href ENOVIVaultSession Object doesn&#x27;t exist yet, it will be created. &lt;br&gt;
 * @param ibvVaultSessionOId [in] - the vault user session object identifier.
 * @param iIsTransactionMaster [in] - specifies if this process is transaction master.
 *     &lt;br&gt;&lt;b&gt;Legal Values&lt;/b&gt;: &lt;tt&gt;iAction&lt;/tt&gt; may be set to:
 *         &lt;dl&gt;
 *         &lt;dt&gt;&lt;tt&gt;CATTrue&lt;/tt&gt;  &lt;dd&gt;To indicate that the session will support all transaction related methods
 *         &lt;dt&gt;&lt;tt&gt;CATFalse&lt;/tt&gt; &lt;dd&gt;To indicate that the session will not support all transaction related methods. Meaning that it is part of multi-process transaction whose master is another vault session. In this case, the iTransactionMasterHostName and iTransactionMasterListenPort parameters are mandatory.
 *         &lt;/dl&gt; 
 * @param oppENOVIVaultSession [out] - Double pointer on ENOVIVaultSession Object.
 *     &lt;br&gt;&lt;b&gt;Lifecycle rules deviation&lt;/b&gt;: &lt;tt&gt;oppENOVIVaultSession&lt;/tt&gt; parameter must only be dealocated using the @href #endVaultSession method.
 * @param oVaultError [out] - Details about the error.
 * @return S_OK, VAULT_E_NOSESSION, E_FAIL
 * @since V5R11
 */
   static HRESULT getVaultSession(const SEQUENCE_octet      &amp; ibvVaultSessionOId,
                                  const CATBoolean          &amp; iIsTransactionMaster,
                                        ENOVIVaultSession  ** oppENOVIVaultSession,
                                        ENOVIVaultError     &amp; oVaultError);


/**
 * Retrieves the Vault session pertainning to the given parameters.
 * If the @href ENOVIVaultSession Object doesn&#x27;t exist yet, it will be created. &lt;br&gt;
 * @param iTransactionMasterServerMarker [in] - Identifier of the server where the transaction manager is located.
 *     &lt;br&gt;&lt;b&gt;Legal Values&lt;/b&gt;: &lt;tt&gt;iAction&lt;/tt&gt; may be set to &quot;&quot; when the Vault session is transaction master
 * @param iTransactionMasterHostName [in] - Hostname of the transaction manager process.
 *     &lt;br&gt;&lt;b&gt;Legal Values&lt;/b&gt;: &lt;tt&gt;iAction&lt;/tt&gt; may be set to &quot;&quot; when the Vault session is transaction master
 * @param iTransactionMasterListenPort [in] - Listen port on which call the transaction manager
 *     &lt;br&gt;&lt;b&gt;Legal Values&lt;/b&gt;: &lt;tt&gt;iAction&lt;/tt&gt; may be set to 0 when the Vault session is transaction master.
 * @param iIsTransactionMaster [in] - specifies if this process is transaction master.
 *     &lt;br&gt;&lt;b&gt;Legal Values&lt;/b&gt;: &lt;tt&gt;iAction&lt;/tt&gt; may be set to:
 *         &lt;dl&gt;
 *         &lt;dt&gt;&lt;tt&gt;CATTrue&lt;/tt&gt;  &lt;dd&gt;To indicate that the session will support all transaction related methods
 *         &lt;dt&gt;&lt;tt&gt;CATFalse&lt;/tt&gt; &lt;dd&gt;To indicate that the session will not support all transaction related methods. Meaning that it is part of multi-process transaction whose master is another vault session. In this case, the iTransactionMasterHostName and iTransactionMasterListenPort parameters are mandatory.
 *         &lt;/dl&gt; 
 * @param oppENOVIVaultSession [out] - Double pointer on ENOVIVaultSession Object.
 *     &lt;br&gt;&lt;b&gt;Lifecycle rules deviation&lt;/b&gt;: &lt;tt&gt;oppENOVIVaultSession&lt;/tt&gt; parameter must only be dealocated using the @href #endVaultSession method.
 * @param oVaultError [out] - Details about the error.
 * @return S_OK, VAULT_E_NOSESSION, E_FAIL
 * @deprecated V5R12
 */
   static HRESULT getVaultSession(const CATUnicodeString &amp; iTransactionMasterServerMarker,
                                  const CATUnicodeString &amp; iTransactionMasterHostName,
                                  const int              &amp; iTransactionMasterListenPort,
                                  const CATBoolean       &amp; iIsTransactionMaster,
				  ENOVIVaultSession     ** oppENOVIVaultSession,
				  ENOVIVaultError        &amp; oVaultError);


/**
 * Terminates a Vault session.
 * @param iENOVIVaultSession [in] - Vault session to end.
 *     &lt;br&gt;&lt;b&gt;Lifecycle rules deviation&lt;/b&gt;: The &lt;tt&gt;iENOVIVaultSession&lt;/tt&gt; parameter will be deallocated.
 * @param oVaultError [out] - Details about the error.
 * @return S_OK, E_FAIL
 */
   static HRESULT endVaultSession(ENOVIVaultSession * ipENOVIVaultSession,
				  ENOVIVaultError   &amp; oVaultError);

/**
 * Terminates a Vault session proxy.
 * @param iENOVIVaultSession [in] - Vault session to end.
 *     &lt;br&gt;&lt;b&gt;Lifecycle rules deviation&lt;/b&gt;: The &lt;tt&gt;iENOVIVaultSession&lt;/tt&gt; parameter will be deallocated.
 * @param oVaultError [out] - Details about the error.
 * @return S_OK, E_FAIL
 */
   static HRESULT endVaultSessionProxy(ENOVIVaultSession * ipENOVIVaultSession,
                                       ENOVIVaultError   &amp; oVaultError);


/**
 * Retrieves the alias name of the default Vault session.
 * @param oDefaultAliasName [out] - Alias name of the default Vault session.
 * @param oVaultError [out] - Details about the error.
 * @return S_OK, E_FAIL
 * @since V5R7
 */

   static HRESULT getDefaultAliasName(CATUnicodeString &amp; oDefaultAliasName, 
                                      ENOVIVaultError  &amp; oVaultError);

/**
 * Retrieves the alias names of all the known Vaults.
 * @param oVaultAliasNamesliste [out] - Known Vaults alias names.
 * @param oVaultError [out] - Details about the error.
 * @return S_OK, E_FAIL
 * @since V5R7
 */

   static HRESULT getVaultAliasNames(CATListOfCATUnicodeString &amp; oVaultAliasNamesliste,
                                     ENOVIVaultError           &amp; oVaultError);

/**
 * @nodoc
 * Returns the ENOVIVaultProperties class.
 * @param oppENOVIVaultProperties [out] - the ENOVIVaultProperties class.
 * @param oVaultError [out] - Details about the error.
 * @return S_OK, E_FAIL
 * @since V5R13
 */

   static HRESULT getVaultPropertiesClass(ENOVIVaultProperties ** oppENOVIVaultProperties,
                                          ENOVIVaultError       &amp; oVaultError);

protected :

/**
 * @nodoc
 * Creates the ENOVIVaultSession object pertainning to the given parameters.
 * @param iTransactionMasterServerMarker [in] - Identifier of the server where the transaction manager is located
 * @param iTransactionMasterHostName [in] - Hostname of the transaction manager process.
 * @param iTransactionMasterListenPort [in] - Listen port on which call the transaction manager process.
 * @param iIsTransactionMaster [in] - specifies if this process is transaction master.
 * @param iSessionOId [in] - Session Object Identifier.
 * @param oppENOVIVaultSession [out] - double pointer on ENOVIVaultSession Object.
 * @param oVaultError [out] - Details about the error.
 * @return S_OK, VAULT_E_NOSESSION, E_FAIL
 * @since V5R7
 */
   static HRESULT createVaultSession(const CATUnicodeString   &amp; iTransactionMasterServerMarker,
                                     const CATUnicodeString   &amp; iTransactionMasterHostName,
                                     const int                &amp; iTransactionMasterListenPort,
                                     const CATBoolean         &amp; iIsTransactionMaster,
                                           ENOVIVaultSession ** oppENOVIVaultSession,
                                           ENOVIVaultError    &amp; oVaultError);


protected :

/**
 * @nodoc
 * Remove a ENOVIVaultSession object.
 * @param ipENOVIVaultSession [in] - pointer on ENOVIVault Session Object to remove.
 * @param oVaultError [out] - Details about the error.
 * @return S_OK, E_FAIL
 * @since V5R7
 */
static HRESULT removeVaultSession(ENOVIVaultSession * ipENOVIVaultSession,
				  ENOVIVaultError   &amp; oVaultError);


};


#endif
</div>
    
    <div class="navigation">
        <div><a href="ENOVIVaultSessionColl.html">‚Üê ‰∏ä‰∏ÄÈ°µ: ENOVIVaultSessionColl.h</a></div>
        <div><a href="ENOVIVaultUserSession.html">‰∏ã‰∏ÄÈ°µ: ENOVIVaultUserSession.h ‚Üí</a></div>
    </div>
</body>
</html>