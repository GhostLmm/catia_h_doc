<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DraftingInterfaces/PublicInterfaces/CATDftGenContext.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>DraftingInterfaces/PublicInterfaces/CATDftGenContext.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATDftGenBox3DDefs.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATDftGenBox3DDefs.h</a></div>
        <div><a href="CATDftGenEnum.html">‰∏ã‰∏ÄÈ°µ: CATDftGenEnum.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">//	COPYRIGHT DASSAULT SYSTEMES 1999
#ifndef CATDftGenContext_H
#define CATDftGenContext_H
/**
 * @CAA2Level L0
 * @CAA2Usage U0
 */
#include &quot;CATBaseUnknown.h&quot;
#include &quot;CATDraftingInterfaces.h&quot;
#include &quot;CATListPV.h&quot;
#include &quot;CatRepresentationMode.h&quot;

class CATIDftGenParamAccess;
class CATISpecObject;
class CATLISTP(CATMathPlane);
class CATIStringList;
class CATMathTransformation;
class CATMathPlane;
class CATIUnknownList;
class CATIDrawing;
class CATMathBox;
class IUnknown;
    /**
    * Definition of the object which describes the Generation Context
    */

class ExportedByDraftingItfCPP CATDftGenContext : public CATBaseUnknown
{
    
public:
    /**
    * Constructors.
    */
    CATDftGenContext(const CATDftGenContext&amp; iContext);
    CATDftGenContext(CATIStringList * iStringList);
    CATDftGenContext(const CATLISTP(CATMathPlane) * iPlaneList, CATIStringList * iStringList);
    
    /**
    * Destructor
    */
    virtual ~CATDftGenContext();
    
    /**
    * Returns the Planes of Projection.
    * @param oPlanes
    *  a CATLISTP(CATMathPlane) which describes the Projection Planes
    */
    virtual HRESULT GetPlanes(CATLISTP(CATMathPlane) ** oPlanes) const;

    /**
    * Returns the initial planes (those added at the construction of the context).
    * Does not take in account any previously applied transformation
    * * @param oPlanes
    *  a CATLISTP(CATMathPlane) which describes the initial Projection Planes
    */
    virtual HRESULT GetInitialPlanes(CATLISTP(CATMathPlane) ** oPlanes) const;

    /**
    * Sets the generative views which correspond to the planes set in the constructor
    * @param iGenViews
    *   the CATIUnknownList which contains the generative views
    */
    virtual HRESULT SetViews(CATIUnknownList * iGenViews);

    /**
    * Returns the views wich are associated to the CATMathPlane in argument.
    * @param iPlane
    *   the description of the input plane as a CATMathPlane
    * @param iIID
    *   the Identifier of the interfaces asked as return
    * @param oGenViews
    *   a CATIUnknownList which contains the views wich are associated to the CATMathPlane in argument
    */
    virtual HRESULT GetViews(const CATMathPlane * iPlane, const IID &amp; iIID, CATIUnknownList ** oGenViews) const;

    /**
    * Returns all the views.
    * @param iIID
    *   the Identifier of the interfaces asked as return
    * @param oGenViews
    *   a CATIUnknownList which contains all the views
    */
    virtual HRESULT GetViews(const IID &amp; iIID, CATIUnknownList ** oGenViews) const;
    
    /**
    * Returns the Description of the context of Generation as a CATIStringList.
    * @param oStringList
    *  a CATIStringList which represents the context of Generation
    */
    virtual HRESULT GetDescription(CATIStringList ** oStringList) const;
    
    /**
    * Returns the first IID to be used as a filter on responding feature type.
    * It also initialize the cursor for the NextIID method
    * @param oIID
    *   contains the next IID or NULL
    */
    virtual HRESULT GetFirstIID(IID ** oIID) const;

    /**
    * Returns the next IID stored in the CATDftGenContext.
    * @param oIID
    *   contains the next IID or NULL
    */
    virtual HRESULT NextIID(IID ** oIID) const;
    
    /**
    * Adds an IID to be used as a filter on responding feature type.
    */
    virtual HRESULT AddIID(const IID &amp; iIID);

    /**
    * Transforms the planes of this CATDftGenContext.
    * Keeps a reference on the original plane
    * @param iTransfo
    *   the transformation to be aplied to this context
    */
    virtual HRESULT Transform(CATMathTransformation * iTransfo);

    /**
    * Returns the global transformation applied to the context.
    * @param oTransfo
    *   the global transformation applied to the context
    */
    virtual HRESULT GetTransformation(CATMathTransformation ** oTransfo) const;
    
    /**
    * Compares two CATDftGenContext.
    * @param &lt;tt&gt;CATDftGenContext * iContext&lt;/tt&gt;
    * [in] the CATDftGenContext this must be compared with
    * @return
    * A &lt;tt&gt;HRESULT&lt;/tt&gt;
    * &lt;dl&gt;
    * &lt;dt&gt; &lt;tt&gt;S_OK&lt;/tt&gt;     &lt;dd&gt; the two contexts are the same
    * &lt;dt&gt; &lt;tt&gt;S_FALSE&lt;/tt&gt;     &lt;dd&gt; the two contexts are different
    * &lt;dt&gt; &lt;tt&gt;E_FAIL&lt;/tt&gt;   &lt;dd&gt; Did not  succeeded in comparing. No valid status
    * &lt;/dl&gt;
    */
    virtual HRESULT Compare(CATDftGenContext * iContext);
    
    
    /**
    * Sets the minimum and the maximum dimensions of the 3D Geometrical elements conidered
    * during the current extraction.
    * @param &lt;tt&gt;int iMinDim&lt;/tt&gt;
    * [in] Minimum dimension (between 0 and 3)
    * @param &lt;tt&gt;int iMaxDim&lt;/tt&gt;
    * [in] Maximum dimension (between 0 and 3)
    * @return
    * A &lt;tt&gt;HRESULT&lt;/tt&gt;
    * &lt;dl&gt;
    * &lt;dt&gt; &lt;tt&gt;S_OK&lt;/tt&gt;     &lt;dd&gt; Everything OK
    * &lt;dt&gt; &lt;tt&gt;E_INVLIDARG&lt;/tt&gt;   &lt;dd&gt; Bad values for Dim or iMinDim &gt; iMaxDim
    * &lt;/dl&gt;
    */
    virtual HRESULT SetMinMaxDim(int iMinDim, int iMaxDim);

    /**
    * Returns the minimum and the maximum dimensions of the 3D Geometrical elements conidered
    * during the current extraction.
    * @param &lt;tt&gt;int iMinDim&lt;/tt&gt;
    * [in] Minimum dimension (between 0 and 3)
    * @param &lt;tt&gt;int iMaxDim&lt;/tt&gt;
    * [in] Maximum dimension (between 0 and 3)
    * @return
    * A &lt;tt&gt;HRESULT&lt;/tt&gt;
    * &lt;dl&gt;
    * &lt;dt&gt; &lt;tt&gt;S_OK&lt;/tt&gt;     &lt;dd&gt; Everything OK
    * &lt;dt&gt; &lt;tt&gt;E_FAIL&lt;/tt&gt;   &lt;dd&gt; No Min or Max.
    * &lt;/dl&gt;
    */
    virtual HRESULT GetMinMaxDim(int * oMinDim, int * oMaxDim);
    
    /**
    * Sets the List of Links pointed by the first view of the viewlist
    * @param &lt;tt&gt;CATIUnknownList * iList&lt;/tt&gt;
    * [in] the List of Links pointed by the first view of the viewlist
    * @return
    * A &lt;tt&gt;HRESULT&lt;/tt&gt;
    * &lt;dl&gt;
    * &lt;dt&gt; &lt;tt&gt;S_OK&lt;/tt&gt;     &lt;dd&gt; Everything OK
    * &lt;dt&gt; &lt;tt&gt;E_FAIL&lt;/tt&gt;   &lt;dd&gt; iList NULL
    * &lt;/dl&gt;
    */
    virtual HRESULT SetLinkList(CATIUnknownList * iList);
    
    
    /**
    * Returns the List of Links pointed by the first view of the viewlist
    * @param &lt;tt&gt;CATIUnknownList ** oList&lt;/tt&gt;
    * [out] the List of Links pointed by the first view of the viewlist
    * @return
    * A &lt;tt&gt;HRESULT&lt;/tt&gt;
    * &lt;dl&gt;
    * &lt;dt&gt; &lt;tt&gt;S_OK&lt;/tt&gt;     &lt;dd&gt; Everything OK
    * &lt;dt&gt; &lt;tt&gt;E_FAIL&lt;/tt&gt;   &lt;dd&gt; No List Stored
    * &lt;/dl&gt;
    */
    virtual HRESULT GetLinkList(CATIUnknownList ** oList);
    
    /**
    * Sets the status, axis must be generated or not.
    * @param &lt;tt&gt;int iStatus&lt;/tt&gt;
    * [in] the status in question
    * @return
    * A &lt;tt&gt;HRESULT&lt;/tt&gt;
    * &lt;dl&gt;
    * &lt;dt&gt; &lt;tt&gt;S_OK&lt;/tt&gt;     &lt;dd&gt; Everything OK
    * &lt;/dl&gt;
    */
    virtual HRESULT SetAxisLineGeneration(int iStatus);
    
    /**
    * Returns the status, axis must be generated or not.
    * @param &lt;tt&gt;int * oStatus&lt;/tt&gt;
    * [out] the status in question
    * @return
    * A &lt;tt&gt;HRESULT&lt;/tt&gt;
    * &lt;dl&gt;
    * &lt;dt&gt; &lt;tt&gt;S_OK&lt;/tt&gt;     &lt;dd&gt; Everything OK
    * &lt;dt&gt; &lt;tt&gt;E_INVALIDARG&lt;/tt&gt;   &lt;dd&gt; oStatus NULL
    * &lt;/dl&gt;
    */
    virtual HRESULT GetAxisLineGeneration(int * oStatus);

    /**
    * Sets the list of 3D operators to apply on geometry.
    * These can be used at this stage for instance to exclude
    * some objects of the view a-priori.
    * @param &lt;tt&gt;CATIUnknownList * oList&lt;/tt&gt;
    * [in] the list of operators
    * @return
    * A &lt;tt&gt;HRESULT&lt;/tt&gt;
    * &lt;dl&gt;
    * &lt;dt&gt; &lt;tt&gt;S_OK&lt;/tt&gt;     &lt;dd&gt; Everything OK
    * &lt;/dl&gt;
    */
    virtual HRESULT Set3DOperatorList (CATIUnknownList * oList);

    /**
    * Returns the list of 3D operators to apply on geometry.
    * These can be used at this stage for instance to exclude
    * some objects of the view a-priori.
    * @param &lt;tt&gt;CATIUnknownList ** oList&lt;/tt&gt;
    * [out] the list of operators
    * @return
    * A &lt;tt&gt;HRESULT&lt;/tt&gt;
    * &lt;dl&gt;
    * &lt;dt&gt; &lt;tt&gt;S_OK&lt;/tt&gt;     &lt;dd&gt; Everything OK
    * &lt;/dl&gt;
    */
    virtual HRESULT Get3DOperatorList (CATIUnknownList ** oList) const;
    
	/**
      * @nodoc
      * DO NOT USED   
      */
    virtual HRESULT Set3DPointGeneration(int iStatus);

	/**
      * @nodoc
      * - DO NOT USED -
      */
    virtual HRESULT Get3DPointGeneration(int * oStatus);

    /**
    * Turn ON/OFF the generation Mode.
    * There are two steps in the drafting generation algorithm:
    * the preview and the actual generation.
    * During the preview, some information (projection plane,...)
    * are not available in the context, 
    *   the Step is set to FALSE (0).
    * During the generation, all the information are available,
    *   the Step is set to TRUE  (1). (by default, when the context is created)
    * @param &lt;tt&gt;int iStep&lt;/tt&gt;
    * [in] the Generation Step
    * @return
    * A &lt;tt&gt;HRESULT&lt;/tt&gt;
    * &lt;dl&gt;
    * &lt;dt&gt; &lt;tt&gt;S_OK&lt;/tt&gt;     &lt;dd&gt; Everything OK
    * &lt;/dl&gt;
    */
    virtual HRESULT SetGenerationStep (const int iStep);

    /**
    * Returns the generation Step
    * There are two steps in the drafting generation algorithm:
    * the preview and the actual generation.
    * During the preview, some information (projection plane,...)
    * are not available in the context, 
    *   the Step is set to FALSE (0).
    * During the generation, all the information are available,
    *   the Step is set to TRUE  (1). (by default, when the context is created)
    * @param &lt;tt&gt;int &amp;oStep&lt;/tt&gt;
    * [out] the Generation Step
    * @return
    * A &lt;tt&gt;HRESULT&lt;/tt&gt;
    * &lt;dl&gt;
    * &lt;dt&gt; &lt;tt&gt;1&lt;/tt&gt;     &lt;dd&gt; information (projection plane,...) available
    * &lt;dt&gt; &lt;tt&gt;0&lt;/tt&gt;     &lt;dd&gt; information not available
    * &lt;/dl&gt;
    */
    virtual HRESULT GetGenerationStep (int *oStep) const;

    /**
    * @nodoc
    * - DO NOT USED -
    * Retrieves the generated geometry representation mode.
    * @param oRepMode 
    *  The different modes of representation 
    *  &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: Possible values are catExactMode (2D geometry
	*  generated from topological data) or catPolyhedricMode (2D geometry generated from CGR).
    * @return
    * &lt;dt&gt;&lt;tt&gt;S_OK&lt;/tt&gt; &lt;dd&gt;if operation succeeded.
    * &lt;dt&gt;&lt;tt&gt;E_FAIL&lt;/tt&gt; &lt;dd&gt;if an unspecified failure has occurred.
    * &lt;/dl&gt;
    */
    virtual HRESULT GetRepresentationMode (CatRepresentationMode * oRepMode) const;
    
    /**
    * Sets the generated geometry representation mode.
    * @param iRepMode 
    *  The different modes of representation 
    *  &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: Possible values are catExactMode (generated geometry
	*  comes from topological data) or catPolyhedricMode (geometry comes from CGR).
    * @return
    * &lt;dt&gt;&lt;tt&gt;S_OK&lt;/tt&gt; &lt;dd&gt;if the operation succeeded.
    * &lt;dt&gt;&lt;tt&gt;E_FAIL&lt;/tt&gt; &lt;dd&gt;if the drawing view owns a detail, section or breakout 
	* specification, or if an unspecified failure has occurred.
    * &lt;/dl&gt;
	*/
	/**
      * @nodoc
      * - DO NOT USED -
      */
    virtual HRESULT SetRepresentationMode (const CatRepresentationMode iRepMode);
	/**
      * @nodoc
      * - DO NOT USED -
      */
    virtual HRESULT GetGenParamAccess(CATIDftGenParamAccess** oPtr);
	/**
      * @nodoc
      * DO NOT USED   
      */
    virtual HRESULT SetGenParamAccess(CATIDftGenParamAccess* iPtr);

    virtual HRESULT GetSubElementIdentifier(int *oIdentifier) const;
    virtual HRESULT SetSubElementIdentifier(const int iIdentifier);

    virtual HRESULT SetLastShapeFeature(CATISpecObject *iLastShapeFeature);
    virtual HRESULT GetLastShapeFeature(CATISpecObject **oLastShapeFeature);


	/**
    * Determines if a string is contained in the Description. 
    * @return
    * &lt;dt&gt;&lt;tt&gt;S_OK&lt;/tt&gt; &lt;dd&gt;if the string is contained in Description.
    * &lt;dt&gt;&lt;tt&gt;S_FALSE&lt;/tt&gt; &lt;dd&gt;if not.
	* &lt;dt&gt;&lt;tt&gt;E_FAIL&lt;/tt&gt; &lt;dd&gt;internal error.
    * &lt;/dl&gt;
	*/
	/**
      * @nodoc
      * DO NOT USED   
      */
	virtual HRESULT IsStringContainedInDescription(CATUnicodeString &amp; iString) const;

    virtual HRESULT GetCurrentViewScale(double &amp; scale);
    virtual HRESULT SetCurrentViewScale(double scale);

    virtual HRESULT SetCurrentDrawing(CATIDrawing* idrawing);
    virtual HRESULT GetCurrentDrawing(CATIDrawing** odrawing);
        
    virtual HRESULT SetCurrentViewVersion(int iVer);
    virtual HRESULT GetCurrentViewVersion(int &amp; oVer);

    virtual HRESULT Get3DEncumbrancy(CATMathBox ** oBox, CATMathPlane * iWosPlane = NULL);

    virtual HRESULT SetProduct(IUnknown * iProduct);
    virtual HRESULT GetProduct(const IID &amp; iIID, IUnknown ** oProduct);
	/**
	* @nodoc */
    virtual HRESULT AddDescription(CATUnicodeString iDescription);

private : 
    CATDftGenContext();
    CATDftGenContext&amp; operator = (const CATDftGenContext &amp;);

    CATLISTP(CATMathPlane) * 	  _Planes;
    CATLISTP(CATMathPlane) * 	  _TransformedPlanes;
    CATIStringList * 		        _Description;
    CATListPV * 	              _IIDs; 
    int                         _Cursor;
    CATMathTransformation *     _Transfo;
    CATIUnknownList *           _GenViewList;
    int                         _MinDim;
    int                         _MaxDim;
    CATIUnknownList *           _LinkList;
    int                         _AxisLineGeneration;
    int                         _3DPointGeneration;  
    CATIUnknownList *           _OperatorList;
    int                         _GenerationStep;
	CATIDftGenParamAccess*		_GenParamAccessPtr;
	CatRepresentationMode		_RepMode;
    int                         _Identifier;
	CATISpecObject * _LastShapeFeature;
    CATIDrawing* _CurrentDrawing;
    double _CurrentViewScale;
    int _CurrentViewVersion;
    IUnknown * _CurrentProduct;
};
#endif
</div>
    
    <div class="navigation">
        <div><a href="CATDftGenBox3DDefs.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATDftGenBox3DDefs.h</a></div>
        <div><a href="CATDftGenEnum.html">‰∏ã‰∏ÄÈ°µ: CATDftGenEnum.h ‚Üí</a></div>
    </div>
</body>
</html>