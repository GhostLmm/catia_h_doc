<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MechanicalCommands/PublicInterfaces/CATIUdfFeature.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>MechanicalCommands/PublicInterfaces/CATIUdfFeature.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATIUdfFactory.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATIUdfFactory.h</a></div>
        <div><a href="CATIUdfFeatureInstance.html">‰∏ã‰∏ÄÈ°µ: CATIUdfFeatureInstance.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">/* -*-c++-*- */
#ifndef CATIUdfFeature_H
#define CATIUdfFeature_H
// -------------------------------------------------------------------
// Copyright Dassault Systemes 1999
//---------------------------------------------------------------------
/**
 * @CAA2Level L1
 * @CAA2Usage U3
 */
#include &quot;CATUdfInterfaces.h&quot;
#include &quot;CATBaseUnknown.h&quot;
#include &quot;CATLISTV_CATBaseUnknown.h&quot;

class CATUnicodeString;
class CATPathElement;
class CATILinkableObject_var;
class CATPixelImage;

#ifndef LOCAL_DEFINITION_FOR_IID
extern ExportedByCATUdfInterfaces IID IID_CATIUdfFeature ;
#else
extern &quot;C&quot; const IID IID_CATIUdfFeature ;
#endif

//------------------------------------------------------------------
/**
  * Interface to define a User Feature or a Power Copy reference.
  * &lt;b&gt;Role:&lt;/b&gt; This interface enables to define a user feature (or a power
  * copy) reference. 
  * &lt;br&gt; After the @href CATIUdfFactory#CreatePowerCopy or @href CATIUdfFactory#CreateUserFeature
  * you can define with this interface the content of the user feature (or the power copy)
  * reference.
  * &lt;br&gt;&lt;br&gt;A feature is defined by its components. So by the @href #SetComponents method you 
  * define it. After this call, &lt;b&gt;and only after&lt;/b&gt;, you can use these following methods:
  * &lt;ul&gt;
  * &lt;li&gt;About inputs:&lt;/li&gt;
  * @href #GetInputsNumber , 
  * @href #GetListInputs , 
  * @href #GetInputRole , 
  * @href #SetInputRole , 
  * @href #GetInput . 
  * &lt;li&gt;About parameters:&lt;/li&gt;
  * @href #GetInternalParameters , 
  * @href #GetParameters , 
  * @href #AddParameter , 
  * @href #RemoveParameter , 
  * @href #GetParameterRole , 
  * @href #SetParameterRole .
  * &lt;/ul&gt;
  * The method @href #VerifyComponents can be used &lt;b&gt;before&lt;/b&gt; the @href #SetComponents method.
  * If the result of the verification is OK you can call &lt;tt&gt;SetComponents&lt;/tt&gt; with the same list 
  * of component. (It is certainely the best way) 
  * &lt;br&gt;But you can also call @href #VerifyComponents &lt;b&gt;after&lt;/b&gt; the @href #SetComponents method. 
  * In this case its argument is NULL. But if the result of the verification is KO, 
  * you must delete this current reference and recreate a new one. &lt;b&gt;It is impossible to call 
  * twice the &lt;tt&gt;SetComponents&lt;/tt&gt; method. &lt;/b&gt;
  * &lt;br&gt;
  * &lt;br&gt;&lt;b&gt;What is a role ?&lt;/b&gt;
  * &lt;br&gt;For each input, or published parameter you can set a NLS string to define a role. It is 
  * a mean to understand the &lt;tt&gt;role&lt;/tt&gt; of the input or the parameter. This string 
  * appears in the instantiate dialog box, and in the edit dialog box. 
  * In the case of the parameter, the role appears also in the specifications tree under the 
  * User Feature reference and under each User Feature instances. 
  * &lt;br&gt;&lt;br&gt;&lt;b&gt;Warning&lt;/b&gt;
  * &lt;ol&gt;
  * &lt;li&gt;During the creation step, you can use all the methods of this interface, but never modify
  *  object given by the following methods: @href #GetReferenceComponents, @href #GetListInputs, 
  *  @href #GetInput, @href #GetInternalParameters, @href #GetParameters, @href #GetPreview &lt;/li&gt;
  * &lt;li&gt;After the creation step, you can only used the &lt;tt&gt;Get&lt;/tt&gt; methods, but with 
  * the same restriction for the methods given just above. &lt;/li&gt;
  * &lt;/ol&gt;
  */
class ExportedByCATUdfInterfaces CATIUdfFeature: public CATBaseUnknown
{
   CATDeclareInterface;
public:
   
   /** 
     * Update the list of components with the user selection.
     *&lt;br&gt;&lt;b&gt;Role&lt;/b&gt;:
     * This method enables to update the elements to add the the components
     * list definition. It checks if the element canbe selected for the selection
     * It&#x27;s mainly used for interactive purpose.
     * @param iSelection
     *   The selection of the user.
     * @param ioComponents
     *   The components list that must be updated. This list is prefilled with the
     *   current components definition. Indeed an element can be added only if a
     *   another is already in the component list. 
     * @param oMessage
     *   NLS Message to explain why the element cannot be added.
     * &lt;br&gt;An error is returned if the element cannot be selected
     */
   virtual HRESULT AddComponents(const CATPathElement* iSelection,
                                 CATListValCATBaseUnknown_var&amp; ioComponents,
                                 CATUnicodeString &amp; oMessage) = 0;
   
   /**
     * Checks the validity of a list of components.
     *&lt;br&gt;&lt;b&gt;Role&lt;/b&gt;:
     * This method verifies that the instantiation will be OK with these components.
     * If the result is OK, you can call the @href #SetComponents with the same list.
     * &lt;br&gt;If you call this method after the @href #SetComponents , iComponent is NULL,
     * but if the result if KO, you must delete the reference and recreate an another one.
     * @param iComponents
     *   List of components to check, if NULL, we take the components already selected.
     * @param oMessage
     *   NLS Message to explain the fail.
     * &lt;br&gt;An error is returned if you try to include a link to a sub element which is not in the
     * selection, or if you try to include a feature without implementing Replace interfaces.
     */
   virtual HRESULT VerifyComponents (const CATListValCATBaseUnknown_var* iComponents,
                                     CATUnicodeString &amp; oMessage) = 0;

   /**
     * Sets a list of components.
     * &lt;br&gt;&lt;b&gt;Role:&lt;/b&gt; Define the content of the reference.
     * &lt;br&gt;&lt;b&gt;Warning&lt;/b&gt; You can call this method only once. see @href #VerifyComponents 
     * @param iListe
     *   new list of feature to include in the Power Copy or User Feature reference
     */
   virtual HRESULT SetComponents (CATListValCATBaseUnknown_var* iListe) = 0;

   /**
     * Retrieves all referenced components.
     * &lt;br&gt;&lt;b&gt;Role:&lt;/b&gt;These features are the components selecting during de creation step.
     * &lt;br&gt;&lt;b&gt;Warning&lt;/b&gt;:The content of the list is not necessary the same as the list 
     * given to @href #SetComponents, and the order can also be modified.
     * @return
     *   List of components. The list is NULL while the @href #SetComponents method is not called.
     */
   virtual CATLISTV(CATBaseUnknown_var)* GetReferenceComponents() = 0;

   /**
     * Retrieves all inputs and their role.
     * @param oInputList
     *   List of all inputs.
     * @param oInputRoleList
     *   list of the role of all inputs.
     */
   virtual HRESULT GetListInputs (CATListValCATBaseUnknown_var*&amp; oInputList,
                                  CATListOfCATUnicodeString*&amp; oInputRoleList) = 0;

   /**
     * Retrieves inputs count.
     * @param oInputCount
     *   Count of inputs.
     */
   virtual HRESULT GetInputsNumber (int&amp; oInputCount) = 0;

   /**
     * Retrieves the role of one input.
     * @param iPos
     *   input position, from 1 to @href #GetInputsNumber.
     * @param oRole
     *   The role of the iPos input.
     */
   virtual HRESULT GetInputRole (const int iPos,
                                 CATUnicodeString &amp; oRole) = 0;

   /**
     * Modifies the role of one input.
     * @param iPos
     *   input position, from 1 to @href #GetInputsNumber.
     * @param iRole
     *  The role of the iPos input.
     */
   virtual HRESULT SetInputRole (const int iPos,
                                 const CATUnicodeString &amp;iRole) = 0;

   /**
     * Retrieves one input.
     * @param iPos
     *   input position, from 1 to @href #GetInputsNumber.
     * @param oInputValue
     *   The iPos input.
    */
   virtual HRESULT GetInput (const int iPos,
                             CATBaseUnknown_var&amp; oInputValue) = 0;

   /**
     * Retrieves all available parameters.
     * @param oParamList
     *   liste of available parameters
     */
   virtual HRESULT GetInternalParameters (CATListValCATBaseUnknown_var* &amp;  oParamList) = 0;

   /**
     * Retrieves all published parameters.
     * @param oPublishedParamList
     *   List of published parameters. 
     *   &lt;br&gt;A parameter is published thanks to the 
     *   @href #AddParameter method.
     *   &lt;br&gt;This list is a sub-list of the list given by @href #GetInternalParameters. 
     *
     */
   virtual HRESULT GetParameters (CATListValCATBaseUnknown_var* &amp; oPublishedParamList) = 0;

   /**
     * Publishes a parameter.
     * @param iParamToPublish
     *   This parameter should be in the list given by @href #GetInternalParameters.
     */
   virtual HRESULT AddParameter (const CATBaseUnknown_var&amp; iParamToPublish) = 0;

   /**
     * Un-Publishes a parameter.
     * @param iParamToUnpublish
     *   This parameter should be in the list given by @href #GetInternalParameters.
     */
   virtual HRESULT RemoveParameter (const CATBaseUnknown_var&amp; iParamToUnpublish) = 0;

   /**
     * Retrieves the role of one published parameter. 
     * @param iSpec
     *   A published parameter. iSpec must be in the list returned by the @href #GetParameters
     *   method.
     * @param oRole
     *   The role of the iSpec parameter
     */
   virtual HRESULT GetParameterRole (const CATBaseUnknown_var&amp; iSpec,
                                     CATUnicodeString &amp; oRole) = 0;

   /**
     * Modifies the role of one published parameter. 
     * @param iSpec
     *   A published parameter. iSpec must be in the list returned by the @href #GetParameters
     *   method.
     * @param iRole
     *   The role of the iSpec parameter
     */
   virtual HRESULT SetParameterRole (const CATBaseUnknown_var&amp; iSpec,
                                     const CATUnicodeString &amp;iRole) = 0;
   /**
     * @nodoc 
     * Retrieves all external links.
     * @param oExternalLinks
     *   liste of CATIExternalLink*
     */
   virtual HRESULT GetExternalLinks (CATListValCATBaseUnknown_var*&amp; oExternalLinks) = 0;

   /**
     * Sets a pixel image as preview.
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;:This pixelimage will be embedded and used for preview in catalog. These
     * catalog are &lt;tt&gt;.catalog&lt;/tt&gt; files.
     * @param iImage
     *   A pixel image with 130*110 size.
     */
   virtual HRESULT SetPreview (CATPixelImage* iImage) = 0;

   /**
     * Retrieves the associated pixel image as preview.
     * @param oImage
     *   A pixel image with 130*110 size.
     */
   virtual HRESULT GetPreview (CATPixelImage*&amp; oImage) = 0;

};

//------------------------------------------------------------------

CATDeclareHandler (CATIUdfFeature, CATBaseUnknown);

#endif
</div>
    
    <div class="navigation">
        <div><a href="CATIUdfFactory.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATIUdfFactory.h</a></div>
        <div><a href="CATIUdfFeatureInstance.html">‰∏ã‰∏ÄÈ°µ: CATIUdfFeatureInstance.h ‚Üí</a></div>
    </div>
</body>
</html>