<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mathematics/PublicInterfaces/CATMathLine.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Mathematics/PublicInterfaces/CATMathLine.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATMathLimits.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATMathLimits.h</a></div>
        <div><a href="CATMathLine2D.html">‰∏ã‰∏ÄÈ°µ: CATMathLine2D.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATMathLine_H
#define CATMathLine_H


// COPYRIGHT DASSAULT SYSTEMES  1999

/**
* @CAA2Level L1
* @CAA2Usage U1
*/ 

#include &quot;CATMathematics.h&quot;
#include &quot;IUnknown.h&quot;
#include &quot;CATIACGMLevel.h&quot;



class CATMathPlane;
class CATMathCircle;
/** @c++ansi fbq 2004-08-05.10:18:26 [Replace forward declaration by #include &lt;iosfwd.h&gt;] **/
#ifdef _CAT_ANSI_STREAMS
#include &lt;iosfwd.h&gt;
#else
class ostream;
#endif

#include &quot;CATMathBox.h&quot;

#include &quot;CATMathCurve.h&quot;
#include &quot;CATMathPoint.h&quot;
#include &quot;CATMathVector.h&quot;
#include &quot;CATMathDirection.h&quot;
#include &quot;CATMathPlane.h&quot;


class CATMathLine;
/** @nodoc */
ExportedByCATMathematics double Distance(const CATMathLine &amp; iLine1,
					   const CATMathLine &amp; iLine2,
					   double &amp; oParamOnLine1, double &amp; oParamOnLine2,
					   CATLONG32 &amp; oDiagnosis);


/** @nodoc */
ExportedByCATMathematics double Distance(const CATMathPoint &amp; iPoint,
					   const CATMathLine &amp;iLine);

/** @nodoc */
ExportedByCATMathematics int Intersect(const CATMathLine &amp; iLine1,
					 const CATMathLine &amp; iLine2,
					 double iStartParam1, double iEndParam1,
					 double iStartParam2, double iEndParam2,
					 double iTol,
					 double &amp; oParamOnLine1, double &amp; oParamOnLine2);

/** @nodoc */
ExportedByCATMathematics int Intersect(const CATMathLine &amp; iLine,
					 const CATMathCircle &amp; iCircle,
					 double iStartParam1, double iEndParam1,
					 double iStartParam2, double iEndParam2,
					 double iTol,
					 double oParamOnLine[2], double oParamOnCircle[2]);

/** @nodoc */
ExportedByCATMathematics void Projection(const CATMathPoint &amp; iPointToProject,
					   const CATMathLine &amp; iOnLine,
					   double &amp; oParamOnLine);


/** @nodoc */
ExportedByCATMathematics CATMathPoint Projection(const CATMathPoint &amp; iPointToProject,
							   const CATMathLine &amp; iOnLine);





/**
* Class representing an untrimmed 3D mathematical line.
* &lt;br&gt;It is composed of an &lt;tt&gt;_Origin&lt;/tt&gt; (CATMathPoint),
* a normalized vector &lt;tt&gt;_Direction&lt;/tt&gt; (CATMathVector),
* and a scale &lt;tt&gt;_Scale&lt;/tt&gt;.
* The parameterization of the CATMathMathLine is defined as follows:
* &lt;tt&gt;Line(Param) = Line._Origin + &lt;b&gt;Param&lt;/b&gt; * Line._Scale * Line._Direction&lt;/tt&gt;,
* where &lt;tt&gt;Param&lt;/tt&gt; is the parameter.
*/
class ExportedByCATMathematics CATMathLine : public CATMathCurve
{
public:
	//============================================================================
	//- Constructor
	//============================================================================
	/**
	* Constructs a CATMathLine passing through (0,0,0), with (1,0,0)
	* direction .
	*/
	CATMathLine ();

	/**
   * @nodoc
	* @deprecated V5R15 Set
	* Constructs from a CATMathPoint and a CATMathVector.
	* &lt;br&gt;Throws an error if the vector is null.
	*/
	CATMathLine (const CATMathPoint &amp; iOrigin, const CATMathVector &amp; iVector);

	/**
   * @nodoc
	* @deprecated V5R15 Set
	* Constructs from two CATMathPoints.
	* &lt;br&gt;Throws an error if the two points are confused.
	*/
	CATMathLine (const CATMathPoint &amp; iOrigin,
		                    const CATMathPoint &amp; iSecondPoint);


	/**
	* Copy constructor.
	*/
	CATMathLine (const CATMathLine &amp; iLineToCopy);

	//============================================================================
	//- Get/Set
	//============================================================================
	/**
	* Returns the class name: &lt;tt&gt;CATMathLine&lt;/tt&gt;.
	*/
	CATMathClassId IsA () const;

	/**
	* Returns the mathematical type.
	* @return
	* The CATMathematicType. 
	*/
	CATMathematicType GetMathType() const;

	/**
	* Set from a CATMathPoint and a CATMathVector.
	* @return 
	* &lt;tt&gt;E_FAIL&lt;/tt&gt; if the vector is null, &lt;tt&gt;S_OK&lt;/tt&gt; otherwise.
	*/
	HRESULT Set(const CATMathPoint &amp; iOrigin, const CATMathVector &amp; iVector);

	/**
	* Constructs from two CATMathPoints.
	* @return 
	* &lt;tt&gt;E_FAIL&lt;/tt&gt; if the two points are confused, &lt;tt&gt;S_OK&lt;/tt&gt; otherwise.
	*/
	HRESULT Set(const CATMathPoint &amp; iOrigin,const CATMathPoint &amp; iSecondPoint);


	/**
	* Returns the direction of &lt;tt&gt;this&lt;/tt&gt; CATMathLine. 
	*/
	void GetDirection (CATMathVector &amp; ioDirection) const;


	/**
   * @nodoc
	* @deprecated V5R15 SetLineDirection
	* Modifies the (normalized) direction of &lt;tt&gt;this&lt;/tt&gt; CATMathLine. 
	* &lt;br&gt;Throws an error if the new direction is null.
	* @return 
	* &lt;tt&gt;FALSE&lt;/tt&gt; if the new direction is null, &lt;tt&gt;TRUE&lt;/tt&gt; otherwise.
	*/
	CATBoolean SetDirection (const CATMathVector &amp; iVector);


   /**
   * @nodoc
	* @deprecated V5R20 SetLineDirection
	* Modifies the (normalized) direction of &lt;tt&gt;this&lt;/tt&gt; CATMathLine. 
	* @return 
	* &lt;tt&gt;E_FAIL&lt;/tt&gt; if the new direction is null, &lt;tt&gt;S_OK&lt;/tt&gt; otherwise.
	*/
	HRESULT SetVector(const CATMathVector &amp; iVector);
 
	/**
	* Modifies the (normalized) direction of &lt;tt&gt;this&lt;/tt&gt; CATMathLine. 
	* @return 
	* &lt;tt&gt;E_FAIL&lt;/tt&gt; if the new direction is null, &lt;tt&gt;S_OK&lt;/tt&gt; otherwise.
	*/
	HRESULT SetLineDirection(const CATMathVector &amp; iVector);

	/**
	* Returns the origin of &lt;tt&gt;this&lt;/tt&gt; CATMathLine. 
	*/
	void GetOrigin (CATMathPoint &amp; ioOrigin) const;

	/**
	* Modifies the origin of &lt;tt&gt;this&lt;/tt&gt; CATMathLine. 
	*/
	void SetOrigin (const CATMathPoint &amp; iOrigin);

	/**
	* Returns the scale of &lt;tt&gt;this&lt;/tt&gt; CATMathLine. 
	*/
	double GetScale () const;

	/**
   * @nodoc
	* @deprecated V5R20 SetLineScale
	* Modifies the scale of &lt;tt&gt;this&lt;/tt&gt; CATMathLine. 
	* @param iScale.
	* The new scale.
	* &lt;br&gt;Throws an error if the new scale is null.
	* @return 
	* &lt;tt&gt;FALSE&lt;/tt&gt; if the new scale is null, &lt;tt&gt;TRUE&lt;/tt&gt; otherwise.
	*/
	CATBoolean SetScale (double  iScale);

	/**
	* Modifies the scale of &lt;tt&gt;this&lt;/tt&gt; CATMathLine. 
	* @param iScale.
	* The new scale.
	* @return 
	* &lt;tt&gt;E_FAIL&lt;/tt&gt; if the new scale is null, &lt;tt&gt;S_OK&lt;/tt&gt; otherwise.
	*/
	HRESULT SetLineScale (double  iScale);

	/**
	* Returns the point of &lt;tt&gt;this&lt;/tt&gt; CATMathLine corresponding to a given parameter.
	* @return 
	* &lt;tt&gt;ioResult=Line._Origin + &lt;b&gt;iParam&lt;/b&gt; * Line._Scale * Line._Direction&lt;/tt&gt;
	*/
	void EvalPoint (const double iParam, CATMathPoint &amp; ioResult) const;

	/**
	* Changes the parameter orientation of &lt;tt&gt;this&lt;/tt&gt; CATMathLine. 
	*/   
	void ReverseDirection() ;

	/**
	* Retrieves the param on &lt;tt&gt;this&lt;/tt&gt; CATMathLine corresponding to a CATMathPoint
	* inside limitations.
	* 
	* @param iPoint
	* The CATMathPoint which coordinates are to be transformed as a param.
	* @param ioParam
	* The param on &lt;tt&gt;this&lt;/tt&gt; corresponding to &lt;tt&gt;iPoint&lt;/tt&gt;. 
	* @param iTol
	* The 3D tolerance, defining a tube along the line with two hemispheres at each end.
	* If the input point is not inside this tube, no parameter is retrieved.
	* @param iStartParam, iEndParam
	* The limits, expressed as parameters, to take into account for trimming &lt;tt&gt;this&lt;/tt&gt; CATMathLine.
	* @return
	* The number of parameters that can be evaluated on this point.
	* &lt;dl&gt;&lt;dt&gt; 0  &lt;dd&gt;No parameter corresponds to this point.
	*     &lt;dt&gt; 1  &lt;dd&gt;Only one parameter corresponds to this point.
	*     &lt;dt&gt; 2  &lt;dd&gt;Two parameters correspond to this point.
	*&lt;/dl&gt;
	*/
	int GetParam(const CATMathPoint &amp;iPoint,
		                   double *ioParam, const double iTol,
		                   const double iStartParam, const double iEndParam) const;

	/**
	* Projects a CATMathPoint on &lt;tt&gt;this&lt;/tt&gt; CATMathLine.
	*/
	void Project(const CATMathPoint &amp;iPointToProject,
		                CATMathPoint &amp;ioProjectedPoint) const;

	/**
	* Projects a CATMathPoint on &lt;tt&gt;this&lt;/tt&gt; CATMathLine.
	*/
	void Project(const CATMathPoint &amp;iPointToProject,
		                double &amp;ioParam) const;

	/**
	* Returns the distance between two CATMathLines.
	* @param ioParamOnOtherLine
	*   The parameter of the point of &lt;tt&gt;iOtherLine&lt;/tt&gt; closest to &lt;tt&gt;this&lt;/tt&gt; CATMathLine.
	* @param ioParamOnThisLine
	*   Parameter of the point of &lt;tt&gt;this&lt;/tt&gt; CATMathLine closest to &lt;tt&gt;iOtherLine&lt;/tt&gt;.
	* @param ioDiagnosis 
	* &lt;dl&gt;
	* &lt;dt&gt;&lt;tt&gt;0&lt;/tt&gt;        &lt;dd&gt;if the lines are parallel (in this case,
	*                       &lt;tt&gt;oParamOnLine1&lt;/tt&gt; and &lt;tt&gt;oParamOnLine2&lt;/tt&gt;
	*                       are null).
	* &lt;dt&gt;&lt;tt&gt;1&lt;/tt&gt;        &lt;dd&gt;if the lines are not parallel.
	* &lt;dt&gt;&lt;tt&gt;2&lt;/tt&gt;        &lt;dd&gt;if the lines are identical (in this case,
	*                       &lt;tt&gt;oParamOnLine1&lt;/tt&gt; and &lt;tt&gt;oParamOnLine2&lt;/tt&gt;
	*                       are null).
	* &lt;/dl&gt; 
	*/
	double DistanceTo(const CATMathLine &amp; iOtherLine,
		                            double &amp; ioParamOnOtherLine, double &amp; ioParamOnThisLine,
		                            int &amp; ioDiagnosis) const;

#ifdef CATIACGMV5R21
	/**
	* Returns the square distance between &lt;tt&gt;this&lt;/tt&gt; CATMathLine and a CATMathPoint. 
	*/
	double SquareDistanceTo(const CATMathPoint &amp; iPoint) const;
#endif

	/**
	* Returns the distance between &lt;tt&gt;this&lt;/tt&gt; CATMathLine and a CATMathPoint. 
	*/
	double DistanceTo(const CATMathPoint &amp; iPoint) const;

	/**
	* Intersects &lt;tt&gt;this&lt;/tt&gt; CATMathLine with another one. 
	* @param iOtherLine 
	*   The other CATMathLine to intersect. 
	* @param iStartParamOnOtherLine, iEndParamOnOtherLine
	*   The limits to take into account for &lt;tt&gt;iOtherLine&lt;/tt&gt;.
	* @param iStartParamOnThis, iEndParamOnThis
	*   The limits to take into account for &lt;tt&gt;this&lt;/tt&gt; CATMathLine.
	* @param ioParamOnLine1 
	*   The parameter of the intersection on &lt;tt&gt;iOtherLine&lt;/tt&gt;. 
	* @param ioParamOnLine2
	*   The parameter of the intersection on &lt;tt&gt;this&lt;/tt&gt; CATMathLine. 
	* @return
	* &lt;dl&gt;
	* &lt;dt&gt;&lt;tt&gt;0&lt;/tt&gt;        &lt;dd&gt;if there is no intersection
	* &lt;dt&gt;&lt;tt&gt;1&lt;/tt&gt;        &lt;dd&gt;if there is an intersection
	* &lt;/dl&gt;
	*/
	int Intersect(const CATMathLine &amp; iOtherLine,
		                double iStartParamOnOtherLine, double iEndParamOnOtherLine,
						double iStartParamOnThis, double iEndParamOnThis,
						double iTol,
						double &amp; ioParamOnOtherLine, double &amp; ioParamOnThisLine) const;

	//============================================================================
	//- friend function
	//============================================================================
	/**
	* @nodoc
	* @deprecated V5R20 DistanceTo
	*/
	ExportedByCATMathematics friend double Distance(
		const CATMathLine &amp; iLine1,
		const CATMathLine &amp; iLine2,
		double &amp; oParamOnLine1, double &amp; oParamOnLine2,
		CATLONG32 &amp; oDiagnosis);

	/**
	* @nodoc
	* @deprecated V5R20 DistanceTo
	*/
	ExportedByCATMathematics friend double Distance(
		const CATMathPoint &amp; iPoint,
		const CATMathLine &amp;iLine);


	/**
	* @nodoc
	* @deprecated V5R20 Intersect
	*/
	ExportedByCATMathematics friend int Intersect(
		const CATMathPlane &amp; iPlane1,
		const CATMathPlane &amp; iPlane2,
		CATMathLine &amp; oIntersectionLine);

	/**	
	* @nodoc
	* @deprecated V5R20 Intersect
	*/
	ExportedByCATMathematics friend int Intersect(
		const CATMathLine &amp; iLine1,
		const CATMathLine &amp; iLine2,
		double iStartParam1, double iEndParam1,
		double iStartParam2, double iEndParam2,
		double iTol,
		double &amp; oParamOnLine1, double &amp; oParamOnLine2);

	/**
	* @nodoc
	* @deprecated V5R20 Intersect
	*/
	ExportedByCATMathematics friend int Intersect(
		const CATMathLine &amp; iLine,
		const CATMathCircle &amp; iCircle,
		double iStartParam1, double iEndParam1,
		double iStartParam2, double iEndParam2,
		double iTol,
		double oParamOnLine[2], double oParamOnCircle[2]);

	/**
	* @nodoc 
	* @deprecated V5R20 IsIntersecting (see CATMathBox)
	*/
	int Cross (const CATMathBox &amp; iBox) const;

	/**
	* @nodoc
	* @deprecated V5R20 Project
	*/
	ExportedByCATMathematics friend void Projection(
		const CATMathPoint &amp; iPointToProject,
		const CATMathLine &amp; iOnLine,
		double &amp; oParamOnLine);

	/**
	* @nodoc
	* @deprecated V5R20 Project 
	*/
	ExportedByCATMathematics friend CATMathPoint Projection(
		const CATMathPoint &amp; iPointToProject,
		const CATMathLine &amp; iOnLine);

	/**
	* @nodoc
	* @deprecated V5R20. 
	*/
	//CATMathLine (const CATMathPoint &amp; iOrigin,
	//	const CATMathDirection &amp; iDirection);

	/**
   * @nodoc
	* @deprecated V5R20 GetOrigin
	* Returns the origin of &lt;tt&gt;this&lt;/tt&gt; CATMathLine. 
	* The signature which returns a CATMathPoint in output argument should be preferably used.
	*/
	CATMathPoint GetOrigin () const;

	/**
   * @nodoc
	* @deprecated V5R20 GetDirection
	* Returns the direction of &lt;tt&gt;this&lt;/tt&gt; CATMathLine.
	* The signature which returns a CATMathDirection in output argument should be preferably used.
	*/
	CATMathDirection GetDirection () const;

	/**
	* @nodoc
	* @deprecated V5R20 GetScale
	*/
	double GetLength () const;

	/**
	* @nodoc
	* @deprecated V5R15 SetLineLength
	* &lt;br&gt;Throws an error if the new length is null.
	*/
	void SetLength (const double iLength);


	/**
	* @nodoc
	* @deprecated V5R20 SetLineScale
	* @return 
	* &lt;tt&gt;E_FAIL&lt;/tt&gt; if the new length is null, &lt;tt&gt;S_OK&lt;/tt&gt; otherwise.
	*/
	HRESULT SetLineLength(const double iLength);

	/**
   * @nodoc
	* @deprecated V5R20 EvalPoint
	* Returns the point of &lt;tt&gt;this&lt;/tt&gt; CATMathLine corresponding to a given parameter.
	* The signature which returns the CATMathPoint as an output argument should be preferably used.
	*/
	CATMathPoint EvalPoint (const double iBid) const;


	/**
	* @nodoc
	* @deprecated V5R20. 
	*/
	void SetDirection (const CATMathDirection &amp; iDirection);


	/**
	* @nodoc
	*  @deprecated V5R20
	* Dumps &lt;tt&gt;this&lt;/tt&gt; CATMathLine.
	* &lt;br&gt;This writes the following lines on the ostream:
	*&lt;pre&gt;
	* Origin    = ( OriginFirstCoord , OriginSecondCoord , OriginThirdCoord )
	* Direction = ( DirFirstCoord    , DirSecondCoord    , DirThirdCoord )
	* &lt;/pre&gt;
	* @param iStream  
	* A pointer to the output. If &lt;tt&gt;0L&lt;/tt&gt;, the method dumps the 
	* coordinates on the &lt;tt&gt;cout&lt;/tt&gt; output.
	*/
	void Dump(ostream * iStream=0L) const;

private :
	// normalized vectors
	CATMathVector _FirstAxis;
	CATMathPoint _Origin;
	double _Scale;

};

#endif


</div>
    
    <div class="navigation">
        <div><a href="CATMathLimits.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATMathLimits.h</a></div>
        <div><a href="CATMathLine2D.html">‰∏ã‰∏ÄÈ°µ: CATMathLine2D.h ‚Üí</a></div>
    </div>
</body>
</html>