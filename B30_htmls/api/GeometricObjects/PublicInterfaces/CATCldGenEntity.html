<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeometricObjects/PublicInterfaces/CATCldGenEntity.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>GeometricObjects/PublicInterfaces/CATCldGenEntity.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATCldDef.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATCldDef.h</a></div>
        <div><a href="CATCldGrid.html">‰∏ã‰∏ÄÈ°µ: CATCldGrid.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">//==============================================================================================================
// COPYRIGHT DASSAULT SYSTEMES PROVENCE 1999
//==============================================================================================================
// CATCldGenEntity
//==============================================================================================================
// Creation: JLH - ??-Oct-1999
// 24-03-2014 CGMOFF+CGMPRJ
//==============================================================================================================

#ifndef CATCldGenEntity_H
#define CATCldGenEntity_H

/**
 * @CAA2Level L0
 * @CAA2Usage U0
 */ 

#include &quot;CATGeometry.h&quot;

class CATMathPoint ;
#include &quot;CATBoolean.h&quot;
#include &quot;CATCldDef.h&quot;
#include &quot;CATListOfInt.h&quot;
#include &quot;CATListOfFloat.h&quot;
#include &quot;CATListOfDouble.h&quot;
#include &quot;CATListOfCATICGMObjects.h&quot;

#include &quot;ExportedByCATGMGeometricInterfaces.h&quot;
#ifndef LOCAL_DEFINITION_FOR_IID
extern ExportedByCATGMGeometricInterfaces IID IID_CATCldGenEntity ;
#else
extern &quot;C&quot; const IID IID_CATCldGenEntity ;
#endif
/**
 * General interface for the entities managing clouds of points.&lt;br&gt;
 * The architecture of such entities is as following :
 * &lt;pre&gt;
 * CATCldGenEntity
 *  |
 *  +-- CATCldBody - Set of CATCldCell
 *  |
 *  +-- CATCldCell
 *       |
 *       +-- CATCldUniCell - Unitary cell
 *       |    |
 *       |    +-- CATCldCloud   - Unordered cloud of points
 *       |    |
 *       |    +-- CATCldScan    - 1D-ordered cloud of points
 *       |    |
 *       |    +-- CATCldGrid    - 2D-ordered cloud of points
 *       |    |
 *       |    +-- CATCldPolygon - Tessellation of a cloud of points
 *       |
 *       +-- CATCldMultiCell - Multi cells of the same type
 *            |
 *            +-- CATCldSetOfScans
 *            |
 *            +-- CATCldSetOfGrids
 * &lt;/pre&gt;
 * The reason of such architecture is to preserve the topological semantic of the digitalization files.&lt;br&gt;
 * The points coordinates are stored in an entity: the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.&lt;br&gt;
 * This entity is referenced by all the entities, and the access to the coordinates is done by several
 * methods encapsulated at the &lt;tt&gt;CATCldGenEntity&lt;/tt&gt; level.&lt;br&gt;
 * The &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt; is derived either in &lt;tt&gt;CATCldSetOfPointsF&lt;/tt&gt; (coordinates in float)
 * or in &lt;tt&gt;CATCldSetOfPointsD&lt;/tt&gt; (coordinates in double), depending of the use of the present Data
 * Structure (for a huge number of data, float is preferred). It is the reason of the duplication of the
 * access methods.&lt;br&gt;
 * &lt;b&gt;Glossary:&lt;/b&gt;
 * &lt;ul&gt;
 * &lt;li&gt;A point in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt; is referenced by its &lt;b&gt;index&lt;/b&gt;.
 * &lt;li&gt;A point in a &lt;tt&gt;CATCldUniCell&lt;/tt&gt; is referenced by its &lt;b&gt;relative indice&lt;/b&gt; (or &lt;b&gt;indice&lt;/b&gt;).
 * &lt;/ul&gt;
 * To distinguish the methods working on/with indexes and indices, we have two families :
 * &lt;ul&gt;
 * &lt;li&gt;For the &lt;b&gt;indexes&lt;/b&gt;, the methods have the prefix &lt;tt&gt;[GS]etIdx&lt;/tt&gt;.
 * &lt;li&gt;For the &lt;b&gt;indices&lt;/b&gt;, the methods have the prefix &lt;tt&gt;[GS]etNum&lt;/tt&gt; (&lt;b&gt;Num&lt;/b&gt; for &lt;b&gt;numero&lt;/b&gt; in french).
 * &lt;/ul&gt;
 * &lt;br&gt;
 * &lt;b&gt;CAUTION:&lt;/b&gt;&lt;br&gt;
 * The indexes given as parameters COULD NOT BELONG to the entity and must be in the range &lt;tt&gt;[1,GetNbTotalPoints()]&lt;/tt&gt;.
 */
class ExportedByCATGMGeometricInterfaces CATCldGenEntity : public CATGeometry
{
  CATDeclareInterface ;

public:

//==============================================================================================================
// General methods for all the CloudEditor entities.
//==============================================================================================================

  /**
   * Declares that the entity creation is achieved.&lt;br&gt;
   * This method does some computations and runs some basic checks.&lt;br&gt;
   * This is interesting when the creation is incremental.
   */
  virtual CATBoolean EndOfCreation () = 0 ;

  /**
   * Declares that the entity modification is achieved.&lt;br&gt;
   * This method does some computations and runs some basic checks.
   */
  virtual CATBoolean EndOfModification () = 0 ;

  /**
   * Returns the bounding box of the active points.
   */
  virtual void GetActiveBoundingBox (CATMathBox &amp;oBox) const = 0 ;

  /**
   * Tests if the point given by its coordinates is rejected by the entity,&lt;br&gt;
   * ie is outside of its bounding box inflated of the given tolerance.
   */
  virtual CATBoolean Reject (const float iCoords[3],
                             const float iTolerance = 0.) const = 0 ;

  /**
   * Tests if the point given by its coordinates is rejected by the entity,&lt;br&gt;
   * ie is outside of its bounding box inflated of the given tolerance.
   */
  virtual CATBoolean Reject (const double iCoords[3],
                             const double iTolerance = 0.) const = 0 ;

  /**
   * Tests if the point given by its index is rejected by the entity,&lt;br&gt;
   * ie is outside of its bounding box inflated of the given tolerance.
   */
  virtual CATBoolean Reject (const int    iIndex,
                             const double iTolerance = 0.) const = 0 ;

  /**
   * Tests if the given &lt;tt&gt;CldGenEntity&lt;/tt&gt; is rejected by the entity,&lt;br&gt;
   * ie there is no intersection between the two associated bounding boxes.
   */
  virtual CATBoolean Reject (const CATCldGenEntity* iEntity) const = 0 ;

  /**
   * Tests if the point given by its index is referenced by the entity.
   */
  virtual CATBoolean Contains (const int iIndex) const = 0 ;

  /**
   * Opens an partitionning context by creating an internal spatial partition
   * of the &lt;tt&gt;CATCldGenEntity&lt;/tt&gt; to optimize a point search or projection.
   * @param iOnlyActive
   * &lt;ul&gt;
   * &lt;li&gt;If &lt;tt&gt;TRUE&lt;/tt&gt;, only the active points will be considered.
   * &lt;li&gt;If &lt;tt&gt;FALSE&lt;/tt&gt;, all the points will be considered.
   * &lt;/ul&gt;
   */
  virtual CATBoolean PartitionBegin (const CATBoolean iOnlyActive = FALSE) = 0 ;
  
  /**
   * Closes the partitionning context opened by &lt;tt&gt;PartitionBegin&lt;/tt&gt;.
   */
  virtual CATBoolean PartitionEnd() = 0 ;
  
  /**
   * Returns the fact that the &lt;tt&gt;CATCldGenEntity&lt;/tt&gt; is in an opened partitionning context or not.
   */
  virtual CATBoolean HasAPartition() const = 0 ;
  
  /**
   * Searches the points confused with the given point within the given tolerance.&lt;br&gt;
   * @param ioIndexes
   * List of the indexes of the points which are confused with the given point.&lt;br&gt;
   * The indexes are sorted in regards on their distance to the given point (the first is the closest).
   * @param ioDistances
   * List of the distances to the given point. It is parallel to &lt;tt&gt;ioIndexes&lt;/tt&gt;.&lt;br&gt;
   * The distances are sorted in the increasing order.&lt;br&gt;
   * &lt;b&gt;CAUTION:&lt;/b&gt; The lists will be cleared by the method before use.
   */
  virtual void SearchIndex (const float     iCoords[3],
                            CATListOfInt   &amp;ioIndexes,
                            CATListOfFloat &amp;ioDistances,
                            const float     iTolerance = 0.) const = 0 ;

  /**
   * Searches the points confused with the given point within the given tolerance.&lt;br&gt;
   * @param ioIndexes
   * List of the indexes of the points which are confused with the given point.&lt;br&gt;
   * The indexes are sorted in regards on their distance to the given point (the first is the closest).
   * @param ioDistances
   * List of the distances to the given point. It is parallel to &lt;tt&gt;ioIndexes&lt;/tt&gt;.&lt;br&gt;
   * The distances are sorted in the increasing order.&lt;br&gt;
   * &lt;b&gt;CAUTION:&lt;/b&gt; The lists will be cleared by the method before use.
   */
  virtual void SearchIndex (const double     iCoords[3],
                            CATListOfInt    &amp;ioIndexes,
                            CATListOfDouble &amp;ioDistances,
                            const double     iTolerance = 0.) const = 0 ;

  /**
   * Returns the closest points to a given point.
   * @param iCoords
   * The coordinates of the given point.
   * @param iNbPoints
   * The wanted number of closest points.
   * @param oIndexes
   * Array of the indexes of the closest points.&lt;br&gt;
   * The indexes are sorted in regards on their distance to the given point (the first is the closest).
   * @param oDistances
   * Array of the distances to the given point. It is parallel to &lt;tt&gt;ioIndexes&lt;/tt&gt;.&lt;br&gt;
   * The distances are sorted in the increasing order.&lt;br&gt;
   * @param iOnlyActive
   * &lt;ul&gt;
   * &lt;li&gt;If &lt;tt&gt;TRUE&lt;/tt&gt;, only the active points will be considered.
   * &lt;li&gt;If &lt;tt&gt;FALSE&lt;/tt&gt;, all the points will be considered.
   * &lt;/ul&gt;
   * &lt;b&gt;CAUTION 1:&lt;/b&gt; The allocations of the two arraies &lt;tt&gt;oIndexes&lt;/tt&gt; and &lt;tt&gt;oDistances&lt;/tt&gt; have
   * to be done by the calling method and their size must be at least &lt;tt&gt;iNbPoints&lt;/tt&gt;.&lt;br&gt;
   * &lt;b&gt;CAUTION 2:&lt;/b&gt; The returned indexes correspond to &lt;b&gt;exactly non-confused&lt;/b&gt; points.
   * Nevertheless their associated distances could be equal.&lt;br&gt;
   * &lt;b&gt;CAUTION 3:&lt;/b&gt; Some returned indexes could be null if less than &lt;tt&gt;iNbPoints&lt;/tt&gt; are found.
   */
  virtual void ClosestPoints (const float      iCoords[3],
                              const int        iNbPoints,
                              int*             oIndexes,
                              float*           oDistances,
                              const CATBoolean iOnlyActive = FALSE) const = 0 ;

  /**
   * Returns the closest points to a given point.
   * @param iCoords
   * The coordinates of the given point.
   * @param iNbPoints
   * The wanted number of closest points.
   * @param oIndexes
   * Array of the indexes of the closest points.&lt;br&gt;
   * The indexes are sorted in regards on their distance to the given point (the first is the closest).
   * @param oDistances
   * Array of the distances to the given point. It is parallel to &lt;tt&gt;ioIndexes&lt;/tt&gt;.&lt;br&gt;
   * The distances are sorted in the increasing order.&lt;br&gt;
   * @param iOnlyActive
   * &lt;ul&gt;
   * &lt;li&gt;If &lt;tt&gt;TRUE&lt;/tt&gt;, only the active points will be considered.
   * &lt;li&gt;If &lt;tt&gt;FALSE&lt;/tt&gt;, all the points will be considered.
   * &lt;/ul&gt;
   * &lt;b&gt;CAUTION 1:&lt;/b&gt; The allocations of the two arraies &lt;tt&gt;oIndexes&lt;/tt&gt; and &lt;tt&gt;oDistances&lt;/tt&gt; have
   * to be done by the calling method and their size must be at least &lt;tt&gt;iNbPoints&lt;/tt&gt;.&lt;br&gt;
   * &lt;b&gt;CAUTION 2:&lt;/b&gt; The returned indexes correspond to &lt;b&gt;exactly non-confused&lt;/b&gt; points.
   * Nevertheless their associated distances could be equal.&lt;br&gt;
   * &lt;b&gt;CAUTION 3:&lt;/b&gt; Some returned indexes could be null if less than &lt;tt&gt;iNbPoints&lt;/tt&gt; are found.
   */
  virtual void ClosestPoints (const double     iCoords[3],
                              const int        iNbPoints,
                              int*             oIndexes,
                              double*          oDistances,
                              const CATBoolean iOnlyActive = FALSE) const = 0 ;

  /**
   * Returns the projection of a given point.
   * @param iPoint
   * The point to project.
   * @param oProjection
   * The projection.
   * @param iNormal
   * &lt;ul&gt;
   * &lt;li&gt;If &lt;tt&gt;FALSE&lt;/tt&gt;, the projection will be the closest point.
   * &lt;li&gt;If &lt;tt&gt;TRUE&lt;/tt&gt;, the projection will be the projection on the triangle defined by the three
   * closest points with a &quot;vertex-edge-triangle&quot; priority.
   * &lt;/ul&gt;
   * @param iOnlyActive
   * &lt;ul&gt;
   * &lt;li&gt;If &lt;tt&gt;TRUE&lt;/tt&gt;, only the active points will be considered.
   * &lt;li&gt;If &lt;tt&gt;FALSE&lt;/tt&gt;, all the points will be considered.
   * &lt;/ul&gt;
   * @param iTolerance
   * The tolerance defining the confusion with a vertex or an edge in case of a normal projection.
   * @return
   * &lt;tt&gt;TRUE&lt;/tt&gt;, if there is a projection. &lt;tt&gt;FALSE&lt;/tt&gt;, otherwise.
   */
  virtual CATBoolean Projection (const CATMathPoint &amp;iPoint,
                                 CATMathPoint       &amp;oProjection,
                                 const CATBoolean    iNormal = FALSE,
                                 const CATBoolean    iOnlyActive = FALSE,
                                 const double        iTolerance = 0.) const = 0 ;

//==============================================================================================================
// Points.
//==============================================================================================================

  /**
   * Returns the number of points referenced by the entity.&lt;br&gt;
   * @param iAllPoints
   * &lt;ul&gt;
   * &lt;li&gt;If &lt;tt&gt;TRUE&lt;/tt&gt;, it returns the &lt;b&gt;total&lt;/b&gt; number of indexes.
   * &lt;li&gt;If &lt;tt&gt;FALSE&lt;/tt&gt;, it returns the number of non-null indexes.
   * &lt;/ul&gt;
   */
  virtual int GetNbPoints (const CATBoolean iAllPoints = TRUE) const = 0 ;

  /**
   * Returns the number and the non-null indexes of the points referenced by the entity.&lt;br&gt;
   * @param oNbIndexes
   * The number of indexes.
   * @param ioIndexes
   * The array of indexes.&lt;br&gt;
   * &lt;b&gt;CAUTION:&lt;/b&gt; If &lt;tt&gt;ioIndexes&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt;, its allocation is done by the method.&lt;br&gt;
   * Otherwise it has to be done by the calling method, its size must be greater than the expected &lt;tt&gt;oNbIndexes&lt;/tt&gt;.&lt;br&gt;
   * But its release &lt;b&gt;HAS TO BE DONE&lt;/b&gt; by the calling method if it is not &lt;tt&gt;NULL&lt;/tt&gt; in case of no points.&lt;br&gt;
   */
  virtual void GetPoints (int  &amp;oNbPoints,
                          int* &amp;ioIndexes) const = 0 ;

  /**
   * Returns the number of active points of the entity.&lt;br&gt;
   * &lt;b&gt;A point is said to be active when it is selected and unfiltered.&lt;/b&gt;&lt;br&gt;
   * The null indexes will not be taken into account, but the non-null indexes could be duplicated.
   */
  virtual int GetNbActivePoints () const = 0 ;

  /**
   * Returns the number of active points of the entity and their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.&lt;br&gt;
   * @param oNbPoints
   * The number of points.
   * @param ioIndexes
   * The array of indexes.&lt;br&gt;
   * &lt;b&gt;CAUTION 1:&lt;/b&gt; This array is a &quot;photo&quot; of the informations contained in the entity.&lt;br&gt;
   * The null indexes will be suppressed, but the non-null indexes could be duplicated.&lt;br&gt;
   * &lt;b&gt;CAUTION 2:&lt;/b&gt; If &lt;tt&gt;ioIndexes&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt;, its allocation is done by the method.&lt;br&gt;
   * Otherwise it has to be done by the calling method, its size must be greater than the expected &lt;tt&gt;oNbPoints&lt;/tt&gt;.&lt;br&gt;
   * But its release &lt;b&gt;HAS TO BE DONE&lt;/b&gt; by the calling method if it is not &lt;tt&gt;NULL&lt;/tt&gt; in case of no points.&lt;br&gt;
   */
  virtual void GetActivePoints (int  &amp;oNbPoints,
                                int* &amp;ioIndexes) const = 0 ;

  /**
   * Returns the number of selected points of the entity.&lt;br&gt;
   * The null indexes will not be taken into account, but the non-null indexes could be duplicated.
   */
  virtual int GetNbSelectedPoints () const = 0 ;

  /**
   * Returns the number of selected points of the entity and their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.&lt;br&gt;
   * @param oNbPoints
   * The number of points.
   * @param ioIndexes
   * The array of indexes.&lt;br&gt;
   * &lt;b&gt;CAUTION 1:&lt;/b&gt; This array is a &quot;photo&quot; of the informations contained in the entity.&lt;br&gt;
   * The null indexes will be suppressed, but the non-null indexes could be duplicated.&lt;br&gt;
   * &lt;b&gt;CAUTION 2:&lt;/b&gt; If &lt;tt&gt;ioIndexes&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt;, its allocation is done by the method.&lt;br&gt;
   * Otherwise it has to be done by the calling method, its size must be greater than the expected &lt;tt&gt;oNbPoints&lt;/tt&gt;.&lt;br&gt;
   * But its release &lt;b&gt;HAS TO BE DONE&lt;/b&gt; by the calling method if it is not &lt;tt&gt;NULL&lt;/tt&gt; in case of no points.&lt;br&gt;
   */
  virtual void GetSelectedPoints (int  &amp;oNbPoints,
                                  int* &amp;ioIndexes) const = 0 ;

  /**
   * Returns the number of unselected points of the entity.&lt;br&gt;
   * The null indexes will not be taken into account, but the non-null indexes could be duplicated.
   */
  virtual int GetNbUnselectedPoints () const = 0 ;

  /**
   * Returns the number of unselected points of the entity and their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.&lt;br&gt;
   * @param oNbPoints
   * The number of points.
   * @param ioIndexes
   * The array of indexes.&lt;br&gt;
   * &lt;b&gt;CAUTION 1:&lt;/b&gt; This array is a &quot;photo&quot; of the informations contained in the entity.&lt;br&gt;
   * The null indexes will be suppressed, but the non-null indexes could be duplicated.&lt;br&gt;
   * &lt;b&gt;CAUTION 2:&lt;/b&gt; If &lt;tt&gt;ioIndexes&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt;, its allocation is done by the method.&lt;br&gt;
   * Otherwise it has to be done by the calling method, its size must be greater than the expected &lt;tt&gt;oNbPoints&lt;/tt&gt;.&lt;br&gt;
   * But its release &lt;b&gt;HAS TO BE DONE&lt;/b&gt; by the calling method if it is not &lt;tt&gt;NULL&lt;/tt&gt; in case of no points.&lt;br&gt;
   */
  virtual void GetUnselectedPoints (int  &amp;oNbPoints,
                                    int* &amp;ioIndexes) const = 0 ;

  /**
   * Inverts the selection.&lt;br&gt;
   * For points inside a cell:
   * &lt;ul&gt;
   * &lt;li&gt;&lt;tt&gt;&quot;Selected   -&gt; Unselected&quot;&lt;/tt&gt;
   * &lt;li&gt;&lt;tt&gt;&quot;Unselected -&gt; Selected&quot;&lt;/tt&gt;
   * &lt;/ul&gt;
   */
  virtual void InvertSelection () = 0 ;

  /**
   * Sets all points as selected.
   */
  virtual void SetAllPointsSelected () = 0 ;

  /**
   * Sets all points as unselected.
   */
  virtual void SetAllPointsUnselected () = 0 ;

  /**
   * Returns the number of filtered points of the entity.&lt;br&gt;
   * The null indexes will not be taken into account, but the non-null indexes could be duplicated.
   */
  virtual int GetNbFilteredPoints () const = 0 ;

  /**
   * Returns the number of filtered points of the entity and their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.&lt;br&gt;
   * @param oNbPoints
   * The number of points.
   * @param ioIndexes
   * The array of indexes.&lt;br&gt;
   * &lt;b&gt;CAUTION 1:&lt;/b&gt; This array is a &quot;photo&quot; of the informations contained in the entity.&lt;br&gt;
   * The null indexes will be suppressed, but the non-null indexes could be duplicated.&lt;br&gt;
   * &lt;b&gt;CAUTION 2:&lt;/b&gt; If &lt;tt&gt;ioIndexes&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt;, its allocation is done by the method.&lt;br&gt;
   * Otherwise it has to be done by the calling method, its size must be greater than the expected &lt;tt&gt;oNbPoints&lt;/tt&gt;.&lt;br&gt;
   * But its release &lt;b&gt;HAS TO BE DONE&lt;/b&gt; by the calling method if it is not &lt;tt&gt;NULL&lt;/tt&gt; in case of no points.&lt;br&gt;
   */
  virtual void GetFilteredPoints (int  &amp;oNbPoints,
                                  int* &amp;ioIndexes) const = 0 ;

  /**
   * Returns the number of unfiltered points of the entity.&lt;br&gt;
   * The null indexes will not be taken into account, but the non-null indexes could be duplicated.
   */
  virtual int GetNbUnfilteredPoints () const = 0 ;

  /**
   * Returns the number of unfiltered points of the entity and their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.&lt;br&gt;
   * @param oNbPoints
   * The number of points.
   * @param ioIndexes
   * The array of indexes.&lt;br&gt;
   * &lt;b&gt;CAUTION 1:&lt;/b&gt; This array is a &quot;photo&quot; of the informations contained in the entity.&lt;br&gt;
   * The null indexes will be suppressed, but the non-null indexes could be duplicated.&lt;br&gt;
   * &lt;b&gt;CAUTION 2:&lt;/b&gt; If &lt;tt&gt;ioIndexes&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt;, its allocation is done by the method.&lt;br&gt;
   * Otherwise it has to be done by the calling method, its size must be greater than the expected &lt;tt&gt;oNbPoints&lt;/tt&gt;.&lt;br&gt;
   * But its release &lt;b&gt;HAS TO BE DONE&lt;/b&gt; by the calling method if it is not &lt;tt&gt;NULL&lt;/tt&gt; in case of no points.&lt;br&gt;
   */
  virtual void GetUnfilteredPoints (int  &amp;oNbPoints,
                                    int* &amp;ioIndexes) const = 0 ;

  /**
   * Inverts the filtered attribute.&lt;br&gt;
   * For points inside a cell:
   * &lt;ul&gt;
   * &lt;li&gt;&lt;tt&gt;&quot;Filtered   -&gt; Unfiltered&quot;&lt;/tt&gt;
   * &lt;li&gt;&lt;tt&gt;&quot;Unfiltered -&gt; Filtered&quot;&lt;/tt&gt;
   * &lt;/ul&gt;
   */
  virtual void InvertFiltering () = 0 ;

  /**
   * Sets all points as filtered.
   */
  virtual void SetAllPointsFiltered () = 0 ;

  /**
   * Sets all points as unfiltered.
   */
  virtual void SetAllPointsUnfiltered () = 0 ;

  /**
   * Compacts the &lt;tt&gt;CATCldGenEntity&lt;/tt&gt;.&lt;br&gt;
   * &lt;ul&gt;
   * &lt;li&gt;For a &lt;tt&gt;CATCldBody&lt;/tt&gt; or a &lt;tt&gt;CATCldMultiCell&lt;/tt&gt;, removes
   * the reference to the null or removed cell and call the method for each
   * sub-cells.
   * &lt;li&gt;For a &lt;tt&gt;CATCldUniCell&lt;/tt&gt;, removes the reference to the null indexes.
   * &lt;li&gt;For a &lt;tt&gt;CATCldGrid&lt;/tt&gt;, the sub-grid (UMin,UMax,VMin,VMax) of non-null indexes is determined,
   * and the grid is restricted to this sub-grid.
   * &lt;li&gt;For a &lt;tt&gt;CATCldPolygon&lt;/tt&gt;, the removed triangles are also deleted.
   * &lt;/ul&gt;
   */
  virtual void Compact () = 0 ;

//==============================================================================================================
// The following methods are the public access to the SetOfPoints via the point indexes.
//==============================================================================================================

  /**
   * Returns the list of all the &lt;tt&gt;CATCldGenEntities&lt;/tt&gt; sharing the same &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.&lt;br&gt;
   * &lt;b&gt;CAUTION:&lt;/b&gt; The list will be cleared by the method before use.
   */
  virtual void GetSoPEntities (CATLISTP(CATICGMObject) &amp;ioEntities) const = 0 ;

  /**
   * Returns the &lt;b&gt;total&lt;/b&gt; number of points of the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.
   */
  virtual int GetNbTotalPoints () const = 0 ;

  /**
   * Returns the coordinates of the &lt;tt&gt;iIndex&lt;/tt&gt;&#x27;th point of the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.
   */
  virtual CATBoolean GetIdxCoords (const int iIndex,
                                   float     oCoords[3]) const = 0 ;

  /**
   * Returns the coordinates of the &lt;tt&gt;iIndex&lt;/tt&gt;&#x27;th point of the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.
   */
  virtual CATBoolean GetIdxCoords (const int iIndex,
                                   double    oCoords[3]) const = 0 ;

  /**
   * Returns the associated information of the &lt;tt&gt;iIndex&lt;/tt&gt;&#x27;th point of the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.
   */
  virtual CATBoolean GetIdxInfo (const int      iIndex,
                                 CATCldInfoPnt &amp;oInfo) const = 0 ;

  /**
   * Returns the coordinates and the associated information of the &lt;tt&gt;iIndex&lt;/tt&gt;&#x27;th point of the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.
   */
  virtual CATBoolean GetIdxPoint (const int      iIndex,
                                  float          oCoords[3],
                                  CATCldInfoPnt &amp;oInfo) const = 0 ;

  /**
   * Returns the coordinates and the associated information of the &lt;tt&gt;iIndex&lt;/tt&gt;&#x27;th point of the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.
   */
  virtual CATBoolean GetIdxPoint (const int      iIndex,
                                  double         oCoords[3],
                                  CATCldInfoPnt &amp;oInfo) const = 0 ;

  /**
   * Returns the coordinates of the &lt;tt&gt;iNbPoints&lt;/tt&gt; points given by their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.&lt;br&gt;
   * &lt;b&gt;CAUTION:&lt;/b&gt; If &lt;tt&gt;ioCoords&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt;, its allocation is done by the method.&lt;br&gt;
   * Otherwise it has to be done by the calling method and its size must be at least &lt;tt&gt;3*iNbPoints&lt;/tt&gt;.&lt;br&gt;
   * In both cases its release &lt;b&gt;HAS TO BE DONE&lt;/b&gt; by the calling method if it is not &lt;tt&gt;NULL&lt;/tt&gt; in case of no points.&lt;br&gt;
   */
  virtual CATBoolean GetIdxCoords (const int   iNbPoints,
                                   const int*  iIndexes,
                                   float*     &amp;ioCoords) const = 0 ;

  /**
   * Returns the coordinates of the &lt;tt&gt;iNbPoints&lt;/tt&gt; points given by their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.&lt;br&gt;
   * &lt;b&gt;CAUTION:&lt;/b&gt; If &lt;tt&gt;ioCoords&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt;, its allocation is done by the method.&lt;br&gt;
   * Otherwise it has to be done by the calling method and its size must be at least &lt;tt&gt;3*iNbPoints&lt;/tt&gt;.&lt;br&gt;
   * In both cases its release &lt;b&gt;HAS TO BE DONE&lt;/b&gt; by the calling method if it is not &lt;tt&gt;NULL&lt;/tt&gt; in case of no points.&lt;br&gt;
   */
  virtual CATBoolean GetIdxCoords (const int   iNbPoints,
                                   const int*  iIndexes,
                                   double*    &amp;ioCoords) const = 0 ;

  /**
   * Returns the associated informations of the &lt;tt&gt;iNbPoints&lt;/tt&gt; points given by their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.&lt;br&gt;
   * &lt;b&gt;CAUTION:&lt;/b&gt; If &lt;tt&gt;ioInfos&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt;, its allocation is done by the method.&lt;br&gt;
   * Otherwise it has to be done by the calling method and its size must be at least &lt;tt&gt;iNbPoints&lt;/tt&gt;.&lt;br&gt;
   * In both cases its release &lt;b&gt;HAS TO BE DONE&lt;/b&gt; by the calling method if it is not &lt;tt&gt;NULL&lt;/tt&gt; in case of no points.&lt;br&gt;
   */
  virtual CATBoolean GetIdxInfos (const int       iNbPoints,
                                  const int*      iIndexes,
                                  CATCldInfoPnt* &amp;ioInfos) const = 0 ;

  /**
   * Returns the coordinates and the associated informations of the &lt;tt&gt;iNbPoints&lt;/tt&gt; points given by their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.&lt;br&gt;
   * &lt;b&gt;CAUTION:&lt;/b&gt; If &lt;tt&gt;ioCoords&lt;/tt&gt; (resp. &lt;tt&gt;ioInfos&lt;/tt&gt;) is &lt;tt&gt;NULL&lt;/tt&gt;, its allocation is done by the method.&lt;br&gt;
   * Otherwise it has to be done by the calling method and its size must be at least &lt;tt&gt;3*iNbPoints&lt;/tt&gt; (resp. &lt;tt&gt;iNbPoints&lt;/tt&gt;).&lt;br&gt;
   * In both cases its release &lt;b&gt;HAS TO BE DONE&lt;/b&gt; by the calling method if it is not &lt;tt&gt;NULL&lt;/tt&gt; in case of no points.&lt;br&gt;
   */
  virtual CATBoolean GetIdxPoints (const int       iNbPoints,
                                   const int*      iIndexes,
                                   float*         &amp;ioCoords,
                                   CATCldInfoPnt* &amp;ioInfos) const = 0 ;

  /**
   * Returns the coordinates and the associated informations of the &lt;tt&gt;iNbPoints&lt;/tt&gt; points given by their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.&lt;br&gt;
   * &lt;b&gt;CAUTION:&lt;/b&gt; If &lt;tt&gt;ioCoords&lt;/tt&gt; (resp. &lt;tt&gt;ioInfos&lt;/tt&gt;) is &lt;tt&gt;NULL&lt;/tt&gt;, its allocation is done by the method.&lt;br&gt;
   * Otherwise it has to be done by the calling method and its size must be at least &lt;tt&gt;3*iNbPoints&lt;/tt&gt; (resp. &lt;tt&gt;iNbPoints&lt;/tt&gt;).&lt;br&gt;
   * In both cases its release &lt;b&gt;HAS TO BE DONE&lt;/b&gt; by the calling method if it is not &lt;tt&gt;NULL&lt;/tt&gt; in case of no points.&lt;br&gt;
   */
  virtual CATBoolean GetIdxPoints (const int       iNbPoints,
                                   const int*      iIndexes,
                                   double*        &amp;ioCoords,
                                   CATCldInfoPnt* &amp;ioInfos) const = 0 ;

  /**
   * Sets the coordinates of the &lt;tt&gt;iIndex&lt;/tt&gt;&#x27;th point of the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.
   */
  virtual CATBoolean SetIdxCoords (const int   iIndex,
                                   const float iCoords[3]) = 0 ;

  /**
   * Sets the coordinates of the &lt;tt&gt;iIndex&lt;/tt&gt;&#x27;th point of the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.
   */
  virtual CATBoolean SetIdxCoords (const int    iIndex,
                                   const double iCoords[3]) = 0 ;

  /**
   * Sets the associated information of the &lt;tt&gt;iIndex&lt;/tt&gt;&#x27;th point of the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt; to the given information.
   */
  virtual CATBoolean SetIdxInfo (const int           iIndex,
                                 const CATCldInfoPnt iInfo) = 0 ;

  /**
   * Sets the associated informations of the &lt;tt&gt;iNbPoints&lt;/tt&gt; points given by their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt; to the given information.
   */
  virtual CATBoolean SetIdxInfo (const int           iNbPoints,
                                 const int*          iIndexes,
                                 const CATCldInfoPnt iInfo) = 0 ;

  /**
   * Sets the coordinates and the associated information of the &lt;tt&gt;iIndex&lt;/tt&gt;&#x27;th point of the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.
   */
  virtual CATBoolean SetIdxPoint (const int           iIndex,
                                  const float         iCoords[3],
                                  const CATCldInfoPnt iInfo) = 0 ;

  /**
   * Sets the coordinates and the associated information of the &lt;tt&gt;iIndex&lt;/tt&gt;&#x27;th point of the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.
   */
  virtual CATBoolean SetIdxPoint (const int           iIndex,
                                  const double        iCoords[3],
                                  const CATCldInfoPnt iInfo) = 0 ;

  /**
   * Sets the coordinates of the &lt;tt&gt;iNbPoints&lt;/tt&gt; points given by their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.
   */
  virtual CATBoolean SetIdxCoords (const int    iNbPoints,
                                   const int*   iIndexes,
                                   const float* iCoords) = 0 ;

  /**
   * Sets the coordinates of the &lt;tt&gt;iNbPoints&lt;/tt&gt; points given by their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.
   */
  virtual CATBoolean SetIdxCoords (const int     iNbPoints,
                                   const int*    iIndexes,
                                   const double* iCoords) = 0 ;

  /**
   * Sets the associated informations of the &lt;tt&gt;iNbPoints&lt;/tt&gt; points given by their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt; to the given informations.
   */
  virtual CATBoolean SetIdxInfos (const int            iNbPoints,
                                  const int*           iIndexes,
                                  const CATCldInfoPnt* iInfos) = 0 ;

  /**
   * Sets the coordinates and the associated informations of the &lt;tt&gt;iNbPoints&lt;/tt&gt; points given by their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.
   */
  virtual CATBoolean SetIdxPoints (const int            iNbPoints,
                                   const int*           iIndexes,
                                   const float*         iCoords,
                                   const CATCldInfoPnt* iInfos) = 0 ;

  /**
   * Sets the coordinates and the associated informations of the &lt;tt&gt;iNbPoints&lt;/tt&gt; points given by their indexes in the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.
   */
  virtual CATBoolean SetIdxPoints (const int            iNbPoints,
                                   const int*           iIndexes,
                                   const double*        iCoords,
                                   const CATCldInfoPnt* iInfos) = 0 ;

  /**
   * Sets to 0 all the associated informations.
   */
  virtual void CleanAllIdxInfos () = 0 ;

  /**
   * Compacts the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.&lt;br&gt;
   * &lt;ul&gt;
   * &lt;li&gt;Calls the &lt;tt&gt;Compact&lt;/tt&gt; method on each &lt;tt&gt;CATCldBody&lt;/tt&gt; sharing the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt;.
   * &lt;li&gt;Compacts the &lt;tt&gt;CATCldSetOfPoints&lt;/tt&gt; (removes the unreferenced points).
   * &lt;li&gt;Does the reindexization of the unitary cells.
   * &lt;/ul&gt;
   */
  virtual void OptimizeMemory () = 0 ;

} ;

CATDeclareHandler (CATCldGenEntity, CATGeometry) ;

#endif
</div>
    
    <div class="navigation">
        <div><a href="CATCldDef.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATCldDef.h</a></div>
        <div><a href="CATCldGrid.html">‰∏ã‰∏ÄÈ°µ: CATCldGrid.h ‚Üí</a></div>
    </div>
</body>
</html>