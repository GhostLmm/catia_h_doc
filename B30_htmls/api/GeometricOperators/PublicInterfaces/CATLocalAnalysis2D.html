<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeometricOperators/PublicInterfaces/CATLocalAnalysis2D.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>GeometricOperators/PublicInterfaces/CATLocalAnalysis2D.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATLocalAnalysis1D.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATLocalAnalysis1D.h</a></div>
        <div><a href="CATMathNurbsCurveTools.html">‰∏ã‰∏ÄÈ°µ: CATMathNurbsCurveTools.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATLocalAnalysis2D_H
#define CATLocalAnalysis2D_H

// COPYRIGHT DASSAULT SYSTEMES  1999

/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */ 

#include &quot;Y30UIUTI.h&quot;

class CATSurface;
class CATMathDirection2D;
#include &quot;CATSurParam.h&quot;
#include &quot;CATMathVector.h&quot;

#include &quot;CATIAV5Level.h&quot;
#include &quot;CATCGMVirtual.h&quot;

//#ifdef CATIAV5R14
#include &quot;CATCreateLocalAnalysisD.h&quot;
class CATSoftwareConfiguration;
//#endif

class CATLocalAnalysis2DImpl;

/**
 * Class defining the local analysis on a point of a CATSurface.
 *&lt;br&gt;It performs curvature, torsion,
 * main normal and binormal on a point of a CATSurface. This class is not streamable.
 * The point where the analysis is done can be changed by @href CATLocalAnalysis2D#SetParam.
 */
class ExportedByY30UIUTI CATLocalAnalysis2D : public CATCGMVirtual
{
   CATCGMVirtualDeclareClass(CATLocalAnalysis2D);
public :
   /**
   * Creates a local analyzer on a point of a CATSurface.
   * @param iSupport
   * The surface on which the analysis is done.
   * @param iPointToAnalyze
   * The parameter on &lt;tt&gt;iSupport&lt;/tt&gt; of the point to analyze.
   */   
   CATLocalAnalysis2D (const CATSurface               *  iSurface       ,
                       const CATSurParam               &amp; iPointToAnalyze);
   
   //#ifdef CATIAV5R14
   /**
   * Creates a local analyzer on a point of a CATSurface.
   * @param iConfig
   * The level of code (Versionning).
   * @param iSupport
   * The surface on which the analysis is done.
   * @param iPointToAnalyze
   * The parameter on &lt;tt&gt;iSupport&lt;/tt&gt; of the point to analyze.
   */   
   CATLocalAnalysis2D (      CATSoftwareConfiguration *  iConfig        ,
                       const CATSurface               *  iSurface       ,
                       const CATSurParam               &amp; iPointToAnalyze);
   //#endif
   
   /**
   * Destructor.
   */
   virtual ~CATLocalAnalysis2D () ;
   
   /**
   * Copy Constructor.
   */
   CATLocalAnalysis2D (const CATLocalAnalysis2D &amp;iAnalysisToCopy ) ;
   
   /**
   * Assignment operator.
   */
   CATLocalAnalysis2D&amp; operator=(const CATLocalAnalysis2D &amp;iAnalysisToAffect) ;
   
   /**
   * Retrieves the first fondamental form at the point of &lt;tt&gt;this&lt;/tt&gt; CATLocalAnalysis2D.
   * @param ioE
   * The first coordinate: &lt;tt&gt;ioE = FirstDerivU.Norm() ^ 2&lt;/tt&gt;, where &lt;tt&gt;FirstDerivU&lt;/tt&gt; is
   * the first derivative with regards to the first parameter.
   * @param ioF
   * The second coordinate: &lt;tt&gt;ioF = FirstDerivU * FirstDerivV&lt;/tt&gt;, where &lt;tt&gt;*&lt;/tt&gt; is the dot product.
   * @param ioE
   * The third coordinate: &lt;tt&gt;ioG = FirstDerivV.Norm() ^ 2&lt;/tt&gt;, where &lt;tt&gt;FirstDerivV&lt;/tt&gt; is
   * the first derivative with regards to the second parameter.
   */ 	 
   virtual void    GetFirstFundamentalForm (double &amp;ioE, double &amp;ioF, double &amp;ioG);
   
   /**
   * Retrieves the second fondamental form at the point of &lt;tt&gt;this&lt;/tt&gt; CATLocalAnalysis2D.
   * &lt;br&gt;Let &lt;tt&gt;H = (FirstDerivU ^ FirstDerivV) / (FirstDerivU ^ FirstDerivV).Norm()&lt;/tt&gt;.
   * @param ioL
   * The first coordinate: &lt;tt&gt;ioL = SecondDerivU2 * H&lt;/tt&gt;, where &lt;tt&gt;SecondDerivU2&lt;/tt&gt; is
   * the second derivative with regards to the first parameter and &lt;tt&gt;*&lt;/tt&gt; the dot product.
   * @param ioM
   * The second coordinate: &lt;tt&gt;ioM = SecondDerivUV * H&lt;/tt&gt;,  where &lt;tt&gt;SecondDerivUV&lt;/tt&gt; is
   * the second derivative with regards to the first parameter and second parameters, 
   * and &lt;tt&gt;*&lt;/tt&gt; the dot product.
   * @param ioN
   * The third coordinate: &lt;tt&gt;ioN = SecondDerivU2 * H&lt;/tt&gt;,  where &lt;tt&gt;SecondDerivV2&lt;/tt&gt; is
   * the second derivative with regards to the second parameter and &lt;tt&gt;*&lt;/tt&gt; the dot product.
   */
   virtual void    GetSecondFundamentalForm (double &amp;ioL, double &amp;ioM, double &amp;ioN);
   
   /**
   * Returns the gaussian curvature at the point of &lt;tt&gt;this&lt;/tt&gt; CATLocalAnalysis2D.
   * @return
   * The Gaussian curvature = &lt;tt&gt;Cmin*Cmax&lt;/tt&gt;, where &lt;tt&gt;Cmin&lt;/tt&gt; is the minium curvature
   * and &lt;tt&gt;Cmax&lt;/tt&gt; the maximum curvature at the point of &lt;tt&gt;this&lt;/tt&gt; analysis.
   */
   virtual double  GetGaussianCurvature ();
   
   /**
   * Returns the mean curvature at the point of &lt;tt&gt;this&lt;/tt&gt; CATLocalAnalysis2D.
   * @return
   * The mean curvature: &lt;tt&gt; = 0.5*(Cmin+Cmax) &lt;/tt&gt;.
   */
   virtual double  GetMeanCurvature ();
   
   /**
   * Returns the min and max curvatures at the point of &lt;tt&gt;this&lt;/tt&gt; CATLocalAnalysis2D.
   * @param ioCmin
   * The minimum curvature.
   * @param ioCmax
   * The maximum curvature: &lt;tt&gt;ioCmin &lt; ioCmax&lt;/tt&gt;.
   *  .
   */
   virtual void  GetMinMaxCurvature (double &amp; ioCmin, double &amp; ioCmax);
   
   //#ifdef CATIAV5R13
   /**
   * Returns the min and max curvatures at the point of &lt;tt&gt;this&lt;/tt&gt; CATLocalAnalysis2D,
   * along with the associated principal curvature directions.
   * The returned 3d and 2d vectors represent directions: no assumption can be made
   * regarding the orientation of the vectors. Likewise, the directions are unspecified
   * at umbilical points (when min curvature = max curvature).
   * @param ioCmin
   * The minimum curvature.
   * @param ioCmax
   * The maximum curvature: &lt;tt&gt;ioCmin &lt; ioCmax&lt;/tt&gt;.
   * @param ioDirMin2D
   * The principal curvature direction associated to the minimal curvature,
   * expressed as a linear combination of the partial derivatives.
   * @param ioDirMax2D
   * The principal curvature direction associated to the maximal curvature.
   * expressed as a linear combination of the partial derivatives.
   * @param ioDirMin3D
   * The principal curvature direction associated to the minimal curvature,
   * expressed in 3D.
   * @param ioDirMax3D
   * The principal curvature direction associated to the maximal curvature,
   * expressed in 3D.
   *  .
   */
   virtual void GetMinMaxCurvaturesAndDirections
      (double &amp; ioCmin, double &amp; ioCmax, CATMathVector2D &amp; ioDirMin2D, CATMathVector2D &amp; ioDirMax2D,
       CATMathVector &amp; ioDirMin3D, CATMathVector &amp; ioDirMax3D);
   //#endif
   
   /**
   * Returns the curvature along a direction of the surface.
   * @param iX
   * The first coordinate of the direction in the space of the surface.
   * @param iY
   * The second coordinate of the direction in the space of the surface.
   * @return 
   * The curvature.
   * &lt;tt&gt;C(iX,iY) = (L.iX^2 + 2M.iX.iY + N.iY^2) / (E.iX^2 + 2F.iX.iY + G.iY^2)&lt;/tt&gt;, where &lt;tt&gt;L,M,N&lt;/tt&gt; are
   * the coordinates of the second fundamental form and &lt;tt&gt;E, F, G&lt;/tt&gt; the coordinates of the
   * first fundamental form
   */
   virtual double  GetCurvatureAlongDirection (const double &amp;iX, const double &amp;iY);
   
   /**
   * Returns the 2D coordinates of the projection of the 3d vector &lt;tt&gt;iVector&lt;/tt&gt; on the
   * surface. 
   * &lt;br&gt; These coordinates are such that: &lt;tt&gt;iVector = ioX*FirstDerivU + ioY*FirstDerivV&lt;/tt&gt;,
   * where &lt;tt&gt;FirstDerivU&lt;/tt&gt; and &lt;tt&gt;FirstDerivV&lt;/tt&gt; are the first derivatives with respect to
   * the first and second surface parameters, and &lt;tt&gt;*&lt;/tt&gt; is the dot product.
   * @param ioX
   * The coordinate along the first derivative with regards to the first surface parameter.
   * @param ioY
   * The coordinate along the first derivative with regards to the second surface parameter.
   * @return
   * The regularity of the point.
   *&lt;dl&gt;&lt;dt&gt;&lt;tt&gt; 0 &lt;/tt&gt; &lt;dd&gt; if it is not regular (&lt;tt&gt;ioX&lt;/tt&gt; and &lt;tt&gt;ioY&lt;/tt&gt; are not calculated)
   *    &lt;dt&gt;&lt;tt&gt; 1 &lt;/tt&gt; &lt;dd&gt; if it is regular&lt;/dl&gt;
   */
   virtual CATLONG32 ProjectVector (CATMathVector &amp; iVector, double &amp;ioX, double &amp;ioY);
   
   /**
   * @nodoc
   * &quot;Small&quot; (=resolution) modification of the point &lt;tt&gt;iPar&lt;/tt&gt; on the surface, the modified
   * point is &lt;tt&gt;ioPar&lt;/tt&gt;.
   */
   virtual void MovePoint (const CATSurParam &amp; iPar, CATSurParam &amp; ioPar) ;
   
   /**
   * Tests whether the point of &lt;tt&gt;this&lt;/tt&gt; CATLocalAnalysis2D is regular.
   *&lt;br&gt;A point is non regular when the partial derivative of one of its coordinate 
   * is null.
   * @return
   * The result of the test.
   * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
   *&lt;dl&gt;&lt;dt&gt;&lt;tt&gt; 0 &lt;/tt&gt; &lt;dd&gt; if it is not regular
   *    &lt;dt&gt;&lt;tt&gt; 1 &lt;/tt&gt; &lt;dd&gt; if it is regular&lt;/dl&gt;
   */
   virtual CATLONG32 IsARegularParam ()    ;
   
   /**
   * Modifies the point where &lt;tt&gt;this&lt;/tt&gt; CATLocalAnalysis2D is performed.
   *&lt;br&gt;The analysis is automatically done.
   * @param iNewParamToAnalyze
   * The parameter of the new point to analyze.
   */
   virtual void SetParam (const CATSurParam &amp;iNewParamToAnalyze) ;
   
protected :
   /** @nodoc */
   virtual void AreFirstAndSecondDerivOK ();
   /** @nodoc */
   const CATSurface               * _Surface;
   /** @nodoc */
         CATSurParam                _Param;
   /** @nodoc */
         CATMathVector              _DU,
                                    _DV,
                                    _DU2,
                                    _DUDV,
                                    _DV2;
   /** @nodoc */
         CATLONG32                  _FirstDeriv,
                                    _SecondDeriv;
   //#ifdef CATIAV5R14
         CATSoftwareConfiguration * _Config;
   //#endif
         CATLocalAnalysis2DImpl   * _LocalAnal2DOpe;
};
    
#endif 
</div>
    
    <div class="navigation">
        <div><a href="CATLocalAnalysis1D.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATLocalAnalysis1D.h</a></div>
        <div><a href="CATMathNurbsCurveTools.html">‰∏ã‰∏ÄÈ°µ: CATMathNurbsCurveTools.h ‚Üí</a></div>
    </div>
</body>
</html>