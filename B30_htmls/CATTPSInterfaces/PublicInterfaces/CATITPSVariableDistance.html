<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CATTPSInterfaces/PublicInterfaces/CATITPSVariableDistance.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>CATTPSInterfaces/PublicInterfaces/CATITPSVariableDistance.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATITPSUnitedFeatures.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATITPSUnitedFeatures.h</a></div>
        <div><a href="CATITPSView.html">‰∏ã‰∏ÄÈ°µ: CATITPSView.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATITPSVariableDistance_H
#define CATITPSVariableDistance_H

// COPYRIGHT DASSAULT SYSTEMES 2018

/**
* @CAA2Level L1
* @CAA2Usage U3
*/

#include &quot;CATBoolean.h&quot;
#include &quot;CATBaseUnknown.h&quot;
#include &quot;CATTPSDatumOrderInFrame.h&quot;

class CATListValCATBaseUnknown_var;

extern &quot;C&quot; const IID IID_CATITPSVariableDistance ;

/**
 * This interface is implemented by Datum System features.
 * &lt;b&gt;Role&lt;/b&gt;: Interface to manage Variable Distance Modifier, [DV], relevant for ISO Standard only.
 * &lt;br /&gt;The [DV] symbol inside a box within a reference frame definition allows
 * linear distance in between the members of the collection of datum features to vary.
 * &lt;br /&gt; ISO defined the concept of collections (group) of Datum Features; this notion is not directly
 * accessible in CAA. Current API is returning a list of Datum Features composing a collections.
 * Parsing procedure of the DRF structure for any Getxx methods is based on the groups as they
 * are defined with the studied Datum System. Hence possible collections are not detected (but they are
 * not either searched for).
 */

class CATITPSVariableDistance : public CATBaseUnknown
{
  CATDeclareInterface;

  public:

    /**
    * Runs an analysis of the specified DRF box to see if DV modifier is applied
    * several times within the considered box.
    * @param iDRFBoxContext [ in ]
    *   First, Second or the Third Box of the DRF to investigate.
    * @param oNbrOfHit      [ in ]
    *   Number of Datum Features (or groups) supporting DV modifier.
    *   This count constitutes the limit in iterative calls Getxx provided here
    *   along with this interface (legal range goes from 1 to oNbrOfHit)
    * @return
    *   An HRESULT value. 
    *   &lt;br /&gt;&lt;strong&gt;Legal values&lt;/strong&gt;:
    *   &lt;dl&gt;
    *     &lt;dt&gt;S_OK&lt;/dt&gt;
    *     &lt;dd&gt;This value reports a proper execution.&lt;/dd&gt;
    *     &lt;dt&gt;S_FALSE&lt;/dt&gt;
    *     &lt;dd&gt;In case DV modifier does not apply (for instance single Datum Feature), this value
    *         is returned.&lt;/dd&gt;
    *     &lt;dt&gt;E_FAIL &lt;/dt&gt;
    *     &lt;dd&gt;If Datum System is not supporting DV modifier.&lt;/dd&gt;
    *     &lt;dd&gt;In case iDRFBoxContext is out of range; for instance trying to
    *         read Tertiary for reference frame A|B.&lt;/dd&gt;
    *   &lt;/dl&gt;
    */
    virtual HRESULT GetModifierCount( const CATTPSDatumOrderInFrame    iDRFBoxContext,
                                      int                            * oNbrOfHit ) const = 0;

    /**
    * Retrieves the list of datum features in the group corresponding to considered box
    * at given index.
    * @param iDRFBoxContext        [ in ]
    *   First, Second or the Third Box of the DRF to investigate.
    * @param iIndexInBox           [ in ]
    *   Index in between 1 and limit returned by @href GetModifierCount.
    * @param oScopeOfDatumFeatures [ out ]
    *   List of the Datum Features to be impacted by application of Distance Variable
    *   condition modifier. This list is necessary a sub list of the call
    *   @href CATITPSReferenceFrame#GetDatumFeatureInBox.
    * @return
    *   An HRESULT value. 
    *   &lt;br /&gt;&lt;strong&gt;Legal values&lt;/strong&gt;:
    *   &lt;dl&gt;
    *     &lt;dt&gt;S_OK&lt;/dt&gt;
    *     &lt;dd&gt;This value reports a proper execution.&lt;/dd&gt;
    *     &lt;dt&gt;S_FALSE&lt;/dt&gt;
    *     &lt;dd&gt;When requested application is already current status when calling this method;
    *         in other words, nothing has been done as [DV] modifier was applied as expected&lt;/dd&gt;
    *     &lt;dt&gt;E_FAIL &lt;/dt&gt;
    *     &lt;dd&gt;In case iDRFBoxContext is out of range; for instance trying to
    *         read Tertiary for reference frame A|B.&lt;/dd&gt;
    *   &lt;/dl&gt;
    */
    virtual HRESULT GetListOfDatum( const CATTPSDatumOrderInFrame   iDRFBoxContext,
                                    int                             iIndexInBox,
                                    CATListValCATBaseUnknown_var  &amp; oScopeOfDatumFeatures ) const = 0;
    
    /**
     * &lt;br /&gt;&lt;strong&gt;Role&lt;/strong&gt;: Manages [DV] modifier application into DRF box defined by iDRFBoxContext.
     * &lt;br /&gt;Pay attention when this method is called (most of the time when turning of a DV modifier), this
     * can result in collections rework (parenthesis scopes are simplified when possible); it is strongly
     * recommended to run @href GetModifierCount to get refreshed information about DRF structuration.
     * &lt;br /&gt;&lt;strong&gt;Precondition&lt;/strong&gt;: ISO Standard applied.
     *  @param iDRFBoxContext          [ in ]
     *    First, Second or the Third Box of the DRF to investigate.
     *  @param iValue                  [ in ]
     *    Optional argument: TRUE (deafult value) is given to set this option active;
     *    FALSE has to be provided otherwise.
     *  @param opiScopeOfDatumFeatures [ in ]
     *    Optional argument: when not provided application of DV modifier applies on the group
     *    constituted by all the datums of the considered box. When explicitly given, the list of
     *    Datum Feature must be a sub-list of the list sent back using
     *    @href CATITPSReferenceFrame#GetDatumFeatureInBox. Moreover, this order in the sub-list
     *    argument must follow the order in the Datum Reference frame.
     * @return
     *   An HRESULT value. 
     *   &lt;br /&gt;&lt;strong&gt;Legal values&lt;/strong&gt;:
     *   &lt;dl&gt;
     *     &lt;dt&gt;S_OK&lt;/dt&gt;
     *     &lt;dd&gt;This value reports a proper execution&lt;/dd&gt;
     *     &lt;dt&gt;S_FALSE&lt;/dt&gt;
     *     &lt;dd&gt;When requested application is already current status when calling this method;
     *         in other words, nothing has been done as [DV] modifier was applied as expected&lt;/dd&gt;
     *     &lt;dt&gt;E_FAIL &lt;/dt&gt;
     *     &lt;dd&gt;In case iDRFBoxContext is out of range; for instance trying to
     *         read Tertiary for reference frame A|B&lt;/dd&gt;
     *   &lt;/dl&gt;
     */
    virtual HRESULT SetModifier( const CATTPSDatumOrderInFrame        iDRFBoxContext,
                                 const CATBoolean                     iValue,
                                 const CATListValCATBaseUnknown_var * ipiScopeOfDatumFeatures = NULL ) = 0;

    /**
     * &lt;br /&gt;&lt;strong&gt;Role&lt;/strong&gt;: Retrieves [DV] modifier application into DRF box defined by iDRFBoxContext.
     * &lt;br /&gt;&lt;strong&gt;Precondition&lt;/strong&gt;: ISO Standard applied.
     *  @param iDRFBoxContext [ in ]
     *    First, Second or the Third Box of the DRF to investigate.
     *  @param oValue         [ out ]
     *    States if [DV] option is applied when TRUE value is returned; at the opposite
     *    oValue is FALSE.
     *  @param ipIndexInBox   [ in ]
     *    Optional argument: when not provided, returned value is global to the entire group of
     *    Datum Features constituting current Datum System box. When expressed, value is to be lower
     *    than limit read with call to @href CATITPSVariableDistance#GetModifierCount.
     *  @return
     *   An HRESULT value. 
     *   &lt;br /&gt;&lt;strong&gt;Legal values&lt;/strong&gt;:
     *   &lt;dl&gt;
     *     &lt;dt&gt;S_OK&lt;/dt&gt;
     *     &lt;dd&gt;This value has been correctly retrieved&lt;/dd&gt;
     *     &lt;dt&gt;E_FAIL &lt;/dt&gt;
     *     &lt;dd&gt;Otherwise&lt;/dd&gt;
     *   &lt;/dl&gt;
     */
    virtual HRESULT GetModifier( const CATTPSDatumOrderInFrame   iDRFBoxContext,
                                 CATBoolean                    &amp; oValue,
                                 int                           * ipIndexInBox = NULL ) const = 0;  
};

CATDeclareHandler (CATITPSVariableDistance, CATBaseUnknown);

#endif
</div>
    
    <div class="navigation">
        <div><a href="CATITPSUnitedFeatures.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATITPSUnitedFeatures.h</a></div>
        <div><a href="CATITPSView.html">‰∏ã‰∏ÄÈ°µ: CATITPSView.h ‚Üí</a></div>
    </div>
</body>
</html>