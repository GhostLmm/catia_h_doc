<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VPMInterfaces/PublicInterfaces/CATIVpmPredicate.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>VPMInterfaces/PublicInterfaces/CATIVpmPredicate.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATIVpmPathExpression.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATIVpmPathExpression.h</a></div>
        <div><a href="CATIVpmQuery.html">‰∏ã‰∏ÄÈ°µ: CATIVpmQuery.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">//=============================================================================
// COPYRIGHT DASSAULT SYSTEMES 2001
//=============================================================================

#ifndef CATIVpmPredicate_h_

#define CATIVpmPredicate_h_



///////////////////////////////////////////////////////////////////////////////
//   PROJECT:...........VPM                                                  //
//   FRAMEWORK:.........                                                     //
//   AUTHOR:............Ivan Sarti (IDC Ltd.)                                //
//   DATE:..............16/06/1997                                           //
//             -----------------------------------------------               //
//   AUTHOR:............Basma FARHOUD                                        //
//   MODIFICATION:......Documentation Update                                 //
//   DATE:.............. 04/12/10                                            //
//             -----------------------------------------------               //
//                                                                           //
//   AUTHOR:............                                                     //
//   MODIFICATION:......                                                     //
//   DATE:..............  /  /                                               //
///////////////////////////////////////////////////////////////////////////////





// ========================================================================= //
//   COMMENT                                                                 //
//   =======                                                                 //
//   Style and layout has been copied from CATInterfaceObject.h, but no      //
//   specific classes, includes, etc., have been defined at this point (see  //
//   first date). These items will be added in time, but for the moment is   //
//   simply the template for the CATCATIVpmPredicate interface.                        //
// ========================================================================= //



#include &quot;CATInterfaceObject.h&quot;

#include &quot;CATBaseUnknown.h&quot;

#include &quot;CATUnicodeString.h&quot;

#include &quot;CATIVpmPathExpression.h&quot;

#include &quot;GUIDVPMInterfaces.h&quot;

#include &quot;CORBAAnyDef.h&quot;





/**
 * @nodoc
 */

typedef enum {
	CATVpmOpNONE,
	CATVpmOpAND,
	CATVpmOpOR,
	CATVpmOpEQUAL,
	CATVpmOpDIFFERENT,
	CATVpmOpLOWER,
	CATVpmOpLOWER_OR_EQUAL,
	CATVpmOpGREATER,
	CATVpmOpGREATER_OR_EQUAL,
	CATVpmOpIS_NULL,
	CATVpmOpIS_LIKE,
	CATVpmOpIS_IN
} CATVpmOperator;



#ifndef LOCAL_DEFINITION_FOR_IID
extern ExportedByGUIDVPMInterfaces IID IID_CATIVpmPredicate;
#else
extern &quot;C&quot; const IID IID_CATIVpmPredicate;
#endif



/**
 *  @CAA2Level L1
 *  @CAA2Usage U3
 */ 



class CATIVpmPredicate_var;

class CATString;



/**
 * Interface to manage predicates.
 * &lt;br&gt;
 * &lt;b&gt;warning&lt;/b&gt;: To use this interface, do not consider only the module and framework shown at the bottom of this
 * page. 
 * You must also add the GUIDVPMQueryBuilder module in your Imakefile.mk file, and the framework VPMQueryBuilder in your 
 * framework Identity card.
 */



class ExportedByGUIDVPMInterfaces CATIVpmPredicate : public CATBaseUnknown

{

    // --&gt; RTTI

	CATDeclareInterface;



  public:

/**
 * @nodoc
 */

    virtual int                        IsNOT () = 0;

/**
 * @nodoc
 */

    virtual int                        SetNOT () = 0;

/**
 * @nodoc
 */

    virtual CATVpmOperator             GetOperator() = 0 ;

    // --&gt; Other member functions.

/**
 * @nodoc
 */

    virtual CATIVpmPredicate_var       GetFirstPredicate() = 0 ;

/**
 * @nodoc
 */

    virtual CATIVpmPredicate_var       GetSecondPredicate() = 0 ;

    // --&gt; Other member functions.

/**
 * @nodoc
 */

    virtual CATIVpmPathExpression_var  GetLeftExpression() = 0 ;

/**
 * @nodoc
 */

    virtual CORBAAny                   GetValue() = 0 ;

/**
 * @nodoc
 */

    virtual void                       SetValue(CORBAAny&amp;any) = 0 ;

    // --&gt; Add join criteria within predicate

/**
 * @nodoc
 */

    virtual long Join(const CATIVpmPathExpression_var &amp;iJoin) = 0;

    // --&gt; get the stream as string corresponding to the predicate

/**
 * @nodoc
 */

    virtual HRESULT GetStream(CATUnicodeString&amp; oTheStream) = 0;

};







CATDeclareHandler(CATIVpmPredicate,CATBaseUnknown);





/**
 * @nodoc
 */

extern ExportedByGUIDVPMInterfaces CATIVpmPredicate_var CreatePredicate(

                          int                       is_not,

                          CATIVpmPathExpression_var LeftExpression,

                          CATVpmOperator            compare,

                          const CATUnicodeString    &amp;RightExpression);



// ========================================================================= //
// Predicates builders
// ========================================================================= //



/**
 * @nodoc
 */

#define DECLARE_PathExpressionPredicate(op_function) \
  extern ExportedByGUIDVPMInterfaces CATIVpmPredicate_var op_function (CATIVpmPathExpression_var LeftExp, CORBAAny any)



/**
 * @nodoc
 */

#define DECLARE_SimplePathExprPredicate(op_function) \
  extern ExportedByGUIDVPMInterfaces CATIVpmPredicate_var op_function (CATIVpmPathExpression_var LeftExp)



/**
 * @nodoc
 */

#define DECLARE_BinaryPredicate(op_function) \
  extern ExportedByGUIDVPMInterfaces CATIVpmPredicate_var op_function (const CATIVpmPredicate_var &amp;pred1, const CATIVpmPredicate_var &amp;pred2)



// *) PathExpression Predicates:
// you can use following operator functions (&lt;,&lt;=,==,!=,&gt;,&gt;=,=~) with:
// - as first parameter: a PathExpression object (as left expression)
// - as second parameter: a CORBAAny value (as right expression)
// You can also use IsLike(...) function.





/**
 * Creates a == Predicate
 * 
 * @param LeftExp
 * The Path Expression to valuate. 
 *
 * @param any
 * The value to be compared to.
 *
 * @return:
 * The created predicate. 
 *
 */

DECLARE_PathExpressionPredicate(operator ==);



/**
 * Creates a != Predicate. 
 *
 * @param LeftExp
 * The Path Expression to valuate. 
 *
 * @param any
 * The value to be compared to.
 *
 * @return:
 * The created predicate. 
 *
 */

DECLARE_PathExpressionPredicate(operator !=);




/**
 * Creates a &amp;lt;= Predicate. 
 *
 * @param LeftExp
 * The Path Expression to valuate. 
 *
 * @param any
 * The value to be compared to.
 *
 * @return:
 * The created predicate. 
 *
 */

DECLARE_PathExpressionPredicate(operator &lt;=);



/**
 * Creates a &amp;lt; Predicate. 
 *
 * @param LeftExp
 * The Path Expression to valuate. 
 *
 * @param any
 * The value to be compare to.
 *
 * @return:
 * The created predicate. 
 *
 */

DECLARE_PathExpressionPredicate(operator &lt;);



/**
 * Creates a &amp;gt;= Predicate. 
 *
 * @param LeftExp
 * The Path Expression to valuate. 
 *
 * @param any
 * The value to be compared to.
 *
 * @return:
 * The created predicate. 
 *
 */

DECLARE_PathExpressionPredicate(operator &gt;=);



/**
 * Creates a % Predicate. 
 *
 * @param LeftExp
 * The Path Expression to valuate. 
 *
 * @param any
 * The value to be compared to.
 *
 * @return:
 * The created predicate. 
 *
 */

DECLARE_PathExpressionPredicate(operator %);



/**
 * Creates a &amp;gt; Predicate. 
 *
 * @param LeftExp
 * The Path Expression to valuate. 
 *
 * @param any
 * The value to be compared to.
 *
 * @return:
 * The created predicate. 
 *
 */

DECLARE_PathExpressionPredicate(operator &gt;);



/**
 * Creaets an IsLike Predicate. 
 *
 * @param LeftExp
 * The Path Expression to valuate. 
 *
 * @param any
 * The value to be compared to.
 *
 * @return:
 * The created redicate. 
 *
 */

DECLARE_PathExpressionPredicate(IsLike);





/**
 * Creates an IsInSet Predicate. 
 *
 * @param LeftExp
 * The Path Expression to valuate. 
 *
 * @param any
 * The set of values among which the Left Expression value will be searched.
 *
 * @return:
 * The created predicate. 
 *
 */

DECLARE_PathExpressionPredicate(IsInSet);



// *) Binary/Unary Predicates:
// you can use operator *() or operator +() between two Predicates,
// - operator *(), &amp;&amp;(): AND predicate
// - operator +(), ||(): OR predicate



/**
 * Creates an AND Predicate (*).
 *
 * @param pred1
 * The first prediacte. 
 *
 * @param pred2
 * The second prediacte. 
 *
 * @return:
 * The created predicate. 
 *
 */

DECLARE_BinaryPredicate(operator *);



/**
 * Creates an AND Predicate (&amp;amp;&amp;amp;).
 *
 * @param pred1
 * The first prediacte. 
 *
 * @param pred2
 * The second prediacte. 
 *
 * @return:
 * The created predicate. 
 *
 */

DECLARE_BinaryPredicate(operator &amp;&amp;);



/**
 * Creates an OR Predicate (+).
 *
 * @param pred1
 * The first prediacte. 
 *
 * @param pred2
 * The second prediacte. 
 *
 * @return:
 * The created predicate. 
 *
 */

DECLARE_BinaryPredicate(operator +);



/**
 * Creates an OR Predicate (||).
 *
 * @param pred1
 * The first prediacte. 
 *
 * @param pred2
 * The second prediacte. 
 *
 * @return:
 * The created predicate. 
 *
 */

DECLARE_BinaryPredicate(operator ||);



/**
 * Creates an IsNOT Predicate.
 *
 * @param iPred
 * The predicate to negate.  
 *
 * @return:
 * The created predicate. 
 *
 */

extern ExportedByGUIDVPMInterfaces const CATIVpmPredicate_var &amp;IsNOT(const CATIVpmPredicate_var &amp;iPred);



/**
 * Creates an IsNULL Predicate.
 *
 * @param LeftExp
 * The Path Expression to check. 
 *
 * @return:
 * The created predicate. 
 */

DECLARE_SimplePathExprPredicate(IsNULL);



// *) ex:
//  CATIVpmPathExpression_var person_id   = CreatePathExpression(&quot;person&quot;,&quot;id&quot;);
//  CATIVpmPathExpression_var person_role = CreatePathExpression(&quot;person&quot;,&quot;role.name&quot;);
//  CATIVpmPredicate_var pred1 = (person_id == (CORBAAny)&quot;myname&quot;);
//  CATIVpmPredicate_var pred2 = ! (person_role == (CORBAAny)&quot;approver&quot;);
//  CATIVpmPredicate_var pred3 = pred1 * pred2;
//
//  -&gt; pred3 stands for:
//  WHERE ( person.id = &#x27;myname&#x27; AND ( NOT ( person.role.name = &#x27;approver&#x27; ) ) );
//
//  -&gt; the following pred4 as the same result than pred3 in a single predicate:
//  CATIVpmPredicate_var pred4 = (person_id == (CORBAAny)&quot;myname&quot;)
//                             * (!(person_role == (CORBAAny)&quot;approver&quot;));
//
//  -&gt; Simple, isn&#x27;t it ?





//use of stream as unicode string
// #include &quot;VX0QURY.h&quot;

#ifdef  _WINDOWS_SOURCE
#ifdef  __VX0QURY
#define ExportedByVX0QURY      __declspec(dllexport)
#else
#define ExportedByVX0QURY      __declspec(dllimport)
#endif
#else
#define ExportedByVX0QURY
#endif



/**
 * Outputs a Predicate Description to a CATUnicodeString.
 *
 * @param iPred 
 * The predicate. 
 *
 * @param iPredDecription
 *  The Predicate Description. 	
 *	
 * @return:
 * The predicate described. 
 */

extern ExportedByVX0QURY

    CATIVpmPredicate_var operator &gt;&gt; (const CATIVpmPredicate_var &amp;iPred, CATUnicodeString&amp; iPredDecription );





//you can stream an existing predicate into a CATUnicodeString
//to do that, use simply the &gt;&gt; operator
//for e.g., on the pred1 previous predicate
//
// CATUnicodeString theStream;
// pred1 &gt;&gt; theStream;
//
//the result is [person: id = &quot;myname&quot;]



			      

#endif // CATIVpmPredicate_h_











</div>
    
    <div class="navigation">
        <div><a href="CATIVpmPathExpression.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATIVpmPathExpression.h</a></div>
        <div><a href="CATIVpmQuery.html">‰∏ã‰∏ÄÈ°µ: CATIVpmQuery.h ‚Üí</a></div>
    </div>
</body>
</html>