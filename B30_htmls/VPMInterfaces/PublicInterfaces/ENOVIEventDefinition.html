<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VPMInterfaces/PublicInterfaces/ENOVIEventDefinition.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>VPMInterfaces/PublicInterfaces/ENOVIEventDefinition.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="ENOVIEvent.html">‚Üê ‰∏ä‰∏ÄÈ°µ: ENOVIEvent.h</a></div>
        <div><a href="ENOVIEventManager.html">‰∏ã‰∏ÄÈ°µ: ENOVIEventManager.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">//
// COPYRIGHT DASSAULT SYSTEMES 1999
//------------------------------------------------------------------------------
// Interface  : ENOVIEventDefinition    
// Author     : BGE
// Date       : 07/07/1999
// Modified by: RCB July 2000 
// Purpose    : Detailing Events which were registered by Packages.
//------------------------------------------------------------------------------
//
#ifndef ENOVIEventDefinition_H
#define ENOVIEventDefinition_H

/**
 * @CAA2Level L1
 * @CAA2Usage U3
 */

#include &quot;GUIDVPMInterfaces.h&quot;
#include &quot;CATBaseUnknown.h&quot;
#include &quot;CATUnicodeString.h&quot;
#include &quot;CATListOfCATUnicodeString.h&quot;
#include &quot;ENOVRegDictionary.h&quot;

#ifndef LOCAL_DEFINITION_FOR_IID
extern ExportedByGUIDVPMInterfaces IID IID_ENOVIEventDefinition;
#else
extern &quot;C&quot; const IID IID_ENOVIEventDefinition;
#endif

/**
* &lt;br&gt; Packages define and register the Events they want their objects to raise.
* &lt;br&gt;          (or modify existing events).
* &lt;br&gt;      Several characteristic are defined : 
*&lt;br&gt;
*  &lt;br&gt;Visibility for Subscribers:
*  &lt;br&gt;==========================
*  &lt;br&gt;         association Type/Event (or Class/Method) can be declared Public/Protected/Private.
*      &lt;br&gt;     i.e. Public    : All clients can Susbcribe To
*          &lt;br&gt;      Protected : Seen by only deriving Types.
*              &lt;br&gt;  Private   : Seen only inside the Package. 
*&lt;br&gt;
*  &lt;br&gt;Persistency of an Event:
*  &lt;br&gt;=======================
*      &lt;br&gt;    an Event may be declared persistent, i.e. each time a publisher will raise this event, 
*      &lt;br&gt;    it will be logged , in order to be saved in Database, at Session Save.
*&lt;br&gt;
*  &lt;br&gt;Type Of Event Raise :
*  &lt;br&gt;===================
*      &lt;br&gt; 2 modes for raising an event :
*       &lt;br&gt;&quot;Standard&quot; Mode            : the publisher raises the event only once, 
*          &lt;br&gt;                         at any location inside the implementation method
*       &lt;br&gt;&quot;Before&quot; and &quot;After&quot; Mode  : the publisher raises a &quot;message&quot; BEFORE
*           &lt;br&gt;                        when entering the method, and a &quot;message&quot; AFTER 
*               &lt;br&gt;                    when exiting the method. So, a client can subscribe to
*                   &lt;br&gt;                only one Step, or both.
*&lt;br&gt;
*    &lt;br&gt;  MoreOver, an event can be veto-able, only if it was declared Before/After, i.e. a subscriber
*      &lt;br&gt;can prevent the publisher method to run, if this publisher gives this opportunity. It&#x27;s why
*      &lt;br&gt;we need Before step, in entering the method. The veto is available only in the Before Step
*      &lt;br&gt;of an event.
*&lt;br&gt;
*  &lt;br&gt;Associated Data Streams :
* &lt;br&gt;==========================
*     &lt;br&gt; A Publisher can declare that data are associated to a couple ( Class, Event); those data
*      &lt;br&gt;are transmitted to the subscribers when an event is raised. Those Data have a given format,
*      &lt;br&gt;described in the registration.
*&lt;br&gt;
*  &lt;br&gt;Associated CallBack Interfaces:
*  &lt;br&gt;===============================
*      &lt;br&gt;a class which declares Events declares one associated CallBack Interface.
*      &lt;br&gt;These interfaces contain 2 sets of methods :
*      &lt;br&gt;- onBefore&lt;EventName&gt;(...), onAfter&lt;EventName&gt;(...) if Event &lt;EventName&gt; is declared with 2 steps.
*      &lt;br&gt;- on&lt;EventName&gt;(...) if  Event &lt;EventName&gt; is declared &quot;Standard&quot;.
*&lt;br&gt;
*    &lt;br&gt;  - 1 method onKo(...) which is called back if one other subscriber did something wrong at event raise.
*  &lt;br&gt;
*      &lt;br&gt;A Package chooses to group the whole set of methods related to Events in one single interface, or
*      &lt;br&gt;to put them in some separate interfaces. Anyway, those interfaces are declared and the client must
*      &lt;br&gt;known them to be able to subscribe to events.
*/

/**
*  Interface to get the definitions of events that a publisher (type or instance) can raise.
*  &lt;b&gt;Role&lt;/b&gt;: &lt;br&gt; All information about events are stored: the event name, the root type for 
*  which this event was registered, the package it belongs to,
*  if there is an associated data stream, what are the associated callback interfaces, etc.
*/
class ExportedByGUIDVPMInterfaces ENOVIEventDefinition : public CATBaseUnknown
{
	 
	 CATDeclareInterface ;
	 
public :

	 /**
	  * Gets the event name.
      * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt; : Retrieves the name of the event.
	  * @param oEventName
	  *   string giving the name of the event
	  */
	 virtual HRESULT GetEventName(
		 CATUnicodeString &amp; oEventName)=0;
	 
	 /**
	  * @nodoc
	  */
	 virtual HRESULT GetInputPublisher(
		 CATUnicodeString &amp; oTypeName,
		 CATUnicodeString &amp; oBelongingPackage)=0;
	 
	 /**
	  * Gets the type publishing the event.
      * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt; : Retrieves the type of the publishing object.
	  * @param oPublisherType
	  *   string giving the type of the publishing object
	  * @param oBelongingPackage
	  *   string giving the name of the package declaring the event
	  * @param oWhichLevel
	  *   level of inheritance of the type
	  */
	 virtual HRESULT GetSourcePublisher(
		 CATUnicodeString &amp; oPublisherType,
		 CATUnicodeString &amp; oBelongingPackage, 
		 int &amp; oWhichLevel)=0;
	 
	 /**
	  * Gets the visibility of the event.
      * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt; : Retrieves the type of the event.
	  * @param oVisibility
	  *   enum value giving the visibility of the event
	  */
	 virtual HRESULT GetVisibility(
		 ENOVEvtType &amp; oVisibility)=0;
	 
	 /**
	  * Checks if there is a data stream associated to the event.
      * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt; : Allows to know if the event has an associated stream of data.
	  * @return
	  *   TRUE if there is a data stream
	  */
	 virtual CATBoolean HasAssociatedData()=0;
	 
	 /**
	  * Checks if the event is persistent.
      * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt; : Allows to know if the event is stored in the database.
	  * @return
	  *   TRUE if the event is persistent
	  */
	 virtual CATBoolean IsPersistentEvent()=0;
	 
	 /**
	  * Checks if the event has two steps.
      * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt; : Allows to know if the event is fired twice inside the scope of the corresponding method.
	  * @return
	  *   TRUE if the event has two steps
	  */
	 virtual CATBoolean IsBeforeAfterMode()=0;
	 
	 /**
	  * Checks if the event is veto-able.
      * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt; : Allows to know if the event can be vetoed by a subscriber.
	  * @return
	  *   TRUE if the event is veto-able
	  */
	 virtual CATBoolean IsVetoAble()=0;
	 
	 /**
	  * Checks if the event is subscribe-able as far as instance objects are concerned.
      * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt; : Allows to know if the event can be subscribed to on instances.
	  * @return
	  *   TRUE if the event is subscribe-able
	  */
	 virtual CATBoolean IsInstanceSubscribable()=0;
	 
	 /**
	  * Gets the data stream associated to the event.
      * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt; : Retrieves the characteristics of an event stream.
	  * @param oStreamName
	  *   string giving the name of the event stream
	  * @param oArgumentNames
	  *   list of strings giving the names of the stream arguments
	  */
	 virtual HRESULT GetAssociatedData(
		 CATUnicodeString&amp; oStreamName,
		 CATListOfCATUnicodeString&amp; oArgumentNames)=0;

	 /**
	  * Gets the type of a stream argument.
      * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt; : Retrieves the name of the event.
	  * @param oArgumentName
	  *   string giving the name of the stream argument
	  * @param oArgumentType
	  *   enum value giving the type of the stream argument
	  */
	 virtual HRESULT GetTypeOfArgument(
		 const CATUnicodeString&amp; iArgumentName,
		 ENOVEvtArgType&amp; oArgumentType)=0;
	 
	 /**
	  * Gets the list of callback interfaces associated to the event.
      * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt; : Retrieves the names of the callback interfaces.
	  * @param oInterfaceNames
	  *   list of strings giving the names of the callback interfaces
	  */
	 virtual HRESULT GetCallBackInterfaceNames (
		 CATListOfCATUnicodeString&amp; oInterfaceNames)=0;
	 
};

CATDeclareHandler(ENOVIEventDefinition, CATBaseUnknown);

#endif // ENOVIEventDefinition
</div>
    
    <div class="navigation">
        <div><a href="ENOVIEvent.html">‚Üê ‰∏ä‰∏ÄÈ°µ: ENOVIEvent.h</a></div>
        <div><a href="ENOVIEventManager.html">‰∏ã‰∏ÄÈ°µ: ENOVIEventManager.h ‚Üí</a></div>
    </div>
</body>
</html>