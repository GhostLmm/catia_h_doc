<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VPMInterfaces/PublicInterfaces/CATICfgModification.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>VPMInterfaces/PublicInterfaces/CATICfgModification.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATICfgModRestriction.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATICfgModRestriction.h</a></div>
        <div><a href="CATICfgModificationUE.html">‰∏ã‰∏ÄÈ°µ: CATICfgModificationUE.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATICfgModification_h
#define CATICfgModification_h

//COPYRIGHT DASSAULT SYSTEMES 2000

/**
 *@CAA2Level L1
 *@CAA2Usage U3
 */

/**
 * Interface to manage the Effectivity expressions.
 * &lt;b&gt;Role&lt;/b&gt;: This interface can be used to create,query or manage the  effectivity expressions across all domains.
 * Any instance of a class implementing CATIVpmFactoryManager
 * ( @href CATIVpmFactoryManager ) a DS component (like CATICfgManager) can be used to query
 * for the implementation of this interface. &lt;/p&gt;
 * @see CATICfgManager.
*/


#include &quot;CATIAV5Level.h&quot;

#include &quot;CATBaseUnknown.h&quot;
#include &quot;sequence_octet.h&quot;
#include &quot;sequence_CORBAAny.h&quot;
#include &quot;CATUnicodeString.h&quot; // Ne pas enlever
#include &quot;GUIDVPMInterfaces.h&quot;
#include &quot;CATListOfCATUnicodeString.h&quot;

class CATListValCATICfgHistory_var;
class CATListValCATICfgValidatedEffectivity_var;
class CATListValCATICfgXEff_var;
class CATListValCATICfgModification_var;
class CATListValCATICfgORExpression_var;
class CATListValCATICfgNormalValue_var;
class CATICfgORExpression_var;
class CATIConfigurableObject_var;
class CATICfgModification_var;
class CATListValCATICfgBasicEffectivity_var;
class CATICfgXEff_var;
class CATICfgEffectivity_var;
class CATICfgGroupModif_var;
class CATILinkableObject_var;

#ifndef LOCAL_DEFINITION_FOR_IID
extern ExportedByGUIDVPMInterfaces IID IID_CATICfgModification ;
#else
extern &quot;C&quot; const IID IID_CATICfgModification ;
#endif


class ExportedByGUIDVPMInterfaces CATICfgModification :public CATBaseUnknown {

     CATDeclareInterface;

public:


/**
 * This ModificationEffectivity supersedes an input List of ModificationEffectivities: to be used when
 * you cannot update the Effecivity of the ModificationEffectivities in iListMod.
 * &lt;br&gt;&lt;b&gt;Postcondition:&lt;/b&gt; All the Objects pointed in &quot;+&quot; or &quot;-&quot; by the ModificationEffectivities of the
 * given input List are now aggregated by this ModificationEffectivity.
 * @param iListMod
 *   The input List of ModificationEffectivities.
 */
     virtual HRESULT Supersede(const CATListValCATICfgModification_var &amp;iListMod) = 0;

/**
 * Retrieve the List of ModificationEffectivities superseded by this ModificationEffectivity.
 * @param oListMod
 *   List of ModificationEffectivities superseded: the method does not clean oListMod, it allows
 *   you to reuse oListMod in multiple call to GetSuperseded.
 */
     virtual HRESULT GetSuperseded(CATListValCATICfgModification_var &amp;oListMod) const = 0;

/** @nodoc */
     virtual HRESULT SetProposedEffectivity(const CATICfgORExpression_var &amp;iORExp) = 0;

/** @nodoc */
     virtual HRESULT GetProposedEffectivity(CATICfgORExpression_var &amp;oORExp) const = 0;        

/** @nodoc */
     virtual HRESULT Validated(int &amp;oValidated) const = 0;

/** @nodoc */
     virtual HRESULT Validate(const CATICfgORExpression_var &amp;iVal,
			      CATListValCATICfgValidatedEffectivity_var &amp;oValidatedEffectivityList) = 0;

/** @nodoc */
     virtual HRESULT ValidatedInto(CATICfgORExpression_var &amp;oList) const = 0;

/** @nodoc */
     enum ModState {Normal, Canceled, Superseded, Penetration, Hidden, NewVersionType};

/**
 * Return the State of the ModificationEffectivity.
 * @param oModState
 *   State of the ModificationEffectivity.
 *   &lt;br&gt;&lt;b&gt;legal values:&lt;/b&gt; Normal, Canceled, Superseded, Penetration.
 */
     virtual HRESULT GetModState(CATICfgModification::ModState &amp;oModState) const = 0;

/** @nodoc */
     virtual HRESULT SetModState(const CATICfgModification::ModState iModState) = 0;

/** @nodoc */
     virtual HRESULT GetSign(int &amp;oSign) const = 0;

/**
 * Return the Name of the ModificationEffectivity.
 * @param oName
 *   The ModificationEffectivity Name.
 */
     virtual HRESULT GetName(CATUnicodeString &amp;oName) const = 0;

/**
 * Set an Effectivity (as an ORExpression) to this ModificationEffectivity.
 * @param iDomainName
 *   DomainName of the Effectivity.
 * @param iOrExp
 *   Effectivity to set.
 */
     virtual HRESULT SetX_Eff(const CATUnicodeString &amp;iDomainName,const CATICfgORExpression_var &amp;iOrExp) = 0;

/**
 * Remove an Effectivity, given its DomainName, from this ModificationEffectivity.
 * @param iDomainName
 *   DomainName of the Effectivity to remove.
 */
     virtual HRESULT RemoveX_Eff(const CATUnicodeString &amp;iDomainName) = 0;

/**
 * Return the List of Effectivities (as ORExpressions) associated to this ModificationEffectivity.
 * @param oDomainList
 *   DomainName List of the Effectivities.
 * @param oOrExpList
 *   List of Effectivities.
 */
     virtual HRESULT GetX_EffList (CATListOfCATUnicodeString &amp;oDomainList,
				   CATListValCATICfgORExpression_var &amp;oOrExpList,int iComputeCommonCondition = 0) = 0;




/**
 * Return the Effectivity (as an ORExression) associated to this ModificationEffectivity, given its DomainName.
 * @param iDomainName
 *   Input DomainName of the Effectivity.
 * @param oOrExp
 *   Effectivity to return.
 */
     virtual HRESULT GetX_Eff (const CATUnicodeString &amp;iDomainName, CATICfgORExpression_var &amp;oOrExp) = 0;

/** @nodoc */
     virtual HRESULT SetX_Status (const CATUnicodeString &amp;iDomainName,const CATUnicodeString &amp;iStatus) = 0;

/** @nodoc */
     virtual HRESULT GetX_Status (const CATUnicodeString &amp;iDomainName,CATUnicodeString &amp;oStatus) = 0;

/**
 * Attach in &quot;+&quot; a given UUID-Object to this ModificationEffectivity.
 * @param iObjectUUID
 *   UUID of the Object.
 */
     virtual HRESULT AttachPlus(const SEQUENCE(octet) &amp;iObjectUUID) = 0;

/**
 * Return the List of Objects attached in &quot;+&quot; to this ModificationEffectivity.
 * @param oAttached
 *   List of the Objects attached in &quot;+&quot;.
 */
     virtual HRESULT GetAttachedObjectsPlus(SEQUENCE(CORBAAny)&amp; oAttached) = 0; 

/**
 * Attach in &quot;-&quot; a given UUID-Object to this ModificationEffectivity.
 * @param iObjectUUID
 *   UUID of the Object.
 */
     virtual HRESULT AttachMinus(const SEQUENCE(octet) &amp;iObjectUUID) = 0;

/**
 * Return the List of Objects attached in &quot;-&quot; to this ModificationEffectivity.
 * @param oAttached
 *   List of the Objects attached in &quot;-&quot;.
 */
     virtual HRESULT GetAttachedObjectsMinus(SEQUENCE(CORBAAny)&amp; oAttached) = 0;

/**
 * Make an Extension on a given UUID-Object for this ModificationEffectivity.
 * @param iObjectUUID
 *   UUID of the Object.
 */
     virtual HRESULT AttachExtension(const SEQUENCE(octet) &amp;iObjectUUID) = 0;

/**
 * Return the List of Objects attached in &quot;r&quot; to this ModificationEffectivity.
 * @param oAttached
 *   List of the Objects attached in &quot;r&quot;.
 */
     virtual HRESULT GetAttachedObjectsExtension(SEQUENCE(CORBAAny)&amp; oAttached) = 0;

/** @nodoc */
     virtual HRESULT Attach(const SEQUENCE(octet) &amp;iObjectUUID) = 0;

/**
 * Detach a given UUID-Object from this ModificationEffectivity: it is no more pointed out in &quot;+&quot; or in &quot;-&quot; by
 * the ModificationEffectivity.
 * @param iObjectUUID
 *   UUID of the Object to detach.
 */
     virtual HRESULT Detach(SEQUENCE(octet) &amp;iObjectUUID) = 0;

/**
 * Return the List of all the Objects attached in &quot;+&quot; or in &quot;-&quot; to this ModificationEffectivity.
 * @param oAttached
 *   List of the attached Objects.
 */
     virtual HRESULT GetListOfAttachedObjects(SEQUENCE(CORBAAny)&amp; oAttached) = 0;

/**
 * Return the ConfigurableObject owning this ModificationEffectivity.
 * @param oCfgableObject
 *   ConfigurableObject to return.
 */
     virtual HRESULT GetConfigurableObject(CATIConfigurableObject_var &amp;oCfgableObject) = 0;

/**
 * @nodoc
 * Delete this ModificationEffectivity, and reevaluate the resulting Effectivity on each
 * pointed out Objects.
 */
     virtual HRESULT Delete(const int iTestOnly = 0) = 0;

/** @nodoc */
     virtual void Dump(const int iObj = 0) = 0;

/**
 * Duplicate this ModificationEffectivity: the copy is owned by an input ConfigurableObject.
 * @param iCfgAble
 *   The input ConfigurableObject owning the copied ModificationEffectivity.
 * @param oEff
 *   ModificationEffectivity to copy.
 */
     virtual HRESULT Duplicate(const CATIConfigurableObject_var &amp;iCfgAble, CATICfgModification_var &amp;oEff) = 0; 

/** @nodoc */
     virtual HRESULT GetIdentifier(SEQUENCE(octet) &amp;oId) = 0; 

/** @nodoc */
     virtual HRESULT IsTrue(const CATListValCATICfgNormalValue_var &amp; iList,
			    const CATUnicodeString &amp; iDomainName) = 0;

/** @nodoc */
     virtual HRESULT AttachMoins(const SEQUENCE(octet) &amp;iObjectUUID) = 0;

/** @nodoc */
     virtual HRESULT GetAttachedObjectsMoins(SEQUENCE(CORBAAny)&amp; oAttached) = 0;

/**
 * @nodoc
 * Update the EffVals for a List of uids.
 * @param inUids
 *   All the uids the mod points to.
 */
     virtual HRESULT UpdateEffValForUid(const SEQUENCE(CORBAAny)&amp; inUids) = 0;

/**
 * @nodoc
 * Update the EffVals after an attachPlus.
 * @param inUid
 *   All the uids the mod points to.
 */
     virtual HRESULT UpdateEffValForUidPlus(const SEQUENCE(octet)&amp; inUid) = 0;

/**
 * @nodoc
 * Update the EffVals after an attachMinus.
 * @param inUid
 *   All the uids the mod points to.
 */
     virtual HRESULT UpdateEffValForUidMinus(const SEQUENCE(octet)&amp; inUid) = 0;

/**
 * @nodoc
 * Update the EffVals after an attachExtension.
 * @param inUid
 *   All the uids the mod points to.
 */
     virtual HRESULT UpdateEffValForUidExtension(const SEQUENCE(octet)&amp; inUid) = 0;

	 

/**
 * Check if a given UUID-Object is attached in &quot;+&quot; to this ModificationEffectivity.
 * &lt;br&gt;&lt;b&gt;Legal values:&lt;/b&gt; The method returns S_OK if the Object is attached in &quot;+&quot;, S_FALSE else.
 * @param iUuid 
 *   UUID of the input Object.
 */
     virtual HRESULT IsAttachedPlus(const SEQUENCE(octet)&amp; iUuid) = 0;

/**
 * Check if a given UUID-Object is attached in &quot;-&quot; to this ModificationEffectivity.
 * &lt;br&gt;&lt;b&gt;Legal values:&lt;/b&gt; The method returns S_OK if the Object is attached in &quot;-&quot;, S_FALSE else.
 * @param iUuid 
 *   UUID of the input Object.
 */     
     virtual HRESULT IsAttachedMinus(const SEQUENCE(octet)&amp; iUuid) = 0;

/** @nodoc */
     enum Operation {Add,Cut,Replace,Move,Extension,Unknown,SetApplicability,DeleteObject,DetachMod,NewVersion,AddForPropagate,CutForPropagate,ExtensionForPropagate, Reset};

/**
 * Use this ModificationEffectivity to execute an operation on UUID-Objects.
 * @param iObj1
 *   UUID-Object1.
 * @param iObj2
 *   UUID-Object2.
 * @param iOp
 *   Operation to execute.
 *   &lt;br&gt;&lt;b&gt;Legal values:&lt;/b&gt; Add or Cut iObj1, Move or Replace iObj1 by iObj2.
 * @param iCV
 *   CV to be set for secondary CV on history.
 */
     virtual HRESULT Modify(const CATICfgModification::Operation iOp,
			    const SEQUENCE(octet) &amp;iObj1,
			    const SEQUENCE(octet) &amp;iObj2 = NULL,const int&amp; iCheckSessionEffectivity = 0) = 0;

/**
 * Use this ModificationEffectivity to execute an operation on UUID-Objects.
 * @param iObj1
 *   Object1.
 * @param iObj2
 *   Object2.
 * @param iOp
 *   Operation to execute.
 *   &lt;br&gt;&lt;b&gt;Legal values:&lt;/b&gt; Add or Cut iObj1, Move or Replace iObj1 by iObj2.
 * @param iCV
 *   CV to be set for secondary CV on history.
 */
    virtual HRESULT Modify(const CATICfgModification::Operation iOp,
                                     const CATILinkableObject_var &amp;iObj1, const CATILinkableObject_var &amp;iObj2,const int&amp; iCheckSessionEffectivity = 0) = 0;

/** 
 * Return all Histories for this ModificationEffectivity.
 * @param oList
 *   List of Histories to return.
 */
     virtual HRESULT GetAllHistories(CATListValCATICfgHistory_var&amp; oList,
				     const CATUnicodeString&amp; iAttributeToSort = NULL) = 0;


//IR 421865 - Exposed GetGrooupMod for Volvo

     /**
      * Returns the Group Modification associated to the Modification.
      * @param oGroupMod
      * The Group Modificaion Effectivity which is common to this Modification
      * @return
      * &lt;ul&gt;
      *     &lt;li&gt; S_OK if the method execution was successful.&lt;/li&gt;
      *     &lt;li&gt; E_FAIL if the method failedl.&lt;/li&gt;
      *     &lt;li&gt; S_FALSE if there is no Group Mod associated to this Modification &lt;/li&gt;
      * &lt;/ul&gt;
      */

     virtual HRESULT GetGroupMod(CATICfgGroupModif_var &amp;oGroupMod) = 0;

/**
 * Update effectivities of all objects where this modification is involved.
 */
     virtual HRESULT UpdateEffectivity() = 0;

/**
 * Set an Effectivity to this ModificationEffectivity for a given DomainName.
 *  @param iDomain
 *    The DomainName of the Effectivity to set.
 *  @param iEffectivities
 *    The Effectivity to set.
 */
     virtual HRESULT SetX_Effectivity(const CATUnicodeString&amp; iDomain,
				      const CATICfgEffectivity_var&amp; iEffectivities) = 0;

/**
 * Remove an Effectivity from this ModificationEffectivity for a given DomainName.
 *  @param iDomain
 *    The DomainName of the Effectivity to remove.
 */
     virtual HRESULT RemoveX_Effectivity(const CATUnicodeString&amp; iDomain) = 0;

/** @nodoc
 * Return the Effectivity of given DomainName for this ModificationEffectivity.
 *  @param iDomain
 *    The DomainName of the Effectivity to retrieve.
 *  @param oXEff
 *    The Effectivity to retrieve.
 */
     virtual HRESULT GetX_Effectivity(const CATUnicodeString&amp; iDomain, CATICfgXEff_var&amp; oXEff,int iComputeCommonCondition = 0) = 0;

/** @nodoc
 * Return the List of Effectivities for this ModificationEffectivity.
 * @param oXeffList
 *   List of the Effectivities to retrieve.
 */
     virtual HRESULT GetX_EffectivityList(CATListValCATICfgXEff_var&amp; oXeffList,int iComputeCommonCondition = 1) = 0;

/** @nodoc
 * Set a List of Effectivities for this ModificationEffectivity.
 * @param iXeffList
 *   List of the Effectivities to set.
 */
     virtual HRESULT SetX_EffectivityList(CATListValCATICfgXEff_var&amp; iXeffList) =0 ;

/**
 * To find out if this modification points to an object
 * @param iObj
 *    Object to analyze
 * @param oPointed
 *    0 : do not point
 *    1 : points +
 *    2 : points -
 *    3 : points + and -
 */
     virtual HRESULT PointsTo(const CATILinkableObject_var &amp;iObj, int &amp;oPointed) const = 0 ;
     
    
/**
 * Detach a given Object from this ModificationEffectivity: it is no more pointed out in &quot;+&quot; or in &quot;-&quot; by
 * the ModificationEffectivity.
 * @param iObject
 *   The Object to detach.
 */
    virtual HRESULT DetachWithHSE(CATILinkableObject_var &amp;iObject) = 0;


/** @nodoc */
	virtual HRESULT GetAsString( CATUnicodeString&amp; oEffectivity , CATUnicodeString&amp; oCommonCondition ) const = 0;


/**
 * Link this modification to another one to create a parent-child relationship.
 * @param iParent
 * 		The modification which will be the parent of this modification.
 */
	virtual HRESULT SetParent(const CATICfgModification_var &amp;iParent) = 0;


/**
 * Return this modification&#x27;s parent.
 * @param oParent
 * 		The parent of this modification.
 */
	virtual HRESULT GetParent(CATICfgModification_var &amp;oParent) = 0;


/**
 * Break the link between this modification and its parent.
 */
	virtual HRESULT ResetParent() = 0;


/**
 * Set the name of this modification.
 * @param iName
 * 		The name to set to this modification.
 * @return HRESULT
 *           S_OK = succeeded
 *           E_FAIL = failed (given name may already exist)
 *
 */
	virtual HRESULT SetName(const CATUnicodeString &amp;iName) = 0;


/**
 * Set visibility of this modification (which is invisibble by default).
 * @param iVisible
 * 		TRUE if visible, FALSE if not.
 */
	virtual HRESULT SetVisible(const CATBoolean iVisible) = 0;


/** 
 * Use  this  ModificationEffectivity  to  execute  an  operation  on  UUID-Objects.  
 * @param iOp
 *   Operation to execute.
 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;
 *     &lt;dt&gt;Add, Cut, Move or Replace.&lt;/dt&gt;
 *   &lt;/dl&gt; 
 * @param iObj1
 *   &lt;dl&gt;
 *     &lt;dt&gt;UUID-Object : &lt;b&gt;Target&lt;/b&gt; on which operation is performed.&lt;/dt&gt;
 *   &lt;/dl&gt;  
 * @param iObj2
 *   &lt;dl&gt;
 *     &lt;dt&gt;UUID-Object : Used in case of Move and Replace as a &lt;b&gt;source&lt;/b&gt; object.&lt;/dt&gt;
 *   &lt;/dl&gt;  
 * @return
 *   An HRESULT value. 
 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;
 *     &lt;dt&gt;S_OK&lt;/dt&gt;
 *     &lt;dd&gt;succeeded.&lt;/dd&gt;
 *     &lt;dt&gt;E_FAIL &lt;/dt&gt;
 *     &lt;dd&gt;failed.&lt;/dd&gt;
 *   &lt;/dl&gt;
 */ 
	virtual HRESULT SolveOperations( CATICfgModification::Operation iOp,
	const SEQUENCE(octet)&amp; iObj1,
	const SEQUENCE(octet)&amp; iObj2 = NULL) = 0;



};
//-----------------------------------------------------------------
// Handler definition 
//-----------------------------------------------------------------
CATDeclareHandler(CATICfgModification, CATBaseUnknown);

#endif
</div>
    
    <div class="navigation">
        <div><a href="CATICfgModRestriction.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATICfgModRestriction.h</a></div>
        <div><a href="CATICfgModificationUE.html">‰∏ã‰∏ÄÈ°µ: CATICfgModificationUE.h ‚Üí</a></div>
    </div>
</body>
</html>