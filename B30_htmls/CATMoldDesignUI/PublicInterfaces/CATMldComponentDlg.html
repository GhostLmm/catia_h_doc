<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CATMoldDesignUI/PublicInterfaces/CATMldComponentDlg.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>CATMoldDesignUI/PublicInterfaces/CATMldComponentDlg.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATMldAssociateType.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATMldAssociateType.h</a></div>
        <div><a href="CATMldComponentUI.html">‰∏ã‰∏ÄÈ°µ: CATMldComponentUI.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">// COPYRIGHT DASSAULT SYSTEMES 2000

/**
  * @CAA2Level L0
  * @CAA2Usage U2
  */

//=============================================================================
//
// CATMldComponentDlg.h
// The dialog : CATMldComponentDlg
//
//=============================================================================
//
// Usage notes:
//
//=============================================================================

#ifndef CATMldComponentDlg_H
#define CATMldComponentDlg_H


#include &quot;CATMldComponentUI.h&quot;

#include &quot;CATDlgDialog.h&quot;
#include &quot;CATDlgInclude.h&quot;

#include &quot;CATMathDirection.h&quot;
#include &quot;CATMathDirectionf.h&quot;
#include &quot;CATMathVectorf.h&quot;
#include &quot;CATMathPointf.h&quot;
#include &quot;CAT4x4Matrix.h&quot;
#include &quot;CAT3DAnnotationTextGP.h&quot;
#include &quot;CAT3DMarkerGP.h&quot;

#include &quot;CATICatalogBrowser.h&quot;
#include &quot;CATICatalogChapter.h&quot;

#include &quot;CATBoolean.h&quot;
#include &quot;CATMldAssociateType.h&quot;

#include &quot;CATListOfInt.h&quot;
#include &quot;CATListValCATICatalogKeyword_var.h&quot;
#include &quot;CATListOfCATUnicodeString.h&quot;
#include &quot;CATListOfCATMldComponentData.h&quot;

#include &quot;CATISO.h&quot;
#include &quot;CAT3DCustomRep.h&quot;
#include &quot;CATIProduct.h&quot;
#include &quot;CATPoint.h&quot;
#include &quot;CATSurface.h&quot;
#include &quot;CATPlane.h&quot;
#include &quot;CATLine.h&quot;


#include &quot;CATIParmAsStored.h&quot;

class CATIFmuDocChooser;
class CATIFmuDialogBox;
class CAT3DManipulator;

class CATIParmPublisher;
class CATModelForRep3D ;
class CAT3DBagRep;
class CAT3DFixedArrowGP;
class CATSt3DArcCircleGP;
class CATDlgSelectorList;

class CATMldAngleDialog;
class CATTlgServicesSelector;

class CATMldFromToExplComponentCom;
class CATMldWebBrowserComponentDlg;

//----------------------------------------------------------------------

/**
  * Base class to creating a typed dialog used for MoldDesign or an other application.
  * &lt;b&gt;Role&lt;/b&gt;: This base class is used to create a specific typed component dialog. 
  * This dialog is managed by a specific command derived from CATMldCreateComponentCom.
  * &lt;br&gt;
  * To create a specific command, derive the &lt;tt&gt;CATMldComponentDlg&lt;/tt&gt; class and 
  * override the methods:
  * &lt;ul&gt;
  * &lt;li&gt;@href CATMldComponentDlg#SetConfigSave &lt;/li&gt;
  * &lt;/ul&gt;
  * @see CATDlgDialog, CATMldCreateComponentCom
  */
class ExportedByCATMldComponentUI CATMldComponentDlg: public CATDlgDialog
{
	// Allows customization/internationalization of command&#x27;s messages
	// ---------------------------------------------------------------
	DeclareResource( CATMldComponentDlg, CATDlgDialog )

/**
 * Constructs a Dialog instance from a type component
 * @param iType (feature string)
 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: a CATUnicodeString 
 * @param iarg
 *   The arg of the command
 * @param iPathRefComponent
 *   The path of the reference component
 * @param iSupplierComponent
 *   The supplier catalog component
 * @param iReferenceComponent
 *   The reference catalog component
 * @param iptrCatalogChapter
 *   The list of chapter catalog
 * @param hlistKeyword
 *   The list of keywords
 */
	CATMldComponentDlg(const CATUnicodeString iType,CATUnicodeString * iarg,const CATUnicodeString iPathRefComponent,
	  const CATUnicodeString iSupplierComponent,const CATUnicodeString iReferenceComponent,
	  CATListOfCATUnicodeString *iptrCatalogChapter,
	  CATListValCATICatalogKeyword_var *hlistKeyword);

	virtual ~CATMldComponentDlg();

  public:

	// Call by CATMldCreateComponentCom Only +	
	// Used to build the box of the component creation
    /** @nodoc */   
	void Build (); 

	// 
	// Gestion direction
	//
    /** @nodoc */   
	CATBoolean IsSetComponentAxis() const; // Orientation definie (TRUE), ou par defaut (FALSE)
    /** @nodoc */   
	virtual void SetComponentAxis(const CATMathDirection &amp;AxisSel);
    /** @nodoc */   
	virtual void SetAllComponentAxis(const CATMathDirection &amp;Axe1Sel, const CATMathDirection &amp;Axe2Sel, const CATMathDirection &amp;Axe3Sel);
    /** @nodoc */   
	void GetComponentAxis(CATMathDirection &amp;Axe1Sel, CATMathDirection &amp;Axe2Sel, CATMathDirection &amp;Axe3Sel) const;
	/**
	  * Used to read all the parameter of the component (only used for the Slider component).
	  * @param iElem
	  *   the path element of the system axis dialog agent
	 **/
	virtual CATBoolean SetFullComponentAxis(CATPathElement *iElem);

	// +++ (R18: Rotation On ManageAll) +++    
	// Set the  ipt preview Axis (if ipt=0 axis of all previews)
	/** @nodoc */   
	void SetComponentAxis(const int ipt, const CATMathDirectionf &amp;iInstAxis);
	/** @nodoc */   
	void SetComponentAxPerp(const int ipt, const CATMathVectorf &amp;iInstAxPerp);
	/** @nodoc */   
	void SetComponentAxe1 (const int ipt, const CATMathDirection &amp;iInstAxe1);
	/** @nodoc */   
	void SetComponentAxe2 (const int ipt, const CATMathDirection &amp;iInstAxe2);
	/** @nodoc */   
	void SetComponentAxe3 (const int ipt, const CATMathDirection &amp;iInstAxe3);
	/** @nodoc */   
	void SetComponentRefAxe3 (const int ipt, const CATMathDirection &amp;iInstRefAxe3);
	/** @nodoc */  
	// iptAxis = 1,2,3,4,5 according to Axe1,Axe2,Axe3,Axis,AxPerp or RefAxe3
	void SetWhichComponentAxis(const int ipt, const int iptAxis, const CATMathDirection &amp;iInstAxis);
	/** @nodoc */   
	CATMathDirection	GetComponentAxe1(const int ipt);	// ipt = numero de previsu; &gt;0
	/** @nodoc */   
	CATMathDirection	GetComponentAxe2(const int ipt);	// ipt = numero de previsu; &gt;0
	/** @nodoc */   
	CATMathDirection	GetComponentAxe3(const int ipt);	// ipt = numero de previsu; &gt;0
	// --- (R18: Rotation On ManageAll) ---

	// Gestion Edition
    /** @nodoc */   
	void DisplayEditParameter(const CATIProduct_var ihReferenceProduct,const CATISpecObject_var ihComponentInstPart);

	// Gestion component
    /** @nodoc */   
	void DisplayPreviewComponent();
    /** @nodoc */   
	void ErasePreviewComponent();
    /** @nodoc */   
	void DisplayParameter( const CATUnicodeString iPathInstComponent, const CATBoolean ibuild=TRUE);
    /** @nodoc */   
	int GetCurrentComponent() const;

	// Gestion des coordonnees locales
    /** @nodoc */   
	int SetOrigUVW(const  CATMathPoint &amp;iOrigUVW);
    /** @nodoc */   
	void GetOrigUVW(const int ipt, CATMathPoint &amp;oOrigUVW);
    /** @nodoc */   
	void ModifyOrigUVW(const int ipt, const  CATMathPoint &amp;iOrigUVW);
    /** @nodoc */    
	void SetManageAll(const CATBoolean iFlag);

  // &lt;Gestion des _ParmEditOrigineX ... _ParmEditOrigineW &gt;
  /** @nodoc */ 
  void InitGetParmEditOrigine();//Init des _ParmEditOrigineX ...W , Prise en compte de l&#x27;echelle
	/** @nodoc */   
	void SetParmEditOrigineXYZ(const  CATMathPoint &amp;iPtOrig);//Set _ParmEditOrigineX ...Y...Z from iPtOrig coordinates
     /** @nodoc */ 
  void GetParmEditOrigineXYZ(CATMathPoint &amp;oPtOrig)const ;//Get _ParmEditOrigineX ...Y...Z to oPtOrig coordinates
  /** @nodoc */   
	void SetParmEditOrigineUVW(const  CATMathPoint &amp;iPtOrig, const CATBoolean ibU=TRUE,const CATBoolean ibV=TRUE,const CATBoolean ibW=TRUE);//Set _ParmEditOrigineU ...V...W from iPtOrig coordinates
     /** @nodoc */ 
  void GetParmEditOrigineUVW(CATMathPoint &amp;oPtOrig)const ;//Get _ParmEditOrigineU ...V...W to oPtOrig coordinates

	/** @nodoc */   
	CATBoolean  ResetDefaultOrigUVW(const int ipt);
	/** @nodoc */   
	CATBoolean SetNormalUVW(const CATMathDirection	&amp;iDirW);
    /** @nodoc */   
	CATBoolean SetAxisUVW(const CATMathDirection	&amp;iDirU,
						  const CATMathDirection	&amp;iDirV,
						  const CATMathDirection	&amp;iDirW );
	// Set des matrices et origine par defaut
    /** @nodoc */   
	CATBoolean SetDefaultUVW(const  CATMathPoint &amp;iDefaultOrigUVW);
    /** @nodoc */   
	void GetDefaultUVW(CATMathPoint &amp;oDefaultOrigUVW);
   	/** @nodoc */   
	void GetDefaultOffsetXYZ(double &amp;oX, double &amp;oY, double &amp;oZ ) const; // from UVW

	// Set/Get des directions composants initialisees automatiquement (= sans designation explicite de direction)
    /** @nodoc */   
	void SetAutomaticAxis(const CATMathDirection &amp;iDirW, const CATMathDirection &amp;iDirV, const CATMathDirection &amp;iDirU );
    /** @nodoc */   
	void GetAutomaticAxis(CATMathDirection &amp;oDirW, CATMathDirection &amp;oDirV, CATMathDirection &amp;oDirU) const;
    /** @nodoc */   
	CATBoolean IsAutomaticWDirection();
    /** @nodoc */   
	void SetIsAutomaticWDirection (CATBoolean bIsAutomaticWDirection);

	// Gestion de l&#x27;affichage du deplacement souris dans les spinners
    /** @nodoc */   
	void DisplayUVwhileMoving(const CATMathPoint &amp;newPoint);
    /** @nodoc */   
	HRESULT DisplayPreviewsWhileMoving(double ix, double iy, double iz, const CATBoolean IsEndMoving = FALSE);
   /** @nodoc */   
	CATBoolean SetCursor(CATDialog::CATDlgCursor icursor = NorthWestArrow);

	// Gestion liste de selection
    /** @nodoc */   
	CATBoolean IsCreated(const int ipt);
    /** @nodoc */   
	int  GetNbPointSel() const;
    /** @nodoc */   
	void SetPointActif(const int ipt);
    /** @nodoc */   
	CATBoolean SetDeletePointActif(const int ipt);
    /** @nodoc */   
	CATListOfInt DeleteDoublons();
    /** @nodoc */   
	CATBoolean CopyMldComponentDatas(const int fromIpt, const int toIpt);

	// Gestion du positionnement sur points geometriques 3d
    /** @nodoc */   
	int SetGeomPointSel(const CATISpecObject_var selpoint);// 3d
    /** @nodoc */   
	CATISpecObject_var GetGeomPointSel(const int ipt) const; 

	// Gestion du positionnement sur points geometriques 2d
    /** @nodoc */   
	int SetGeomPtSel(const CATPoint_var selpoint);
    /** @nodoc */   
	CATPoint_var GetGeomPtSel(const int ipt) const; 

	// Gestion du positionnement sur support = coordonnees mathematiques
    /** @nodoc */   
	int SetMathPointSel(const CATMathPoint &amp;iselpoint, const CATMathDirection &amp;iDirW);
    /** @nodoc */   
	void GetMathPointSel(const int ipt, CATMathPoint &amp;PointSel);
    /** @nodoc */   
	void ModifyMathPointSel(const int ipt,const CATMathPoint &amp;selpoint);
    /** @nodoc */   
	void ModifyMathPointSel(const CATMathPoint &amp;selpoint);
    /** @nodoc */   
	CATBoolean GetUVWfromXYZ(const CATMathPoint &amp;iPointXYZ,CATMathPoint &amp;oPointUVW) const;
    /** @nodoc */   
	CATBoolean GetXYZfromUVW(const CATMathPoint &amp;iPointUVW,CATMathPoint &amp;oPointXYZ) const;
    /** @nodoc */   
	CATBoolean GetFreeWfromXYZ(const CATMathPoint &amp;iPointXYZ,CATMathPoint &amp;oPointFreeW) const;
    /** @nodoc */   
	CATBoolean GetUVWfromFreeW(const CATMathPoint &amp;iPointFreeW,CATMathPoint &amp;oPointUVW) const;

	// Gestion du positionnement dans l&#x27;espace
	/** @nodoc */   
	void SetBound(const CATMathPointf &amp;Origin, const float rayon);
	/** @nodoc */   
	void SetStartingDisplay(const CATBoolean iStartingDisplay);

	// Display des coordonnees sous le curseur 
    /** @nodoc */   
	CATBoolean SetCursorText(double ix, double iy, double iz);

	// Gestion des trous associes aux composants
    /** @nodoc */   
	CATISpecObject_var GetFromPlate() const;
    /** @nodoc */   
	CATISpecObject_var GetToPlate() const;
    /** @nodoc */   
	void SetFromPlate(const CATISpecObject_var &amp;fromPlate);
    /** @nodoc */   
	void SetToPlate(const CATISpecObject_var &amp;toPlate);
	 /** @nodoc */   
	void SetSelectedFather(const CATISpecObject_var &amp;spSelectedFather);
    /** @nodoc */   
	CATLISTV( CATISpecObject_var) *GetListBetween();
	 /** @nodoc */
	//BetweenList management
	void SetListBetween(CATLISTV( CATISpecObject_var ) &amp;iList);
	/** @nodoc */
	void RazIsListBetween();
	/** @nodoc */
	CATBoolean IsListBetween();
    /** @nodoc */   
	void SetSelectorWDirection();
    /** @nodoc */   
	void ClearSelectorWDirection();
    /** @nodoc */
	CATBoolean ResetAutomaticWDirection();
	/** @nodoc */   
	void SetWDirection(const CATBaseUnknown_var ihSelectGeom);
    /** @nodoc */   
	void SetSelectedUVOrigin(const int ipt, const CATBaseUnknown_var &amp;spSelectedUVOrigin);
	/** @nodoc */
 	CATBaseUnknown_var GetSelectedUVOrigin(const int ipt); 
	/** @nodoc */
	CATBoolean IsDefaultOriginUV(const int ipt);
	/** @nodoc */   
	void SetSelectorUVOrigin();
	/** @nodoc */
	void ClearSelectorUVOrigin();
    /** @nodoc */   
	void ClearFromPlate();
    /** @nodoc */   
	void ClearToPlate();
	 /** @nodoc */   
	void ClearPositionInTree();
    /** @nodoc */  
	void  ResetSelectedFather(); // resets the selected father to the default value

	// GetPositionInTree, renvoie la position dans l&#x27;arbre suivant l&#x27;algo:
	// - Si (fromPlate defini) =&gt; insertion dans le component du fromPlate
	// - Sinon on prend le component par defaut suivant le type du composant 
	//		defini dans CATMldTypeMgr.cpp (Anywhere/InjectionSide/EjectorSystem/EjectionSide)
	//	 - Si (InjectionSide || EjectorSystem || EjectionSide) =&gt; insertion dans le component
	//	 - Si (Anywhere) =&gt; insertion dans le Product actif 
	CATISpecObject_var GetPositionInTree();

	// Gestion de l&#x27;orientation du composant choisie par l&#x27;utilisateur
    /** @nodoc */   
	void SetSurf1ToComputeCompAxis(const CATSurface_var hSurf1ToComputeCompAxis);
   /** @nodoc */   
	void SetSurf2ToComputeCompAxis(const CATSurface_var hSurf2ToComputeCompAxis);
     /** @nodoc */   
	CATSurface_var GetSurf1ToComputeCompAxis() const;
   /** @nodoc */   
	CATSurface_var GetSurf2ToComputeCompAxis() const;


	// Gestion des contraintes
    /** @nodoc */   
	CATMldAssociateType GetAssociate(const int ipt) const; // type de contrainte voulue  ou pas du tout selon le bouton general.
    /** @nodoc */   
	void SetAssociate(const int ipt, CATBoolean isAssoc, CATMldAssociateType iaxisAssoc );
    /** @nodoc */   
	void SetSupportCst(const int ipt, const CATPlane_var &amp;spSupport); // si preview contrainte avec une face
    /** @nodoc */   
	CATPlane_var GetSupportCst(const int ipt) const;
    /** @nodoc */   
	void SetFatherSupportCst(const int ipt, const CATISpecObject_var &amp;spfatherSupport); // si preview contrainte avec une face
    /** @nodoc */   
	CATISpecObject_var GetFatherSupportCst(const int ipt) const;
    /** @nodoc */   
	void SetPointCst(const int ipt, const CATPoint_var &amp;spPoint); // si preview contrainte avec un point
    /** @nodoc */   
	CATPoint_var GetPointCst(const int ipt) const;
    /** @nodoc */   
	void SetFatherPointCst(const int ipt, const CATISpecObject_var &amp;spfatherPoint); // si preview contrainte avec un point
    /** @nodoc */   
	CATISpecObject_var GetFatherPointCst(const int ipt) const;
    /** @nodoc */   
	void SetAxisCst(const int ipt, const CATLine_var &amp;spAxis, int iNumAxis=1); // si preview contrainte avec un axe (ou systeme)
    /** @nodoc */   
	CATLine_var GetAxisCst(const int ipt, int iNumAxis=1) const;
    /** @nodoc */   
	void SetFatherAxisCst(const int ipt, const CATISpecObject_var &amp;spfatherAxis, int iNumAxis=1); // si preview contrainte avec un axe (ou systeme)
    /** @nodoc */   
	CATISpecObject_var GetFatherAxisCst(const int ipt, int iNumAxis=1) const;

	// Gestion du catalog
    /** @nodoc */   
	CATBoolean OpenCatalog();
    /** @nodoc */   
	void CloseCatalog();
    /** @nodoc */   
	void GetSelectedCatalog( CATUnicodeString &amp;oPathComponentName, CATUnicodeString &amp;oSupplierComponent, CATUnicodeString &amp;oReferenceComponent) const;
    /** @nodoc */   
	CATBoolean IsSelectedCatalog() const;
	/** @nodoc */
 	void SetSelectedCatalog(CATBoolean flag) ;

	// Gestion du catalogue de Regles 
    /** @nodoc */   
	CATBoolean OpenRuleCat();
    /** @nodoc */   
	void CloseRuleCat();
    /** @nodoc */   
	void GetSelectedRuleCat( CATUnicodeString &amp;oPathRuleName, CATUnicodeString &amp;oReferenceRule) const;
    /** @nodoc */   
	CATBoolean IsSelectedRuleCat() const;
    /** @nodoc */   
	void GetRuleObj(CATISpecObject_var &amp;oruleObj);
    /** @nodoc */   
	void ClearRuleCat();
   /** @nodoc */   
	CATBoolean IsRuleActive() const;

	// Gestion des save
    /** @nodoc */   
	void SetConfigState(const CATBoolean iState);

    // Gestion manipulateur cercle
    /** @nodoc */   
    CATBoolean	IsActivateCercle () const;

	// Gestion  du &quot;preview all&quot;(devenu &quot;Manage All&quot;) (&quot;creation multiple&quot;)
    /** @nodoc */   
	CATBoolean IsAutoPreviews() const;

	/**
	  * Init some specific parameters (only used for the Retainers component).
	  * @param iElem
	  *   the path element of the slider dialog agent
	 **/
	virtual CATBoolean GetParamSupp(CATPathElement *iElem);

	/**
	  * Set specific parameters for Position of the component
	 **/
	//CATBoolean SetSplitPosition(const int ipt);

	/**
	  * Set specific parameters for Direction of the component
	 **/
	//CATBoolean SetSplitDirection();

	// Call by CATMldCreatecomponentCom Only -

	// Gestion  WebBrowser FullPath
    /** @nodoc */   
	void SetFullPathWebBrowser(const CATUnicodeString &amp;theFullPath );
	
    /** @nodoc */   
	virtual boolean EnterStateComponent();
    /** @nodoc */   
	virtual boolean LeaveStateComponent();

    /** @nodoc */   
	virtual boolean EnterStateSupport();
    /** @nodoc */   
	virtual boolean LeaveStateSupport();

    /** @nodoc */   
	virtual CATBoolean GetSplitActive();
    /** @nodoc */   
    virtual void    SetSplittingSurface (CATISpecObject_var iSplitSurface);

	/**
	  * Used to Manages &quot;Several Instances Per Reference&quot; (&quot;one instance by reference&quot;)
	  * Get the current value of the dialog box field  &quot;Several Instances Per Reference&quot;
	  * @return
	  *		the value of the check button
	 **/	    
	CATBoolean IsSeveralInstPerRef() const;


    /**
	  * Used to Manages &quot;Keep Part Number&quot; (&quot;TG1 automatic nomination&quot;)
	  * Get the current value of the dialog box field  &quot;Keep Part Number&quot;
	  * @return
	  *		the value of the check button
	 **/	    
	CATBoolean IsKeepPartNumber() const;

  	// 
	// Gestion Constraints With
	//
    /** @nodoc */   
 	virtual void SetConstraintsWithInit( CATLISTV(CATBaseUnknown_var)	&amp;iObjectList,
										 CATListOfInt			&amp;iGeomTypeList);
     /** @nodoc */   
 	virtual void GetConstraintsWithLists( CATLISTV(CATISpecObject_var)	&amp;oConstraintsList,
								  CATListOfInt					&amp;oConstraintsGeomTypeList);


	// Manage immediately the sensitivity of the field &quot;SetUVOrigin&quot;
	// iFlag = TRUE  =&gt; Enable
	// iFlag = FALSE =&gt; Disable
   	/** @nodoc */   
	void SetSensitivityUVOrigin(const CATBoolean iFlag);
	
	//Manage immediately the sensitivity of the field &quot;SetWDircetion&quot;
	// iFlag = TRUE =&gt; Enable
	// iFlag = FALSE =&gt; Disable
	/** @nodoc */
	void SetSensitivityWDirection(const CATBoolean iFlag);


  protected:

	/**
	  * Used to read all the parameter of the component (Used by the PreviewComponent)
	  * @param hDocRootProd
	  *   the root product from component document
	 **/
	virtual void ReadParameter(const CATIProduct_var hDocRootProd);

	/**
	  * Define the use of the preview component (defined by the PreviewComponent() method)
	  * @return
      *   An CATBoolean value. 
	  *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
	  *   &lt;dl&gt;
	  *   &lt;dt&gt;TRUE&lt;/dt&gt;
	  *   &lt;dd&gt;Use the PreviewComponent() method to display the preview component &lt;/dd&gt;
	  *   &lt;dt&gt;FALSE&lt;/dt&gt;
	  *   &lt;dd&gt;Use the default preview defined in the CATPart to display the preview component (default value) &lt;/dd&gt;
	  *   &lt;/dl&gt;
	 **/

	virtual CATBoolean UsePreviewComponent();

	/**
	  * Define the preview of the component (Require the ReadParameter() definition)
	  * @param iactif
	  *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
	  *   &lt;dl&gt;
	  *   &lt;dt&gt;0&lt;/dt&gt;
	  *   &lt;dd&gt;The component is not the current component &lt;/dd&gt;
	  *   &lt;dt&gt;1&lt;/dt&gt;
	  *   &lt;dd&gt;The component is the current component &lt;/dd&gt;
	  *   &lt;/dl&gt;
	 **/	  
	virtual void PreviewComponent(const int iactif);

	/**
	  * Save the current value of the selected component
	  * @param iPathRefComponent
	  *   The path of the reference component
	  * @param iSupplierComponent
	  *   The supplier catalog component
	  * @param iReferenceComponent
	  *   The reference catalog component
	  * @param iptrCatalogChapter
	  *   The list of chapter catalog
	  * @param ihlistKeyword
	  *   The list of keywords
	 **/
	virtual void SetConfigSave(CATUnicodeString iPathRefComponent,
		CATUnicodeString iSupplierComponent,
		CATUnicodeString iReferenceComponent,
		CATListOfCATUnicodeString *iptrCatalogChapter,
		CATListValCATICatalogKeyword_var *ihlistKeyword) = 0;

	/**
	  * Init all the keywords name parameters.
	  * @param iconName
	  *   The iconName for the definition of the figure in the dialog.
	  * @return
      *   An HRESULT value. 
	  *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
	  *   &lt;dl&gt;
	  *     &lt;dt&gt;S_OK&lt;/dt&gt;
	  *     &lt;dd&gt;The iconName is valid&lt;/dd&gt;
	  *     &lt;dt&gt;E_FAIL &lt;/dt&gt;
	  *     &lt;dd&gt;The iconName is not valid&lt;/dd&gt;
	  *   &lt;/dl&gt;	  
	 **/
	virtual HRESULT GetParameterIconName (CATString&amp; iconName) const;

	/**
	  * Get the title of the dialog box
	  * @param title
	  *   The title of the dialog box
	 **/
	virtual void GetTitre (CATUnicodeString&amp; title) const;

	/**
	  * Add some specific preview to the component
	 **/
	virtual void PreviewComponentSupp();

	/**
	  * Allow the change of catalog in the Catalog Browser
	 **/
	virtual CATBoolean AuthorizeChangeCatalog() const;

	/**
	  * Returns the name of the catalog. 
	  *	Used if the catalog name is different from the feature. 
	 **/
	virtual CATUnicodeString GetCatalogName () const;

	/** Filter management */
	virtual void QueryCatalog(CATICatalogChapter *catalogChapter, CATUnicodeString &amp; oQuery);


	// Management of the additional Tab Page Option container

	/**
	  * Return a new Tab Page Option container with the specified title
	  * @param title
	  *   The title of the tab container
	 **/
	CATDlgTabPage* GetNewTabPageOption(CATString title);

	/**
	  * Build the Tab Page Option container
	  */ 
	virtual void BuildTabPageOption ();

	/**
	  * Destroy the resources of the Tab Page Option container
	  */ 
	virtual void DestroyTabPageOption();

	/**
	  * Management of the additional Tab Page Option container
	  * Sets the selected &lt;tt&gt;CATDlgTabPage&lt;/tt&gt;.
	  * @param iIndex
	  *  the index of the &lt;tt&gt;CATDlgTabPage&lt;/tt&gt; to select.
	  * &lt;br&gt;&lt;b&gt;Legal values:&lt;/b&gt; The first &lt;tt&gt;CATDlgTabPage&lt;/tt&gt; has index 0.
	 **/	  
	void SetDefaultTabPageOption(const int iIndex);

	/**
	  * Management of the additional Tab Page Option container
	  * Sets the selected &lt;tt&gt;CATDlgTabPage&lt;/tt&gt;.
	  * @param iPage
	  *  the &lt;tt&gt;CATDlgTabPage&lt;/tt&gt; to select.
	 **/	  
	void SetDefaultTabPageOption(const CATDlgTabPage *iPage);


	/*
	 ** Returns Mode Edition Y/N
	 */   
	CATBoolean			IsModeEdit() const;
    /*
	 ** Returns Mode Creation Y/N
	 */   
    CATBoolean			IsModeCreate() const;
    /*
	 ** Mode NewInstance Y/N
	 */
    CATBoolean			IsModeNewInstance() const;
	/*
	 ** Mode Recopy Y/N
	 */   
    CATBoolean			IsModeRecopy() const;
    /*
	 **  Mode Replace Y/N
	 */
    CATBoolean			IsModeReplace() const;


	/**
	  * Used to Manages &quot;Several Instances Per Reference&quot; (&quot;one instance by reference&quot;)
	  * Set the current value of the dialog box field  &quot;Several Instances Per Reference&quot; 
	  * @param iFlag
	  *		the value of the check button
	 **/	  
	void SetSeveralInstPerRef(const CATBoolean iFlag);


    /**
	  * Used to Manages &quot;Keep Part Number&quot; (&quot;TG1 automatic nomination&quot;)
	  * Set the current value of the dialog box field  &quot;Keep Part Number&quot; 
	  * @param iFlag
	  *		the value of the check button
	 **/	  
	void SetKeepPartNumber(const CATBoolean iFlag);

	/**
	  * Used to Manages &quot;Several Instances Per Reference&quot; (&quot;one instance by reference&quot;)
	  * Modify the sensitivity of the check button &quot;Several Instances Per Reference&quot; 
	  * @param iFlag
	  *		the sensitivity of the check button
	 **/	  
	void SetSensitivitySeveralInstPerRef(const CATBoolean iFlag);

	/**
  * Used to Manages &quot;Keep Part Number&quot; (&quot;TG1 automatic nomination&quot;)
	  * Modify the sensitivity of the check button  &quot;Keep Part Number&quot; 
	  * @param iFlag
	  *		the sensitivity of the check button
	 **/	  
	void SetSensitivityKeepPartNumber(const CATBoolean iFlag);


	/**
	  * Used to Manages &quot;Associated&quot; 
	  * Get the current value of the dialog box field  &quot;Associated&quot;
	  * @return
	  *		the value of the check button
	 **/	    
	CATBoolean IsAssociated() const;

	/**
	  * Used to Manages &quot;Associated&quot; )
	  * Set the current value of the dialog box field  &quot;Associated&quot;
	  * @param iFlag
	  *		the value of the check button
	 **/	  
	void SetAssociated(const CATBoolean iFlag);

	/**
	  * Used to Manages &quot;Associated&quot; 
	  * Modify the sensitivity of the check button &quot;Associated&quot;
	  * @param iFlag
	  *		the sensitivity of the check button
	 **/	  
	void SetSensitivityAssociated(const CATBoolean iFlag);

	/**
	  * Used to Manages &quot;ManageAll&quot; 
	  * Get the current value of the dialog box field  &quot;ManageAll&quot;
	  * @return
	  *		the value of the check button
	 **/	    
	CATBoolean IsManageAll() const;

	/**
	  * Used to Manages &quot;ManageAll&quot; 
	  * Set the current value of the dialog box field  &quot;ManageAll&quot; 
	  * @param iFlag
	  *		the value of the check button
	 **/	  
	/* void SetManageAll(const CATBoolean iFlag); up to public methods

	/**
	  * Used to Manages &quot;ManageAll&quot; 
	  * Modify the sensitivity of the check button &quot;ManageAll&quot; 
	  * @param iFlag
	  *		the sensitivity of the check button
	 **/	  
	void SetSensitivityManageAll(const CATBoolean iFlag);

	// 
	// Management of the additional Tab Page Specifics container
	//
   	/** @nodoc */   
	// Build the Tab Page Specifics container
	virtual void BuildTabPageSpecifics();
    /** @nodoc */   
	// Destroy the resources of the Tab Page Specifics container
	virtual void DestroyTabPageSpecifics();

	// lecture des valeurs specifiques
    /** @nodoc */   
	virtual void GetDefaultOffsetUVW(double &amp;oOffsetU,
									 double &amp;oOffsetV,
									 double &amp;oOffsetW) const;
   	/** @nodoc */   
	// Coverage; A garder SVP. merci.
	/* CATBoolean AddToFieldsUVW(const double iDeltaToAddU, 
							  const double iDeltaToAddV,
							  const double iWDeltaToAddW); */


   	/** @nodoc */   
	void AddCallbackSpinner();
   	/** @nodoc */   
	void RemoveCallbackSpinner();

	/**
	  * Add a specific frame (Ejector)
	  */ 
	virtual int     AddSpecificFrame(const int iLigne, CATDlgTabPage * iTabPage);

	// Functions to access private attributes
    /** @nodoc */   
	CATIProduct_var	GetDocRootProdComponent();

	// Display
	/** @nodoc */   
	CATMathPointf		GetRealPos();
	/** @nodoc */   
	CATMathDirectionf	GetComponentAxis();
	/** @nodoc */   
	CATMathVectorf		GetComponentAxPerp();
	/** @nodoc */   
	CATMathDirection	GetComponentAxe1();
	/** @nodoc */   
	CATMathDirection	GetComponentAxe2();
	/** @nodoc */   
	CATMathDirection	GetComponentAxe3();
	/** @nodoc */   
	CATMathDirection	GetComponentRefAxe3();
	// +++ (R18: Rotation On ManageAll) +++    
	/** @nodoc */   
	CATMathDirectionf	GetComponentAxis(const int ipt);	// ipt = numero de previsu; &gt;0
	/** @nodoc */   
	CATMathVectorf		GetComponentAxPerp(const int ipt);	// ipt = numero de previsu; &gt;0
	/** @nodoc */   
	CATMathDirection	GetComponentRefAxe3(const int ipt);	// ipt = numero de previsu; &gt;0
	// --- (R18: Rotation On ManageAll) ---   

	
	// Dialog
	/** @nodoc */   
	CATDlgEditor	*	GetEditorReference();

	// Rep
	/** @nodoc */   
	CAT3DCustomRep	*	GetCustoRep();

	/** The Reference component catalog */
	CATUnicodeString	GetReferenceComponent();
	void SetReferenceComponent (CATUnicodeString refComp);

	// Orientation definie (TRUE), ou par defaut (FALSE)
	/** @nodoc */   
	void SetIsSetComponentAxis (boolean bIsSetComponentAxis);
	
	// Dimensions of the parameter window
    /** @nodoc */   
	void SetRectDim (int iHRectDim, int iWRectDim);

    /** @nodoc */   
	CATDlgTabContainer	*	GetTabCInst();

    // constraint management per preview
	/** @nodoc */  


  protected:
	  CATBoolean _PositionInTreeInactive; //pour permettre aux composants tels que le slider de verrouiller la position dans l&#x27;arbre
	  CATBoolean _IsSensitivityAssociated;	// associated check (remonte ici pour permettre aux composants tels que le slider de verrouiller l&#x27;associativite).
	  CATBoolean _IsAssociate;	// Associated for the instance group (remonte ici pour permettre aux composants tels que le slider de verrouiller l&#x27;associativite).

 private:

	// Gestion du positionnement dans l&#x27;espace
	CATBoolean ApplyBound();
	void ByForceBound(const CATMathPoint &amp;Origin);
    // solution aux problemes de visu
    HRESULT SwitchVisuCellTo3DWindow();
    
	//
	// Les callbacks
	//
	void OnComponentDlgDiaCANCELNotification (CATCommand *, CATNotification* , CATCommandClientData data);
	void OnComponentDlgDiaAPPLYNotification (CATCommand *, CATNotification* , CATCommandClientData data);
	void OnComponentDlgDiaOKNotification (CATCommand *, CATNotification* , CATCommandClientData data);

	void OnBetweenListOKNotification (CATCommand *, CATNotification* , CATCommandClientData data);

	void OnComponentDlgChkBAssociateNotification(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);
	void OnComponentDlgRevDirNotification (CATCommand *, CATNotification* , CATCommandClientData data);
	void OnComponentDlgChkBAutoPreviewsNotification(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);
	void OnComponentDlgChkBSeveralInstPerRefNotif(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);
	void OnComponentDlgChkBCopyRefNotif(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);
    void OnComponentDlgChkBKeepPartNumberNotif(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);

	void OnComponentDlgRevDirBegAc (CATCommand *, CATNotification* , CATCommandClientData data);
	void OnComponentDlgRevDirEndAc (CATCommand *, CATNotification* , CATCommandClientData data);

	void OnComponentDlgAngleZManipulate (CATCommand *, CATNotification* , CATCommandClientData data);
	void OnComponentDlgAngleZBeginManipulate (CATCommand *, CATNotification* , CATCommandClientData data);
	void OnComponentDlgAngleZEndManipulate (CATCommand *, CATNotification* , CATCommandClientData data);
	void OnComponentDlgAngleZBeg (CATCommand *, CATNotification* , CATCommandClientData data);
	void OnComponentDlgAngleZEnd (CATCommand *, CATNotification* , CATCommandClientData data);
	void OnComponentDlgAngleZcontexte (CATCommand *, CATNotification* , CATCommandClientData data);

	void OpenAngleDialogBox(CATCommand *from,CATNotification *notif,CATCommandClientData data);
	void CancelAngleCB(CATCommand *from,CATNotification *notif,CATCommandClientData data);
	void ChangeAngleCB(CATCommand *from,CATNotification *notif,CATCommandClientData data);
	void ChangeAngleCBTempo(CATCommand *from,CATNotification *notif,CATCommandClientData data);

	void OnPushButtonUseCatalogNotification (CATCommand *, CATNotification* , CATCommandClientData data);
	void OnCancelCatalogNotification(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);
	void OnOKCatalogNotification(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);
	void OnSelectInCatalogNotification(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);
	void OnChangeChapterNotification(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);

	void OnPushButtonWebBrowserNotification (CATCommand *, CATNotification* , CATCommandClientData data);
	void OnCancelWebBrowserNotification(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);
	void OnOKWebBrowserNotification(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);

	void OnPushButtonUseRuleCatNotif (CATCommand *, CATNotification* , CATCommandClientData data);
	void OnCancelRuleCatNotif(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);
	void OnOKRuleCatNotif(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);
	void OnSelectInRuleCatNotif(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);

	void OnPushButtonFileOpenNotification (CATCommand *, CATNotification* , CATCommandClientData data);
	void OnCancelFileOpenNotification(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);
	void OnOKFileOpenNotification(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);

	void OnListSelectFromPlate(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);
	void OnListSelectToPlate(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);
	void OnListSelectPositionInTree(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);
	void OnListSelectUVOrigin(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);
	void OnListSelectWDirection(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);

	void OnParameterChangedCB(CATCallbackEvent, void*, CATNotification *, CATSubscriberData, CATCallback);

	void OnComponentDlgEditOrigineNotification(CATCallbackEvent parmEvent, void* publisherObject,
						  CATNotification* paramNotification, CATSubscriberData myData, CATCallback callBackId);
	void OnComponentDlgEditOrigineUVWNotification(CATCallbackEvent parmEvent, void* publisherObject,
						  CATNotification* paramNotification, CATSubscriberData myData, CATCallback callBackId);

	void OnComponentDlgListBetweenNotification(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);

	void OnPushButtonConstraintsWithNotif(CATCommand* cmd, CATNotification* evt, CATCommandClientData data);

	// Callback
	CATCallback			_CBOk,_CBApply, _CBCancel, _CBClose, _CBBetweenListOk;
	CATCallback			_CBListBetween;
	CATCallback			_CBRevDir;
	CATCallback			_CBUseCat, _CBFileOpen, _CBWebBrowser;
	CATCallback			_CBEditOrigineX, _CBEditOrigineY, _CBEditOrigineZ;
	CATCallback			_CBEditOrigineU, _CBEditOrigineV, _CBEditOrigineW;
	CATCallback			_CBChkBAssociate;
	CATCallback			_CBChkBAutoPreviews;
	CATCallback			_CBChkBSeveralInstPerRef;
	CATCallback			_CBChkBCopyRef;
	CATCallback			_CBChkBKeepPartNumber;
	CATCallback			_CBListSelectFromPlate, _CBListSelectToPlate, _CBListSelectPositionInTree;
	CATCallback			_CBListSelectUVOrigin, _CBListSelectWDirection;
	CATCallback			_CBReverseDirection, _CBReverseDirectionBegPreAc,_CBReverseDirectionEndAc;
	CATCallback			_CBRotationZ, _CBRotationZDebut, _CBRotationZFin;
	CATCallback			_CBRotationZBegPreAc, _CBRotationZEndAc, _CBRotationZEdit;
	CATCallback			_CBChkBRuleActivate;
	CATCallback			_CBUseRuleCat;
	CATCallback			_CBUseConstraintsWith;

	// Methods
	void Destroy();

	void InitSupplierComponent(const CATIProduct_var hDocRootProd);

	void DisplayComponent();
	void EraseComponent();

	CATDlgFrame*  CreateControlInPanelEdition(const CATICkeParm_var ihParam, const CATIParmPublisher_var  iRoot, 
						CATDialog *iFather, const int iHPosition, const int iVPosition);

	void SetSensitivityDlg( const CATULong iState);
	// 
	// Rules Management
	//
    /** @nodoc */   
	// Returns the name of the catalog of rules
	// Used if the catalog name is different from the feature. 
	CATUnicodeString GetRuleCatName () const;

    /** @nodoc */  
	void SetRuleCatName (CATUnicodeString iname);

	// Gestion visu
	// Old Code : avant(R18: Rotation On ManageAll)  void DisplayBodyPart(const CATIProduct_var ihReferenceProduct,const int iactif, const CATMathTransformation &amp;ModelMatrix);
	void DisplayBodyPart(const int ipt, const CATIProduct_var ihReferenceProduct,const int iactif, const CATMathTransformation &amp;ModelMatrix);
	// Old Code : avant(R18: Rotation On ManageAll)  void DisplayBody(const int iactif);
	void DisplayBody(const int ipt, const int iactif);	// +++ (R18: Rotation On ManageAll) +++    
	void DisplayDir(const int ipt, const int iactif);
	void DisplayMaterials(const CATIProduct_var hReferenceProduct, const int iactif, const CATMathTransformation &amp;ModelMatrix);

	// Gestion des coordonnees locales
	CATBoolean ComputeMatricesUVW(const int ipt); // matrices de gestion des coord. d&#x27;un composant
	CATBoolean ComputeAllMatricesUVW();// matrices de gestion des coord. du groupe

	// renvoie l&#x27;angle arrondi
	CATAngle SnapAngle( const CATAngle iAngle);
	// affiche sur le cercle le texte correspondant a la valeur de l&#x27;angle
	CATBoolean DisplayTextAngle(const CATAngle iAngle, const CATPredefinedColorName iColor=GREEN);
	// +++ (R18: Rotation On ManageAll) +++  
	// rend l&#x27;angle absolu de la preview numero ipt
	CATAngle GetAngle(const int ipt); // ipt&gt;0
	// maj de l&#x27;angle =&gt; maj des axes de la previsu numero ipt (ou toutes si ipt=0)
	CATAngle SetAngleAndAxis(const int ipt,const CATAngle iAngle, const CATMathTransformation iTrf);
	// ajout d&#x27;un l&#x27;angle =&gt;  maj des axes de la previsu numero ipt (ou toutes si ipt=0)
	CATAngle SetDeltaAngleAndAxis(const int ipt, const CATAngle iDeltaAngle, const CATMathTransformation iTrf);
	// rend le  centre de rotation et l&#x27;axe de LA previsu numero ipt // (en tenant compte du contexte d&#x27;assemblage)
	CATBoolean GetCenterAndAxis(const int ipt, CATMathPoint &amp;oCenter, CATMathDirectionf &amp;oAxis);
	// --- (R18: Rotation On ManageAll) ---

	//affiche un marker a l&#x27;origine UV
	CATBoolean DisplayUVOrigin();

	//
	// Les variables de classe
	//
	CATIProduct_var		_hDocRootProdComponent;	// the root product from component document
	CATIProduct_var		_hInstAssy;				// the instance of the assembled component
	CATIProduct_var		_hInstBasePart;			// the instance of the 1st available part of the assembled component

	// Positionnement sur support
	CATIParmAsStored_var	_ParmEditOrigineX, _ParmEditOrigineY, _ParmEditOrigineZ;
	CATIParmAsStored_var	_ParmEditOrigineU, _ParmEditOrigineV, _ParmEditOrigineW;
	
	// Display
	CATMathPointf		_RealPos;
	CATMathDirectionf	_ComponentAxis;
	CATMathVectorf		_ComponentAxPerp;
	CATMathDirection	_ComponentAxe1;
	CATMathDirection	_ComponentAxe2;
	CATMathDirection	_ComponentAxe3;
	CATMathDirection	_ComponentRefAxe3;
	
	// Dialog
	CATDlgEditor	*	_EditorReference;

	// Rep
	CAT3DCustomRep	*	_CustoRep;

	/** The Reference component catalog */
	CATUnicodeString		_ReferenceComponent;	

	// Orientation definie (TRUE), ou par defaut (FALSE)
	CATBoolean				_IsSetComponentAxis;			


	// Mode Creation  O/N
	CATBoolean				_IsModeCreate;
	
	// Mode Edition O/N
	CATBoolean				_IsModeEdit;			
	
	// Mode NewInstance O/N
	CATBoolean				_IsModeNewInstance;	
	
	// Mode Copy Reference O/N
	CATBoolean				_IsModeRecopy;	
	
	// Mode Replace Component O/N
	CATBoolean				_IsModeReplace;	
	
	// gestion du premier Display dans fenetre vide O/N
	CATBoolean	    _IsStartingDisplay;
	CATMathPointf   _OriginSphere;
	float		    _RayonSphere;

	// Dimensions of the parameter window
	int _iHRectDim, _iWRectDim;

	CATDlgTabContainer*		_TabCInst;


	// Rep
	CATISO					*_ptrISO;
	CATModelForRep3D		*_ptrPreview ;  

	//Data
	CATUnicodeString	_typeComponent;		// Component type (feature string)

	CATISpecObject_var	_hFromPlate;		// From for the instance group
	CATISpecObject_var	_hToPlate;			// To for the instance group
	CATISpecObject_var  _SelectedFatherProduct; // the father product selected by the user

	// Between List management
	CATLISTV(CATISpecObject_var ) *_ListBetween;	
    CATBoolean			_IsListBetween;

	CATSurface_var		_hSurf1ToComputeCompAxis; // surface selected to define the component axis orientation (today =&quot;from&quot;) 
	CATSurface_var		_hSurf2ToComputeCompAxis; // surface selected to define the component axis orientation (today =&quot;to&quot;) 

	// CATBoolean			_IsAssociate;		// Associated for the instance group
	CATBoolean			_IsQueryCatalog;
	CATBoolean			_IsDefReferenceProduct;
	CATBoolean			_IsOKCatalog;
	CATBoolean			_IsAutoPreviews;	// Previsu automatique voulue
	CATBoolean			_IsSeveralInstPerRef;		// several instances per reference voulue
	CATBoolean			_IsSensitivitySeveralInstPerRef; // several instances per reference voulue
	CATBoolean			_IsSensitivityCopyRef;		// copy reference voulue
	CATBoolean			_IsCopyRef; // copy reference voulue
	// CATBoolean			_IsSensitivityAssociated;	// associated check
	CATBoolean			_IsSensitivityManageAll;	// Manage all check
	CATBoolean			_IsKeepPartNumber;		// several instances per reference voulue
	CATBoolean			_IsSensitivityKeepPartNumber; // several instances per reference voulue


	// Infos Catalog
	CATUnicodeString		_PathInstComponent;		// Chemin de l&#x27;instance du component 
	CATBoolean				_initConfig;			// Flag sur la presence de la config precedente.
	CATICatalogBrowser_var	_hBrowserCatalog;		// CatalogBrowser for the component
	CATUnicodeString		_PathRefComponent;		// Chemin du component de reference
	CATUnicodeString		_SupplierComponent;		// Supplier du component catalog
	CATUnicodeString		_PrevCatalogPath;		// 

	// Infos Catalog of Rules
	CATBoolean				_initConfigRuleCat;		// Flag sur la presence de la config precedente.
	CATICatalogBrowser_var	_hBrowserRuleCat;		// CatalogBrowser for the rule
	CATUnicodeString		_BuildPathRuleCatName;  // nom complet pour ne pas avoir tout le temps le catalogue de composants
	CATListOfCATUnicodeString			*_ptrRuleCatChapter;	// Chapter Rule catalog
	CATListValCATICatalogKeyword_var	*_hlistRuleCatKeyword;	// Liste des keyword

	CATUnicodeString		_PathRefRule;		    // Chemin de la regle de reference
	CATUnicodeString		_ReferenceRule;			// The Reference Rule catalog
	CATISpecObject_var		_hRuleObj;				// the object linked (feature) to the rule

	// Rule Catalog

	// Message None
	CATUnicodeString		_MessageNone;

	int						_NbPointSel;
	int						_iCurrentComponent;

	// Dialog
	CATDlgFrame*			_FrmRoot;
	CATDlgPushButton*		_PushListBetween;
	CATDlgPushButton*		_PushDir;
	CATDlgEditor*			_EditorSupplier;
	CATDlgEditor*			_EditorRuleReference;
	CATDlgFrame*			_FrmOriginX;
	CATDlgFrame*			_FrmOriginY;
	CATDlgFrame*			_FrmOriginZ;
	CATDlgFrame*			_FrmOriginU;
	CATDlgFrame*			_FrmOriginV;
	CATDlgFrame*			_FrmOriginW;
	CATDlgCheckButton*		_ChkBAssociate;
	CATDlgCheckButton*		_ChkBAutoPreviews;
	CATDlgCheckButton*		_ChkBSeveralInstPerRef;
	CATDlgCheckButton*		_ChkBCopyRef;
	CATDlgCheckButton*		_ChkBRuleActivate;
	CATDlgCheckButton*		_ChkBKeepPartNumber;

	CATTlgServicesSelector*	_SelectorPositionInTree;
	CATTlgServicesSelector*	_SelectorFromPlate;
	CATTlgServicesSelector*	_SelectorToPlate;
	CATDlgSelectorList*		_EditorSelPositionInTree;
	CATDlgSelectorList*		_EditorSelFromPlate;
    CATDlgSelectorList*		_EditorSelToPlate;

	CATDlgPushButton*		_PushConstraintsWith;

	CATTlgServicesSelector*	_SelectorUVOrigin;
	CATTlgServicesSelector*	_SelectorWDirection;
	CATDlgSelectorList*		_EditorUVOrigin;
	CATDlgSelectorList*     _EditorWDirection;

	// Catalog
	CATListOfCATUnicodeString			*_ptrCatalogChapter;	// Chapter catalog
	CATListValCATICatalogKeyword_var	*_hlistKeyword;			// Liste des keyword

	CATIFmuDocChooser	*_pDocChooser;
	CATIFmuDialogBox	*_DlgFile;

	CATMldWebBrowserComponentDlg	*_pWebBrowser;

	// Angle
	CATMldAngleDialog	*_AngleDialog;
	double				_StepAngle;
	CATAngle			_currentAngle; // valeur de l&#x27;angle a chaque action
	CATAngle			_absoluteAngle; // valeur de l&#x27;angle par rapport a la premiere preview.

	// il y a une seule normale par groupe de composants 
	// ( =&gt; on ne met pas ces champs dans la liste de CATMldComponentData.h)
	CATMathDirection	_DirU; // horizontale (= X par defaut)
	CATMathDirection	_DirV; // verticale   (= Y par defaut)
	CATMathDirection	_DirW; // normale a la plate (= Z par defaut)
	CAT4x4Matrix		_defaultMatrixUVWtoXYZ;
	CAT4x4Matrix		_defaultMatrixXYZtoUVW;
	CATMathPoint		_defaultOrigUVW;
	CATBaseUnknown_var	_hSelectedUVOrigin; // objet selectionne comme nouvelle origine.(traitement ensembliste ou pas de preview)
	CATMathPoint		_selectedUVOrigin; // coordonnees associees a l&#x27;objet selectionne comme nouvelle origine ( idem )
	CATMathDirection	_AutomaticDirU, _AutomaticDirV, _AutomaticDirW;	
	CATBoolean			_IsAutomaticWDirection;// Orientation calculee  (TRUE), ou selectionnee (FALSE)

	// Rep pour la previsu de composant
	CAT3DBagRep				*_ptrPreview3DBagRep;
	CAT3DBagRep				*_ptrPreview3DBagRepArrow;
	CAT3DBagRep				*_ptrPreview3DBagRepCercleZ;
	CAT3DBagRep				*_ptrPreview3DBagRepUVOrigin;

   	CATModelForRep3D		*_ptrPreviewCercleZ;
   	CAT3DCustomRep			*_ptrCustoRepCercleZ;
   	CATSt3DArcCircleGP 		*_ptrFixedArcCircleGPZ;
    CAT3DAnnotationTextGP	*_ptrTextAngle;
  	CATModelForRep3D		*_ptrPreviewXFly;
	CAT3DBagRep				*_ptrPreview3DBagRepXFly;
    CAT3DCustomRep			*_ptrCustoRepXFly;
    CAT3DAnnotationTextGP	*_ptrTextXFly;
    CAT3DAnnotationTextGP	*_ptrTextYFly;
	CATModelForRep3D		*_ptrPreviewArrow ;  
	CAT3DCustomRep			*_ptrCustoRepArrow;
   	CAT3DFixedArrowGP 		*_ptrFixedArrowGP;
	CATModelForRep3D		*_ptrPreviewUVOrigin;
	CAT3DCustomRep			*_ptrCustoRepUVOrigin;
    CAT3DMarkerGP			*_ptrOriginMarker;

	// Management manipulateur
	CATBoolean				_IsActivateCercle;
	CAT3DManipulator		*_ptrArrowManipulator;
	CAT3DManipulator		*_ptrCercleManipulatorZ;

	// Infos pour le traitement des instances (temporaire en attendant les feat ext)
	CATListOfComponentData	_ListComponentData;
 
	// Display 
	CATMathPointf    		_Centre; // centre de rotation du manipulateur d&#x27;angle
 
	CATBoolean						_IsSupportWorkOnPlane;		// Creation WorkOnPlane mode	

	CATMldFromToExplComponentCom	*_ListBetweenCom;
	
	// Updates the position in tree editor
	void UpdatePositionInTree();
	// Updates the uv origin editor
	void UpdateUVOrigin();
	void UpdateUVOrigin(const int ipt); // bga+++
	//uniquement pour l&#x27;affichage dans le champ: ne remet pas a jour la position
	void SetOrigUVWObject(const int ipt, const  CATBaseUnknown_var spUVOriginFeature); 

     /** @nodoc */   
	void SetWDirectionObject(const CATBaseUnknown_var ihSelectGeom);



  // Creation des Frames de la Dialog Box
  /** @nodoc */
  void DlgFrameFrmInst() ;
    /** @nodoc */
  void DlgFrmInstOrigin( CATDlgFrame*&amp; iFrame, const CATString&amp; iDialogObjectName,  const short int iTopRow, 
      const short int iLeftColumn, const CATIParmAsStored_var&amp; iParmEditOrigine , CATDlgFrame*&amp; oFrmOrigin  , 
      const CATUnicodeString &amp;iLabelName) ;
  /** @nodoc */  
    void DlgCheckButton( CATDlgCheckButton*&amp; ipChkButton, CATBoolean&amp; oIsState);
       /** @nodoc */  
  void CreatePreviewElem( CATModelForRep3D* &amp;iptrPreview,
                                           	CAT3DBagRep* &amp;optrPreview3DBagRep);
      /** @nodoc */ 
  void CreateSelector( 	CATTlgServicesSelector*	&amp;opSelector,
                                        	CATDlgFrame* &amp;iFrmEditorPositionInTree,
                                          const CATString iTitle,
                                          	CATDlgSelectorList* &amp;opEditor);
/**
	  * Used to Manages &quot;Copy Reference&quot; (&quot;create a copy of the reference&quot;)
	  * Get the current value of the dialog box field  &quot;Copy Reference&quot;
	  * @return
	  *		the value of the check button
	 **/	
	CATBoolean IsCopyRef() const;
	/**
	  * Used to Manages &quot;Copy Reference&quot; (&quot;create a copy of the reference&quot;)
	  * Set the current value of the dialog box field  &quot;Copy Reference&quot; 
	  * @param iFlag
	  *		the value of the check button
	 **/	  
	void SetCopyRef(const CATBoolean iFlag);
	/**
	  * Used to Manages &quot;Copy Reference&quot; (&quot;create a copy of the reference&quot;)
	  * Modify the sensitivity of the check button &quot;Copy Reference&quot; 
	  * @param iFlag
	  *		the sensitivity of the check button
	 **/

	void SetSensitivityCopyRef(const CATBoolean iFlag);
	// Gestion du positionnement dans l&#x27;espace


	// The copy constructor and the equal operator must not be implemented
	// -------------------------------------------------------------------
	CATMldComponentDlg (CATMldComponentDlg &amp;);
	CATMldComponentDlg&amp; operator=(CATMldComponentDlg&amp;);

};

//----------------------------------------------------------------------

#endif
</div>
    
    <div class="navigation">
        <div><a href="CATMldAssociateType.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATMldAssociateType.h</a></div>
        <div><a href="CATMldComponentUI.html">‰∏ã‰∏ÄÈ°µ: CATMldComponentUI.h ‚Üí</a></div>
    </div>
</body>
</html>