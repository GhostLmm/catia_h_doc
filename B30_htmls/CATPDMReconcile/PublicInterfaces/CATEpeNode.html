<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CATPDMReconcile/PublicInterfaces/CATEpeNode.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>CATPDMReconcile/PublicInterfaces/CATEpeNode.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATEpeInstance.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATEpeInstance.h</a></div>
        <div><a href="CATEpeObject.html">‰∏ã‰∏ÄÈ°µ: CATEpeObject.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef  CATEpeNode_h
#define  CATEpeNode_h
// Reconciliator
// Version 1 Release 0
// COPYRIGHT DASSAULT SYSTEMES 2004-2010
/**
  * @CAA2Level L1
  * @CAA2Usage U1
  */
// *****************************************************************
//
//   Identification :
//   ---------------
//
//      RESPONSIBLE : Jean-Luc MEDIONII
//      FUNCTION    : Reconciliator
//      USE         : CATIA &amp; ENOVIA
//
// *****************************************************************
//
//   Description :
//   ------------
//
//    Base class for a simple object hierarchical model
//
// *****************************************************************
//
//   Remarks :
//   ---------
//
//
// ****************************************************************
//
//   Story :
//   -------
//
//    Revision 1.0  Dec 2004  Author:  Jean-Luc MEDIONI
//                            Purpose: CAA exposition
//
// ****************************************************************
//
// INSIDE class:
// -------------
//
//
//
// ****************************************************************
// Abstract class    : Yes
// Template code     : No
// Ilined   Function : No
// ****************************************************************

#include &quot;CATPDMReconcileModel.h&quot;

#include &lt;time.h&gt;

// --- Forward declaration

class CATScmNode ;
class CATEpeNode ;

// --- Header that need to be referenced

#include &quot;CATUnicodeString.h&quot;
#include &quot;CATTime.h&quot;
#include &quot;CATLib.h&quot;

#include &quot;CATListOfCATEpeNode.h&quot;

/**
  * Constant value to define the node type : Unknown
  */
#define CATEpeNodeUnknown             0
/**
  * Constant value to define the node type for a Reconciliation Session.
  */
#define CATEpeNodeSession             1
/**
  * Constant value to define the node type for an Object to Reconcile.
  */
#define CATEpeNodeObject              2
/**
  * Constant value to define the node type for a Part.
  */
#define CATEpeNodeDocument            6
/**
  * Constant value to define the node type for a Part.
  */
#define CATEpeNodeProxyDocument      10
/**
  * Constant value to define the node type for a Part.
  */
#define CATEpeNodePartVersion        18
/**
  * Constant value to define the node type for an Assembly relation.
  */
#define CATEpeNodeFirstLevelInstance 34
/**
  * Constant value to define the node type for a Instance of Part.
  */
#define CATEpeNodeInstance           66

// --- Class definition

/**
  * Generic class to manage nodes in the test scenario structure.
  *
  * &lt;b&gt;Role&lt;/b&gt;:
  * All information in this domain will be managed as nodes in a tree 
  * structure. Each node is typed and contains tags with valuation. The list of
  * tags on a node depends on the node type.
  *
  * &lt;br&gt;The intend of those structure is to enable comparison between assembly structure stored.
  * in many different system CATIA document in session or in ENOVIA systems.
  * &lt;br&gt;The root node of those trees is a @href CATEpeInstance.
  */

class ExportedByCATPDMReconcileModel CATEpeNode
{
   // ----------------------------------------------------------
   // --- C++ standard methods (Constructor / Destructor...)
   // ----------------------------------------------------------

   public:

   /**
     * Constructs an accessor to a Reconciliation object (generic node object with no name).
     * 
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This method does not create Reconciliation object, it just create an accessor to a Reconciliation object. 
     * To really add a Reconciliation object, you have to use @href #CreateNode method. 
     */
      CATEpeNode() ;

   /**
     * Destructor of the Reconciliator object accessor.
     * 
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This method does not remove Reconciliation object it just deletes the accessor to the Reconciliation object. 
     * To really remove a Reconciliation object, you have to use @href #RemoveNode method. 
     */
      ~CATEpeNode() ;

   /**
     * Copy constructor.
     * 
     * @param ixNode
     *  Object accessor to be duplicated.
     */
      CATEpeNode( const CATEpeNode &amp; ixNode ) ;

   /**
     * Assignment operator from another object node.
     * 
     * @param ixNode
     *  Object accessor used as reference for the assignment.
     */
      CATEpeNode &amp; operator=( const CATEpeNode &amp; ixNode ) ;

    // ---------------------------------------------
    // --- Manage Reconciliation session content ---
    // ---------------------------------------------

   /**
     * Enables to request deletion of a Reconciliation Object.
     * 
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Enables to request deletion of a Reconciliation Object.
     * This operation will remove the object from the memory and cut all relationship of this object from 
     * another objects in the session. 
     * This operation is in particular requested in the case of implementation of Product structure comparison User Exit.
     */
     void RemoveNode() ;

   /**
     * Create a Reconciliation object.
     * 
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Enables to create a Reconciliation Object of a certain type.
     * 
     * @param inType
     * Node type
     * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: see @href CATScmNode#GetType
     *
     * @param ixFather
     *    Father node for this object.
     *
     * @see CATEpeInstance , CATEpePartVersion , CATEpeFirstLevelInstance
     */
      static CATEpeNode * CreateNode( int          inType   = CATEpeNodeUnknown
                                    , CATEpeNode * ixFather = NULL ) ;

    // -----------------------------------------
    // --- General management                ---
    // -----------------------------------------


    /**
      * Access to CAA reconciliator object from other reconciliator objects.
      *
      * &lt;b&gt;Role:&lt;/b&gt; Access to CAA reconciliator object from other reconciliator objects.
      * 
      * @return
      * Method return code 
      * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: Returns &lt;b&gt;&lt;i&gt;NULL&lt;/i&gt;&lt;/b&gt; if one error occur, otherwise provide access
      * associated  &lt;b&gt;&lt;i&gt;CATEpeNode&lt;/i&gt;&lt;/b&gt;. 
      * 
      * @param ixObj
      *  Internal session entity.
      */
       static CATEpeNode * GetExposedEntity( const CATScmNode * ixObj ) ;

    /**
      * Access to object reconciliator internal object.
      *
      * &lt;b&gt;Role:&lt;/b&gt; Access to object reconciliator internal object.
      * 
      * @return
      * Method return code 
      * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: Returns &lt;b&gt;&lt;i&gt;NULL&lt;/i&gt;&lt;/b&gt; if one error occur, otherwise provide access
      * associated  &lt;b&gt;&lt;i&gt;CATScmNode&lt;/i&gt;&lt;/b&gt;. 
      */
       CATScmNode * GetExposedEntity() const ;

   /**
     * Gets the node type.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Gets the object type information.
     *
     * @return
     * Gets the node type 
     * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: It can be set to either:
     * &lt;ul&gt;
     * &lt;li&gt;&lt;tt&gt;CATEpeNodeUnknown&lt;/tt&gt;Object type not define&lt;/li&gt;
     * &lt;ul/&gt;
     */
     int GetType() const ;

   /**
     * Checks that a node is of a certain type.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Checks that a node is of a certain type with respect to inheritance.
     *
     * @return
     * &lt;ul&gt;
     * &lt;li&gt;&lt;b&gt;1&lt;/b&gt; if the &lt;b&gt;CATEpeNode&lt;/b&gt; is to type &lt;b&gt;inType&lt;/b&gt;&lt;/li&gt;
     * &lt;li&gt;&lt;b&gt;O&lt;/b&gt; otherwise&lt;/li&gt;
     * &lt;ul/&gt;
     *
     * @param inType 
     * Object type.
     */
     int IsOfType( int inType ) const ;

   /**
     * Gets name.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Gets the object name.
     *
     * @return
     * Object name.
     */
      const CATUnicodeString &amp; GetName() const ;

   /**
     * Sets the node name.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets the instance id.
     *
     * @return
     * Returns error code
     *
     * @param icName
     * Node name.
     */
      HRESULT SetName( const CATUnicodeString &amp; icName ) ;

   /**
     * Gets the PDM Id.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Gets the PDM Id.
     *
     * @return
     * Object PDM Id.
     */
      CATUnicodeString GetPDMId() const ;

   /**
     * Gets VPDM object Timestamp.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Gets VPDM object Timestamp.
     *
     * @return
     * Returns VPDM time stamp of this object
     */
      CATTime GetPdmTimeStamp() const ;

      // -----------------------------------------
      // --- Status management                 ---
      // -----------------------------------------
   
    /**
      * Enumeration of defining the rule status of an Object.
      * 
      * @param NOTCOMPLETED
      *  Reconciliation rule not completely defined for this object.
      * 
      * @param COMPLETED
      *  Reconciliation rule completely defined for this object.
      * 
      * @param INHERITED
      *  Reconciliation rule defined by inheritance from another object.
      *  &lt;b&gt;&lt;u&gt;Example:&lt;/u&gt;&lt;/b&gt; Assembly Product associated to CATIA V4 model
      *  will inherited information about reconciliation from the rule set on the CATIA
      *  V4 model (the associated shape).
      * .
      */
      enum CATRecStatus
      {
         NOTCOMPLETED ,
         COMPLETED    ,
         INHERITED
      } ;
 
   /** @nodoc
     * Test if rule status of is inherited.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Test if rule status of is inherited  (@href CATEpeNode#INHERITED ).
     *
     * @return
     *  A flag indicated if Rule status is inherited.
     */
      int IsInherited() const ;

   /**
     * Gets Rule status of an object.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Gets rule status of an object among authorized status.
     *
     * @return
     * Object status among authorized status.
     */
      CATRecStatus GetStatus() const ;

   /** @nodoc
     * Sets rule status of an object.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets rule status of an object among rule status.
     *
     * @param inStatus
     * Object rule status among rule status.
     */
      HRESULT SetStatus( CATRecStatus inStatus ) ;

      // --- Define authorized comparison status

    /**
      * List of authorized comparison status.
      * 
      * @param UnknownStatus
      *  No comparison status defined.
      * 
      * @param IdenticalStatus
      *  Object identical both in CATIA and VPDM repository.
      * 
      * @param InstanceMovedStatus
      *  Object identical, but instance moved between CATIA and VPDM repository.
      * 
      * @param NewInstanceStatus
      *  Object known only in CATIA.
      * 
      * @param IgnoreStatus
      *  Object existing in CATIA, but not to be saved in VPDM repository.
      * 
      * @param SuppressInstanceStatus
      *  Object not existing in CATIA, but present in VPDM repository.
      */
      enum CATEpeNodeStatus
      {
         UnknownStatus          ,
         IdenticalStatus        ,
         InstanceMovedStatus    ,
         NewInstanceStatus      ,
         SuppressInstanceStatus ,
         IgnoreStatus           ,
         OnlyVPDMStatus
      } ;

   /**
     * Sets status of an object.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets status of an object among authorized status.
     *
     * @param inStatus
     * Object status among authorized status.
     */
      void SetComparisonStatus( CATEpeNodeStatus inStatus ) ;

   /**
     * Gets comparison status of an object.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Gets comparison status of an object among authorized status.
     *
     * @return
     * Object status among authorized status.
     */
      CATEpeNodeStatus GetComparisonStatus() const ;

      // -----------------------------------------------------
      // --- Scans list of all children of node
      // ---   * To start scan initialize xPrevious to NULL
      // ---   * At scan ends whe return NULL
      // -----------------------------------------------------
 
   /**
     * Gets next child.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Scans the list of children of current node object.
     * 
     *
     * @return
     * Next child object node. 
     * &lt;br&gt;Return &lt;tt&gt;NULL&lt;/tt&gt; if &lt;tt&gt;ixPrevious&lt;/tt&gt; is not a child of current node 
     * or if it is the last child
     * 
     * @param ixPrevious
     * Current child object.
     * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
     * &lt;ul&gt;
     * &lt;li&gt;&lt;tt&gt;NULL&lt;/tt&gt; to get the first child&lt;/li&gt;
     * &lt;ul/&gt;
     */
      CATEpeNode * ScanChildren( const CATEpeNode * const ixPrevious ) const ;

   /**
     * Gets next child of a defined type.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Scans the list of children having a defined type.
     * 
     *
     * @return
     * Next child object node. 
     * &lt;br&gt;Return &lt;tt&gt;NULL&lt;/tt&gt; if &lt;tt&gt;ixPrevious&lt;/tt&gt; is not a child of current node 
     * or if it is the last child
     * 
     * 
     * @param inInTypeNode
     * Defines the type node you want to query on.
     * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: It can be set to either:
     * &lt;ul&gt;
     * &lt;li&gt;&lt;tt&gt;CATEpeNodeDocument&lt;/tt&gt; To search among object node type (Document, part, instance...).&lt;/li&gt;
     * &lt;li&gt;&lt;tt&gt;CATEpeNodeProxyDocument&lt;/tt&gt; To search among document not loaded (Proxy-document).&lt;/li&gt;
     * &lt;li&gt;&lt;tt&gt;CATEpeNodeInstance&lt;/tt&gt; To search among instance of Part Version.&lt;/li&gt;
     * &lt;li&gt;&lt;tt&gt;CATEpeNodePartVersion&lt;/tt&gt; To search among all &quot;Part version&quot; Objects.&lt;/li&gt;
     * &lt;li&gt;&lt;tt&gt;CATEpeNodeFirstLevelInstance&lt;/tt&gt; To search among all &quot;Assembly Relation&quot; Objects.&lt;/li&gt;
     * &lt;li&gt;&lt;tt&gt;CATEpeNodeSession&lt;/tt&gt; To search among all &lt;b&gt;CATEpeSession&lt;/b&gt; Objects.&lt;/li&gt;
     * &lt;/ul&gt;
     * 
     * @param ixPrevious
     * Current child object.
     * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
     * &lt;ul&gt;
     * &lt;li&gt;&lt;tt&gt;NULL&lt;/tt&gt; to get the first child&lt;/li&gt;
     * &lt;ul/&gt;
     */
      CATEpeNode * ScanChildren( int inInTypeNode , const CATEpeNode * const ixPrevious ) const ;

    /**
     * Gets the father node.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Gets the father node of the current object.
     * 
     *
     * @return
     * Father node object. 
     */
      CATEpeNode * GetFather() const ;

   /**
     * Gets children of a CATEpeNode.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Gets children of a CATEpeNode.
     *
     * @param inInTypeNode
     * Defines the type node you want to query on.
     * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: It can be set to either:
     * &lt;ul&gt;
     * &lt;li&gt;&lt;tt&gt;CATEpeNodeUnknown&lt;/tt&gt; To search among all child nodes.&lt;/li&gt;
     * &lt;li&gt;&lt;tt&gt;CATEpeNodeDocument&lt;/tt&gt; To search among object node type (Document, part, instance...).&lt;/li&gt;
     * &lt;li&gt;&lt;tt&gt;CATEpeNodeProxyDocument&lt;/tt&gt; To search among document not loaded (Proxy-document).&lt;/li&gt;
     * &lt;li&gt;&lt;tt&gt;CATEpeNodeInstance&lt;/tt&gt; To search among instance of Part Version.&lt;/li&gt;
     * &lt;li&gt;&lt;tt&gt;CATEpeNodePartVersion&lt;/tt&gt; To search among all &quot;Part version&quot; Objects.&lt;/li&gt;
     * &lt;li&gt;&lt;tt&gt;CATEpeNodeFirstLevelInstance&lt;/tt&gt; To search among all &quot;Assembly Relation&quot; Objects.&lt;/li&gt;
     * &lt;li&gt;&lt;tt&gt;CATEpeNodeSession&lt;/tt&gt; To search among all &lt;b&gt;CATEpeSession&lt;/b&gt; Objects.&lt;/li&gt;
     * &lt;/ul&gt;
     * 
     * @return
     *  List of Nodes.
     */
      CATListOfCATEpeNode * GetChildren( int inInTypeNode ) const ;

   // -----------------------------------
   // --- Print attribute identity card
   // -----------------------------------

   /**
     * Print a report on standard output.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Print the content of this node and its children.
     * 
     * @param inLevel
     * Enable to have an indented presentation according to the tree depth of the node.
     */
      void Print( const char * const cInfo = NULL ) const ;
} ;

#endif
</div>
    
    <div class="navigation">
        <div><a href="CATEpeInstance.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATEpeInstance.h</a></div>
        <div><a href="CATEpeObject.html">‰∏ã‰∏ÄÈ°µ: CATEpeObject.h ‚Üí</a></div>
    </div>
</body>
</html>