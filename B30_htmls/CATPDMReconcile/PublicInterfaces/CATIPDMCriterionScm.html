<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CATPDMReconcile/PublicInterfaces/CATIPDMCriterionScm.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>CATPDMReconcile/PublicInterfaces/CATIPDMCriterionScm.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATIPDMCharacteristicScm.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATIPDMCharacteristicScm.h</a></div>
        <div><a href="CATIPDMUERecEventScm.html">‰∏ã‰∏ÄÈ°µ: CATIPDMUERecEventScm.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATIPDMCriterionScm_H
#define CATIPDMCriterionScm_H
// Reconciliator
// Version 1 Release 0
// COPYRIGHT DASSAULT SYSTEMES 2004-2010
/**
  * @CAA2Level L1
  * @CAA2Usage U5
  */
// *****************************************************************
//
//    Identification :
//    ---------------
//
//        RESPONSIBLE : Jean-Luc MEDIONI
//        FUNCTION    : Reconciliator
//        USE         : CATIA &amp; ENOVIA
//
// *****************************************************************
//
//    Description :
//    ------------
//
//   Interface used by the Reconciliator UI in order to query in a Destination
// PDM for candidate object for reconciliation
//
// *****************************************************************
//
//    Remarks :
//    ---------
//
//
// ****************************************************************
//
//    Story :
//    -------
//
//    Revision 1.0  Oct 2003  Author:  Jean-Luc MEDIONI
//                            Purpose: Creation for Reconciliator
//
//    Revision 1.0  Nov 2005  Author:  Jean-Luc MEDIONI
//                            Purpose: Extend Reconciliator Criterion architecture
//
// ****************************************************************
//
// INSIDE class:
// -------------
//
//
//
// ****************************************************************
// Abstract class     : No
// Template code      : No
// Ilined    Function : No
// ****************************************************************

#include &quot;CATPDMReconcileItfCPP.h&quot;
#include &quot;CATBaseUnknown.h&quot;

#ifndef LOCAL_DEFINITION_FOR_IID
extern ExportedByCATPDMReconcileItfCPP IID IID_CATIPDMCriterionScm ;
#else
extern &quot;C&quot; const IID IID_CATIPDMCriterionScm ;
#endif

#include &quot;CATCollec.h&quot;

class CATUnicodeString ;
class CATScmObject     ;
class CATScmPDMObject  ;

class CATLISTP(CATScmPDMObject) ;

#define CATScmCriterionModeList 1
#define CATScmCriterionModeXML  2

//------------------------------------------------------------------

/**
  * Interface used by the Reconciliator in order to query in a PDM Destination
  * for candidate objects for reconciliation.
  * 
  * &lt;b&gt;Role&lt;/b&gt;:
  * This interface is implemented by each criterion. A criterion depends of PDM environment. 
  * A criterion is a late type which name is normalized: &lt;b&gt;CATPDMCrit_Env_CritName&lt;/b&gt;
  * &lt;br&gt;With:
  * &lt;ol&gt;
  * &lt;li&gt;&lt;b&gt;Env&lt;/b&gt; the PDM environment&lt;/li&gt;
  * &lt;li&gt;and &lt;b&gt;CritName&lt;/b&gt; the criterion&#x27;s name.&lt;/li&gt;
  * &lt;/ol&gt;
  * &lt;p&gt;We deliver default implementations, but user can create their owns implementations.
  * &lt;ul&gt;
  * &lt;li&gt;For ENOVIA VPM V4, we deliver &lt;b&gt;&lt;i&gt;Simple query&lt;/b&gt;&lt;/i&gt;&lt;/li&gt;
  * &lt;li&gt;For ENOVIA VPM V5, we deliver &lt;b&gt;&lt;i&gt;Easy query&lt;/b&gt;&lt;/i&gt;&lt;/li&gt;
  * &lt;/ul&gt;
  */
class ExportedByCATPDMReconcileItfCPP CATIPDMCriterionScm: public CATBaseUnknown
{
   CATDeclareInterface ;

   public:

   /**
     * Answers if the criterion is applicable to an object.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Answers if the criterion is applicable to an object.
     *
     * @param iCATRecObj
     *   Object on which criterion need to be applied.
     *
     * @return
     *   Error code of function.
     *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: Returns &lt;b&gt;&lt;i&gt;S_OK&lt;/i&gt;&lt;/b&gt; if operation runs well. 
     */
      virtual HRESULT IsApplicable( CATScmObject * iCATRecObj ) const = 0 ;
  
   /**
     *   Provides criterion name.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Provide a NLS Display name of the criterion.
     *
     *   @param oName
     *      To output the Display name.
     *
     *   @return
     *      Error code of function.
     *      &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: Returns &lt;b&gt;&lt;i&gt;S_OK&lt;/i&gt;&lt;/b&gt; if operation runs well. 
     */   
      virtual HRESULT GetName( CATUnicodeString &amp; oName ) const = 0 ;

   /**
     *   Gets order index.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Provides a index to enable to order list of Criterion.
     *
     *   @param onOrder
     *      To output the value enabling to order criterion list on CATScmObject.
     *
     *   @return
     *      Error code of function.
     *      &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: Returns &lt;b&gt;&lt;i&gt;S_OK&lt;/i&gt;&lt;/b&gt; if operation runs well. 
     */   
      virtual HRESULT GetOrderIndex( int &amp; onOrder ) const = 0 ;

   /**
     * Define how criterion operates.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Define how criterion operates (Old mode with list of strings or new mode with XML).
     *
     *   @param onMode
     *      Define which services has to be used with this criterion.
     *      &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: 
     *      &lt;dl&gt;
     *      &lt;dt&gt;CATScmCriterionModeList&lt;/dt&gt; &lt;dd&gt;Old mode based on 2 list of strings&lt;/dd&gt;
     *      &lt;dt&gt;CATScmCriterionModeXML&lt;/dt&gt;  &lt;dd&gt;New mode with XML&lt;/dd&gt;
     *      &lt;/dl&gt;
     *
     *   @return
     *      Error code of function.
     *      &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: Returns &lt;b&gt;&lt;i&gt;S_OK&lt;/i&gt;&lt;/b&gt; if operation runs well. 
     */
      virtual HRESULT GetCriterionMode( int &amp; onMode ) const = 0 ;

   /**
     * Gets the list of parameters and default values of the PDM objects&#x27; query.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Gets the list of parameters and default values of the PDM objects&#x27; query.
     *
     * &lt;br&gt;&lt;b&gt;NB:&lt;/b&gt; (This service will be replace in V5R17 by a new one @see #GetCriterionParameters .)
     *
     *   @param iRecObj
     *      Object where we find the criterions value.
     *
     *   @param oQueryLabelList
     *      List of labels for the query.
     *
     *   @param oQueryValueList
     *      List of default values for the query.
     *
     *   @return
     *      Error code of function.
     *      &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: Returns &lt;b&gt;&lt;i&gt;S_OK&lt;/i&gt;&lt;/b&gt; if operation runs well. 
     */
      virtual HRESULT GetCriterionParameters( CATScmObject               * iCATRecObj
                                            , CATListValCATUnicodeString &amp; oQueryLabelList
                                            , CATListValCATUnicodeString &amp; oQueryValueList ) = 0 ;

   /**
     *  Executes current query on PDM.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Creates in CV5 the list of handles of the objects stored in PDM which verify 
     *   the criterion according to the criterions value of the object.
     *
     * &lt;br&gt;&lt;b&gt;NB:&lt;/b&gt; (This service will be replace in V5R17 by a new one @see #ExecuteCriterion .)
     *
     *   @param iCATRecObj
     *      Object where we find the criterions value.
     *
     *   @param iQueryValueList
     *      List of values for the query.
     *
     *   @param oPDMRecObjList
     *      List of wrists on object stored in PDM which verify the criterion.
     *
     *   @param oPDMColumnNameList
     *      List of column names describing the PDM object&#x27;s attributes. (see @href CATScmPDMObject)
     *
     *   @return
     *      Error code of function.
     *      &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: Returns &lt;b&gt;&lt;i&gt;S_OK&lt;/i&gt;&lt;/b&gt; if operation runs well. 
     */
      virtual HRESULT ExecuteCriterion( CATScmObject               * iCATRecObj
                                      , CATListValCATUnicodeString &amp; iQueryValueList
                                      , CATLISTP(CATScmPDMObject)  &amp; oPDMRecObjList
                                      , CATListValCATUnicodeString &amp; oPDMColumnNameList ) = 0 ;

   /**
     * Gets query parameters with default values.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Gets query parameters with default values as an XML stream compliant with Reconciliator Query panel.
     *
     *   @param ixScmObj
     *      Object where we find the criterions value.
     *
     *   @param ocXmlQueryStream
     *      XML stream defining query parameters and default values.
     *
     *   @return
     *      Error code of function.
     *      &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: 
     *      &lt;dl&gt;
     *      &lt;dt&gt;S_OK&lt;/dt&gt;    &lt;dd&gt; if operation runs well and criterion has some parameters to value. &lt;/dd&gt;
     *      &lt;dt&gt;S_FALSE&lt;/dt&gt; &lt;dd&gt;if operation runs well and criterion has no parameter to value.&lt;/dd&gt;
     *      &lt;dt&gt;E_FAIL&lt;/dt&gt;  &lt;dd&gt;otherwise.&lt;/dd&gt;
     *      &lt;/dl&gt;
     */
      virtual HRESULT GetCriterionParametersXML( CATScmObject     * ixScmObj
                                               , CATUnicodeString &amp; ocXmlQueryStream ) = 0 ;

   /**
     * Checks query parameters values.
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Checks query parameters values as an XML stream compliant with Reconciliator Query panel.
     *
     *   @param ixScmObj
     *      Object where we find the criterions value.
     *
     *   @param iocXmlQueryStream
     *      XML stream defining query parameters with values.
     *
     *   @return
     *      Error code of function.
     *      &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: Returns &lt;b&gt;&lt;i&gt;S_OK&lt;/i&gt;&lt;/b&gt; if operation runs well. 
     */
      virtual HRESULT CheckCriterionParametersXML( CATScmObject     * ixScmObj
                                                 , CATUnicodeString &amp; iocXmlQueryStream ) = 0 ;

   /**
     * Executes current query on VPDM with query parameters inside an XML stream .
     *
     * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Executes current query on VPDM with query parameters inside an XML stream compliant 
     *  with Reconciliator Query panel.
     *  The result will be a list of handles of the objects stored in PDM which verify query defined through the input XML stream.
     *
     * @param ixScmObj
     *   Object where we find the criterions value.
     *
     * @param icXmlQueryStream
     *   XML stream defining query parameters with values.
     *
     * @param oPDMRecObjList
     *   List of objects stored in PDM which verify the criterion.
     *
     * @param oPDMColumnNameList
     *   List of column names describing the PDM object&#x27;s attributes. (see @href CATScmPDMObject)
     *
     * @return
     *   Error code of function.
     *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: Returns &lt;b&gt;&lt;i&gt;S_OK&lt;/i&gt;&lt;/b&gt; if operation runs well. 
     *
     *   @return
     *      Error code of function.
     *      &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: Returns &lt;b&gt;&lt;i&gt;S_OK&lt;/i&gt;&lt;/b&gt; if operation runs well. 
     */
      virtual HRESULT ExecuteCriterionXML( CATScmObject               * ixScmObj
                                         , CATUnicodeString           &amp; icXmlQueryStream
                                         , CATLISTP(CATScmPDMObject)  &amp; oPDMRecObjList
                                         , CATListValCATUnicodeString &amp; oPDMColumnNameList ) = 0 ;

  // --------------------------------------------------------------
  // No constructors or destructors on this pure virtual base class
  // --------------------------------------------------------------
} ;

//------------------------------------------------------------------

#endif
</div>
    
    <div class="navigation">
        <div><a href="CATIPDMCharacteristicScm.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATIPDMCharacteristicScm.h</a></div>
        <div><a href="CATIPDMUERecEventScm.html">‰∏ã‰∏ÄÈ°µ: CATIPDMUERecEventScm.h ‚Üí</a></div>
    </div>
</body>
</html>