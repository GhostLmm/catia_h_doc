<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnalysisMeshingModel/PublicInterfaces/CATMSHNode.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>AnalysisMeshingModel/PublicInterfaces/CATMSHNode.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATMSHModifyNotification.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATMSHModifyNotification.h</a></div>
        <div><a href="CATMSHNodeVisuAttribute.html">‰∏ã‰∏ÄÈ°µ: CATMSHNodeVisuAttribute.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATMSHNode_h
#define CATMSHNode_h

// COPYRIGHT DASSAULT SYSTEMES 2000

/**
 * @CAA2Level L1 
 * @CAA2Usage U1 
 */

#include &quot;MSHModel.h&quot;
#include &quot;CATDataType.h&quot;
#include &quot;CATSysAllocator.h&quot;
#include &lt;stddef.h&gt;

class CATMSHMesh;
class CATIMSHMesh;
class CATMSHElement;
class CATMSHNodeVisuAttribute;
class CATMSHNodeVisuGroup;

/**
 * Object representing a finite element node.
 * @see CATIMSHMesh, CATMSHElement.
 */
class ExportedByMSHModel CATMSHNode
{
  friend class CATMSHNodePrivate;
  friend class CATMSHNodeServices;

  CATDeclarePagedNewOverride(CATMSHNode )

  // Mthodes et donnes membres publiques

public:
  /**
   * Retreives thee nodes coordinates. 
   * @param ioCoordinates
   *   Array containing the node&#x27;s coordinates in the following order: X, Y, Z.
   */
  void GetCoordinates ( double * ioCoordinates ) const;
  /**
   * Retreives thee nodes coordinates. 
   * @param ioCoordinates
   *   Array containing the node&#x27;s coordinates in the following order: X, Y, Z.
   */
  void GetCoordinates ( float * ioCoordinates ) const;
  /**
   * Returns a pointer to node&#x27;s coordinates. 
   * The coordinates are stored in the following order: X, Y, Z.
   */
  inline const double * GetCoordinates () const;
  /**
   * Returns the integer tag associated to the node.
   */
  inline unsigned int GetTag () const;
  /**
   * Returns the node number.
   * Nodes are numbered between 0 and the total number of nodes minus one.
   * Take care of the fact that this number is not stable upon modifications, 
   * for example in case of node deletion.
   */
  int GetNumber ();
  /**
   * Check if the finite element node is deleted.
   * Returns 1 the node is deleted, 0 otherwise.
   */
  inline int IsDeleted () const;
  /**
   * Returns the &lt;b&gt;Mesh&lt;/b&gt; which contains the element.
   * @return CATBaseUnknown#Release
   */
  CATIMSHMesh * GetMesh () const;
  /**
   * Returns the next node in the &lt;b&gt;Mesh&lt;/b&gt;. This method should be used with
   * the @href CATIMSHMesh#GetFirstNode method to scan all nodes.
   */
  inline CATMSHNode * Next () const;
  /**
   * Returns the previous node in the &lt;b&gt;Mesh&lt;/b&gt;. This method should be used with
   * the @href CATIMSHMesh#GetLastNode method to scan all nodes.
   */
  inline CATMSHNode * Previous () const;
  /**
   * Returns the number of elements which are sharing the node.
   */
  inline int GetNumberOfLinkedElements () const;
  /**
   * Returns graphic attribute for the finite element node.
   */
  const CATMSHNodeVisuAttribute * GetVisuAttribute () const;
  /**
   * Retreive all elements which are sharing the node.
   * &lt;b&gt;Caution&lt;/b&gt;: this method scans all elements and should not be called intensively.
	 * @return
   *   A pointer to the list of elements which share the node.
   *   &lt;br&gt;&lt;b&gt;Lifecycle rules deviation&lt;/b&gt;: the returned array should be desallocated by the callee.
   */
  CATMSHElement ** GetLinkedElements () const;
  /**
   * Check if the node is condensed on another node in the context of an assembly of analysis
   * Returns 1 the node is condensed, 0 otherwise.
   * See @href #GetImageNode to get the corresponding node.
   */
  inline int IsCondensed () const;
  /**
   * Returns the nodes on which this node is condensed (if any) in the context of an assembly of analysis.  
   */
  CATMSHNode * GetImageNode ();


// Mthodes et donnes membres prives

private:

  CATMSHNode ( const CATMSHNode&amp; From );
  CATMSHNode&amp; operator= ( const CATMSHNode&amp; From );
  CATMSHNode ();

  // Contructeur

  CATMSHNode ( CATMSHNode * PrevNode, const double * Coordinates, unsigned int Tag );

  // Destructeur

  ~CATMSHNode ();

  // Ecriture des coordonnes

  inline CATINTPTR GetWorkAsInt () const;
  inline void SetWorkAsInt ( CATINTPTR Work );
  inline void * GetWorkAsPtr () const;
  inline void SetWorkAsPtr ( void * Work );
  inline void SetDeleted ();
  inline void SetActive ();
  inline void WillBeRemoved ();
  inline int IsInTransaction () const;
  inline void SetInTransaction ();
  inline void ResetFromTransaction ();
  inline int HasAssociativity () const;
  inline int HasConnector () const;
  inline void SetHasAssociativity ();
  inline int IsInAssociativity () const;
  inline void SetInAssociativity ();
  inline void ResetFromAssociativity ();
  inline CATMSHNodeVisuGroup * GetVisuGroup () const;
  inline void SetNext ( CATMSHNode * Next );
  inline void SetPrevious ( CATMSHNode * Previous );
  CATMSHMesh * GetMeshImpl ();
  inline void SetNumberOfLinkedElements ( int NbLinkedElements );
  inline void SetCoordinates ( const double XYZ [] );
  inline void SetCondensed ();
  inline void SetHasConnector ();
  inline void SetVisuGroup ( CATMSHNodeVisuGroup * Group );
  inline short IsFlagged1 () const;
  inline void SetFlagged1 ( short Flagged );
  inline short IsFlagged2 () const;
  inline void SetFlagged2 ( short Flagged );
  inline void * GetAttributes () const;
  inline void SetAttributes ( void * Attributes );
  inline int IsToBeRemoved () const;
 
  // Donnes membres

  double                _Coord[3];
  CATMSHNode *          _Next;
  CATMSHNode *          _Previous;
  CATMSHNodeVisuGroup * _VisuGroup;
  void *                _Attributes;
  union
  {
    void *              AsPtr;
    CATINTPTR           AsInt;
  }                     _Work;

  int                   _NbOfLinkedElements;
  unsigned int          _Tag;

  union
  {
    short               _ShortFields;
    struct
    {
      unsigned short    Deleted                : 1;
      unsigned short    InCurrentTransaction   : 1;
      unsigned short    ToBeRemoved            : 1;
      unsigned short    HasAssociativity       : 1;
      unsigned short    InCurrentAssociativity : 1;
      unsigned short    HasConnector           : 1;
      unsigned short    IsCondensed            : 1;
      unsigned short    Flagged1               : 1;
      unsigned short    Flagged2               : 1;
    }                   _BitFields;
  }                     _ShortAndBit;
};

//
//  Implmentations inline
//

//
//==================================================
// GetCoordinates: coordonnes du noeud
//==================================================
//
inline const double * CATMSHNode::GetCoordinates () const
{
  return _Coord;
}

//
//==================================================
// GetTag: lecture du tag
//==================================================
//
inline unsigned int CATMSHNode::GetTag () const
{
  return _Tag;
}

//
//==================================================
// IsDeleted: le noeud est-il dtruit?
//==================================================
//
inline int CATMSHNode::IsDeleted () const
{
  return _ShortAndBit._BitFields.Deleted;
}

//
//==================================================
// Le noeud va-t-il etre physiquement dtruit ?
//==================================================
//
inline int CATMSHNode::IsToBeRemoved () const
{
  return _ShortAndBit._BitFields.ToBeRemoved;
}

//
//==================================================
// Le noeud va etre physiquement dtruit...
//==================================================
//
inline void CATMSHNode::WillBeRemoved ()
{
  _ShortAndBit._BitFields.ToBeRemoved = 1;
}

//
//==================================================
// Next: noeud suivant
//==================================================
//
inline CATMSHNode * CATMSHNode::Next () const
{
  return _Next;
}

//
//==================================================
// Previous: noeud prcdent
//==================================================
//
inline CATMSHNode * CATMSHNode::Previous () const
{
  return _Previous;
}

//
//==================================================
// GetNumberOfLinkedElements: nombre d&#x27;lments lis au noeud
//==================================================
//
inline int CATMSHNode::GetNumberOfLinkedElements () const
{
  return _NbOfLinkedElements;
}

//
//==================================================
// GetAttributes: lecture des attributs
//==================================================
//
inline void * CATMSHNode::GetAttributes () const
{
  return _Attributes;
}

//
//==================================================
// SetAttributes: criture des attributs
//==================================================
//
inline void CATMSHNode::SetAttributes ( void * Attributes )
{
  _Attributes = Attributes;
}

//
//==================================================
// GetWork: lecture du int Work
//==================================================
//
inline CATINTPTR CATMSHNode::GetWorkAsInt () const
{
  return _Work.AsInt;
}

//
//==================================================
// GetWork: lecture du void * Work
//==================================================
//
inline void * CATMSHNode::GetWorkAsPtr () const
{
  return _Work.AsPtr;
}

//
//==================================================
// SetWork: criture du int Work
//==================================================
//
inline void CATMSHNode::SetWorkAsInt ( CATINTPTR Work )
{
  _Work.AsInt = Work;
}

//
//==================================================
// SetWork: criture du void * Work
//==================================================
//
inline void CATMSHNode::SetWorkAsPtr ( void * Work )
{
  _Work.AsPtr = Work;
}

//
//==================================================
// SetDeleted: le noeud est marqu dtruit
//==================================================
//
inline void CATMSHNode::SetDeleted ()
{
  _ShortAndBit._BitFields.Deleted = 1;
}

//
//==================================================
// SetActive: le noeud est marqu actif
//==================================================
//
inline void CATMSHNode::SetActive ()
{
  _ShortAndBit._BitFields.Deleted = 0;
}

//
//==================================================
// IsInTransaction: le noeud est-il dans la transaction?
//==================================================
//
inline int CATMSHNode::IsInTransaction () const
{
  return _ShortAndBit._BitFields.InCurrentTransaction;
}

//
//==================================================
// SetInTransaction: le noeud est dans la transaction courante
//==================================================
//
inline void CATMSHNode::SetInTransaction ()
{
  _ShortAndBit._BitFields.InCurrentTransaction = 1;
}

//
//==================================================
// ResetFromTransaction: le noeud n&#x27;est plus dans la transaction
//==================================================
//
inline void CATMSHNode::ResetFromTransaction ()
{
  _ShortAndBit._BitFields.InCurrentTransaction = 0;
}

//
//==================================================
// HasAssociativity: le noeud a-t-il une associativit?
//==================================================
//
inline int CATMSHNode::HasAssociativity () const
{
  return _ShortAndBit._BitFields.HasAssociativity;
}

//
//==================================================
// HasConnector: le noeud a-t-il un connecteur?
//==================================================
//
inline int CATMSHNode::HasConnector () const
{
  return _ShortAndBit._BitFields.HasConnector;
}

//
//==================================================
// SetHasAssociativity: marque le noeud comme ayant une associativit
//==================================================
//
inline void CATMSHNode::SetHasAssociativity ()
{
  _ShortAndBit._BitFields.HasAssociativity = 1;
}

//
//==================================================
// IsInAssociativity: le noeud a-t-il dj t pris
// en compte pour la lecture de l&#x27;associativit?
//==================================================
//
inline int CATMSHNode::IsInAssociativity () const
{
  return _ShortAndBit._BitFields.InCurrentAssociativity;
}

//
//==================================================
// SetInAssociativity: le noeud a t pris en
// compte pour la lecture de l&#x27;associativit.
//==================================================
//
inline void CATMSHNode::SetInAssociativity ()
{
  _ShortAndBit._BitFields.InCurrentAssociativity = 1;
}

//
//==================================================
// ResetFromAssociativity: le noeud n&#x27;est plus pris
// en compte pour la lecture de l&#x27;associativit.
//==================================================
//
inline void CATMSHNode::ResetFromAssociativity ()
{
  _ShortAndBit._BitFields.InCurrentAssociativity = 0;
}

//
//==================================================
// IsFlagged1: le noeud est-il flagg1?
//==================================================
//
inline short CATMSHNode::IsFlagged1 () const
{
  return _ShortAndBit._BitFields.Flagged1;
}

//
//==================================================
// SetFlag1: pose du flag1 du noeud
//==================================================
//
inline void CATMSHNode::SetFlagged1 ( short Flagged )
{
  if ( Flagged ) _ShortAndBit._BitFields.Flagged1 = 1;
  else _ShortAndBit._BitFields.Flagged1 = 0;
}

//
//==================================================
// IsFlagged2: le noeud est-il flagg2?
//==================================================
//
inline short CATMSHNode::IsFlagged2 () const
{
  return _ShortAndBit._BitFields.Flagged2;
}

//
//==================================================
// SetFlag2: pose du flag2 du noeud
//==================================================
//
inline void CATMSHNode::SetFlagged2 ( short Flagged )
{
  if ( Flagged ) _ShortAndBit._BitFields.Flagged2 = 1;
  else _ShortAndBit._BitFields.Flagged2 = 0;
}

//
//==================================================
// IsCondensed: le noeud est-il condens?
//==================================================
//
inline int CATMSHNode::IsCondensed () const
{
  return _ShortAndBit._BitFields.IsCondensed;
}

//
//==================================================
// GetVisuGroup: lecture du visugroup
//==================================================
//
inline CATMSHNodeVisuGroup * CATMSHNode::GetVisuGroup () const
{
  return _VisuGroup;
}

//
//==================================================
// SetNext: chainage au suivant
//==================================================
//
inline void CATMSHNode::SetNext ( CATMSHNode * Next )
{
  _Next = Next;
}

//
//==================================================
// SetPrevious: chainage au prcdent
//==================================================
//
inline void CATMSHNode::SetPrevious ( CATMSHNode * Previous )
{
  _Previous = Previous;
}

//
//==================================================
// SetNumberOfLinkedElements: nombre d&#x27;lments lis
//==================================================
//
inline void CATMSHNode::SetNumberOfLinkedElements ( int NbLinkedElements )
{
  _NbOfLinkedElements = NbLinkedElements;
}

//
//==================================================
// SetCoordinates: criture des coordonnes
//==================================================
//
inline void CATMSHNode::SetCoordinates ( const double XYZ [] )
{
  _Coord[0] = XYZ[0];
  _Coord[1] = XYZ[1];
  _Coord[2] = XYZ[2];
}

//
//==================================================
// SetCondensed: le noeud est marqu condens
//==================================================
//
inline void CATMSHNode::SetCondensed ()
{
  _ShortAndBit._BitFields.IsCondensed = 1;
}

//
//==================================================
// SetHasConnector: le noeud est marqu comme supportant une connecteur
//==================================================
//
inline void CATMSHNode::SetHasConnector ()
{
  _ShortAndBit._BitFields.HasConnector = 1;
}

//
//==================================================
// SetVisuGroup: criture du groupe 
//==================================================
//
inline void CATMSHNode::SetVisuGroup ( CATMSHNodeVisuGroup * Group )
{
  _VisuGroup = Group;
}

#endif
</div>
    
    <div class="navigation">
        <div><a href="CATMSHModifyNotification.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATMSHModifyNotification.h</a></div>
        <div><a href="CATMSHNodeVisuAttribute.html">‰∏ã‰∏ÄÈ°µ: CATMSHNodeVisuAttribute.h ‚Üí</a></div>
    </div>
</body>
</html>