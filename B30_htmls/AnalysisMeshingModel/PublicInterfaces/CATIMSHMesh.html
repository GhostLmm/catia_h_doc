<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnalysisMeshingModel/PublicInterfaces/CATIMSHMesh.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>AnalysisMeshingModel/PublicInterfaces/CATIMSHMesh.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATIMSHLocalSpecification.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATIMSHLocalSpecification.h</a></div>
        <div><a href="CATIMSHMeshDomain.html">‰∏ã‰∏ÄÈ°µ: CATIMSHMeshDomain.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATIMSHMesh_h
#define CATIMSHMesh_h

// COPYRIGHT DASSAULT SYSTEMES 2000

/**
 * @CAA2Level L1 
 * @CAA2Usage U3 
 */

#include &quot;MSHModel.h&quot;
#include &quot;CATBaseUnknown.h&quot;
#include &quot;CATDataType.h&quot;

class  CATIMSHMeshManager;
class  CATIMSHConnectivity;
class  CATMSHNode;
class  CATMSHElement;
class  CATMSHElementVisuAttribute;
class  CATIMSHMeshListener;
class  CATMSHNodeVisuAttribute;
class  CATIMSHMeshDomain;
class  CATMSHMeshDomain;
class  CATIMSHMeshPart;
class  CATMathTransformation;
class  CATMSHMesh;
class  CATIMSHGroup;
class  CATMSHQualityInfos;

extern ExportedByMSHModel IID IID_CATIMSHMesh;

/**
 * Interface representing the &lt;b&gt;Mesh&lt;/b&gt; (nodes and elements).
 * &lt;b&gt;Role&lt;/b&gt;: The &lt;b&gt;Mesh&lt;/b&gt; is the object which manage nodes and elements,
 * see @href CATMSHNode and @href CATMSHElement.
 */
class ExportedByMSHModel CATIMSHMesh: public CATBaseUnknown
{
  CATDeclareInterface;

  public:

  /**
   * Returns the &lt;b&gt;Mesh Manager&lt;/b&gt; corresponding to the &lt;b&gt;Mesh&lt;/b&gt;.
   * @return CATBaseUnknown#Release
   */
  virtual CATIMSHMeshManager * GetMeshManager () =0;
  /**
   * Returns the first &lt;b&gt;Mesh Part&lt;/b&gt; of the &lt;b&gt;Mesh&lt;/b&gt;.
   * &lt;br&gt;See @href CATIMSHMeshPart#Next method to scan the other &lt;b&gt;Mesh Parts&lt;/b&gt;.
   * Take care of the fact that the order in which &lt;b&gt;Mesh Parts&lt;/b&gt; are returned is arbitrary qnd
   * that only &lt;b&gt;Mesh Parts&lt;/b&gt; containing elements are returned.
   * @return CATBaseUnknown#Release
   */
  virtual CATIMSHMeshPart * GetFirstMeshPart () =0;
  /**
   * Returns the number of finite element nodes contained in the &lt;b&gt;Mesh&lt;/b&gt;.
   */
  virtual int GetNumberOfNodes () =0;
  /**
   * Returns the first finite element node of the &lt;b&gt;Mesh&lt;/b&gt;.
   * &lt;br&gt;See @href CATMSHNode#Next method to scan the other nodes.
   */
  virtual CATMSHNode * GetFirstNode () =0;
  /**
   * Retreives a finite element node from its integer tag.
   * @param iTag
   *   Integer tag. 
	 * @return
   *   The pointer on the finite element node if any or NULL if no node correpond to this tag.
   */
  virtual CATMSHNode * GetNodeFromTag ( unsigned int iTag ) =0;
  /**
   * Check if a node is contained in the &lt;b&gt;Mesh&lt;/b&gt;.
   * @param iNode
   *   Node to check.
	 * @return
	 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
	 *   &lt;dl&gt;&lt;dt&gt;1&lt;/dt&gt;&lt;dd&gt;The node is part of the &lt;b&gt;Mesh&lt;/b&gt;.
	 *   &lt;dt&gt;0&lt;/dt&gt;&lt;dd&gt;The node is not part of the &lt;b&gt;Mesh&lt;/b&gt;.
	 *   &lt;/dl&gt;
   */
  virtual int IsContaining ( CATMSHNode * iNode ) =0;
  /**
   * Retreive all finite element nodes contained in the &lt;b&gt;Mesh&lt;/b&gt;.
   * @param ioNodes
   *   Array containing pointers on all nodes of the &lt;b&gt;Mesh&lt;/b&gt;.
	 * @return
   *   The number of finite element nodes contained in the &lt;b&gt;Mesh&lt;/b&gt;.
   */
  virtual int GetAllNodes ( CATMSHNode ** ioNodes ) =0;
  /**
   * Retreive coordinates of all finite element nodes contained in the &lt;b&gt;Mesh&lt;/b&gt;.
   * @param ioXYZ
   *   Array containing nodes coordinates in the following order: X1, Y1, Z1, X2, Y2, Z2, ...
	 * @return
   *   The number of finite element nodes contained in the &lt;b&gt;Mesh&lt;/b&gt;.
   */
  virtual int GetAllCoordinates ( double * ioXYZ ) =0;
  /**
   * Creates nodes.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This method creates a set of new finite elements nodes in the &lt;b&gt;Mesh&lt;/b&gt;.
   * @param iCoordinates
   *   Array containing the XYZ coordinates of the nodes to create in the following order: X1, Y1, Z1, X2, Y2, Z2, ...
   * @param iNbOfNodes
   *   Number of finite elements nodes to create.
   * @param ioNodes
   *   Array containing pointers to the created nodes.
	 * @return
	 *   An HRESULT.
	 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
	 *   &lt;dl&gt;&lt;dt&gt;S_OK&lt;/dt&gt;&lt;dd&gt;Nodes successfully created.
	 *   &lt;dt&gt;E_FAIL&lt;/dt&gt;&lt;dd&gt;The operation failed.
	 *   &lt;/dl&gt;
   */
  virtual HRESULT CreateNodes ( const double * iCoordinates , int iNbOfNodes = 1 , CATMSHNode ** ioNodes = NULL ) =0; 
  /**
   * Delete nodes.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This method deletes a set of finite elements nodes in the &lt;b&gt;Mesh&lt;/b&gt;.
   * @param iNbOfNodes
   *   Number of finite elements nodes to delete.
   * @param iNodes
   *   Array containing pointers to the nodes to be deleted.
   */
  virtual void DeleteNodes ( int iNbOfNodes , CATMSHNode ** iNodes ) =0;
  /**
   * Modify a finite element node.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This method is used to modify a finite element node (coordinates and/or graphic attributes).This
   * method should be called for each Node for any geometrical or graphical modifications. Note that a graphical modification of node is not persistent. The programmer needs to use the interface 
   * @href CATIVisProperties# to store the attributes into the graphic properties. 
   * @param iNode
   *   Finite element node to modify.
   * @param iNewCoordinates
   *   New coordinates for the finite element node. Should be initialized with the current ones if only graphic attributes are modified.
   * @param iNewAttribute
   *   New graphic attributes. Can be set to NULL if only coordinates are changed.
   */
  virtual void ModifyNode ( CATMSHNode * iNode , const double iNewCoordinates[3] ,
                            const CATMSHNodeVisuAttribute * iNewAttribute = NULL ) =0;
  /**
   * Returns the number of finite elements contained in the &lt;b&gt;Mesh&lt;/b&gt;.
   */
  virtual int GetNumberOfElements () =0;
  /**
   * Returns the first finite element of the &lt;b&gt;Mesh&lt;/b&gt;.
   * &lt;br&gt;See @href CATMSHElement#Next method to scan the other elements.
   */
  virtual CATMSHElement * GetFirstElement () =0;
  /**
   * Retreives a finite element from its integer tag.
   * @param iTag
   *   Integer tag. 
	 * @return
   *   The pointer on the finite element if any or NULL if no element correpond to this tag.
   */
  virtual CATMSHElement * GetElementFromTag ( unsigned int iTag ) =0;
  /**
   * Check if a finite element is contained in the &lt;b&gt;Mesh&lt;/b&gt;.
   * @param iElement
   *   Finite element to check.
	 * @return
	 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
	 *   &lt;dl&gt;&lt;dt&gt;1&lt;/dt&gt;&lt;dd&gt;The finite element is part of the &lt;b&gt;Mesh&lt;/b&gt;.
	 *   &lt;dt&gt;0&lt;/dt&gt;&lt;dd&gt;The finite element is not part of the &lt;b&gt;Mesh&lt;/b&gt;.
	 *   &lt;/dl&gt;
   */  
  virtual int IsContaining ( CATMSHElement * iElement ) =0;
  /**
   * Retreive all finite elements contained in the &lt;b&gt;Mesh&lt;/b&gt;.
   * @param ioElements
   *   Array containing pointers on all elements of the &lt;b&gt;Mesh&lt;/b&gt;.
	 * @return
   *   The number of finite elements contained in the &lt;b&gt;Mesh&lt;/b&gt;.
   */
  virtual int GetAllElements ( CATMSHElement ** ioElements ) =0;
  /**
   * Retreives the connectivity of all finite elements contained in the &lt;b&gt;Mesh&lt;/b&gt;. 
   * @param ioConnectivities
   *   Array containing for each finite element a pointer to its connectivity. 
   *   &lt;br&gt;The elements are listed in same order as in @href #GetAllElements method.
	 * @return
   *   The number of finite elements contained in the &lt;b&gt;Mesh&lt;/b&gt;.
   */
  virtual int GetElementsConnectivities ( CATIMSHConnectivity ** ioConnectivities ) =0;
  /**
   * Computes the total number of linked nodes i.e. the sum
   * of all linked nodes for all finite elements.
   * &lt;br&gt;This size should be used to allocate &lt;b&gt;ioLinkedNodes&lt;/b&gt; argument in @href #GetAllLinkedNodes method.
   */
  virtual int GetNumberOfLinkedNodes () =0;
  /**
   * Retreives the linked nodes of all finite elements contained in the &lt;b&gt;Mesh&lt;/b&gt;. 
   * @param ioLastLinkedNodes
   *   Array containing for each finite element a backward position in &lt;b&gt;ioLinkedNodes&lt;/b&gt; array 
   *   i.e. the position of the last linked node of each finite element in &lt;b&gt;ioLinkedNodes&lt;/b&gt; array.
   *   &lt;br&gt;The elements are listed in same order as in @href #GetAllElements method.
   * @param ioLinkedNodes
   *   Array containing the linked nodes of each finite elements.
   *   &lt;br&gt;Nodes are identified by an integer representing their position in the &lt;b&gt;ioNodes&lt;/b&gt; array of the @href #GetAllNodes method.
	 * @return
   *   The number of finite elements contained in the &lt;b&gt;Mesh&lt;/b&gt;.
   */
  virtual int GetAllLinkedNodes ( int * ioLastLinkedNodes , CATINTPTR * ioLinkedNodes ) =0;
  /**
   * Creates finite elements.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This method creates a set of new finite elements in the &lt;b&gt;Mesh&lt;/b&gt;.
   * @param iConnectivity
   *   Connectivity of the finite elements to create.
   * @param iNbOfNodesPerElement
   *   Number of finite elements nodes per finite element to create. 
   * @param iNodes
   *   Array containing pointers to nodes of all finite elements to create.
   * @param iNbOfElements
   *   Number of finite elements to create.
   * @param ioElements
   *   Array containing pointers to the created elements.
	 * @return
	 *   An HRESULT.
	 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
	 *   &lt;dl&gt;&lt;dt&gt;S_OK&lt;/dt&gt;&lt;dd&gt;Elements successfully created.
	 *   &lt;dt&gt;E_FAIL&lt;/dt&gt;&lt;dd&gt;The operation failed.
	 *   &lt;/dl&gt;
   */
  virtual HRESULT CreateElements ( CATIMSHConnectivity * iConnectivity , int iNbOfNodesPerElement , CATMSHNode * const * iNodes ,
                        int iNbOfElements = 1 , CATMSHElement ** ioElements = NULL ) =0; 
  /**
   * Delete elements.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This method deletes a set of finite elements in the &lt;b&gt;Mesh&lt;/b&gt;.
   * @param iNbOfElements
   *   Number of finite elements to delete.
   * @param iNodes
   *   Array containing pointers to the elements to be deleted.
   * @param iDeleteFreedNodes
	 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
	 *   &lt;dt&gt;1&lt;/dt&gt;&lt;dd&gt;After elements deletion, if a node becomes free (i.e. without any linked element), it will be deleted also.
	 *   &lt;dl&gt;&lt;dt&gt;0&lt;/dt&gt;&lt;dd&gt;No impact on finite elements nodes.
	 *   &lt;/dl&gt;
	 * @return
	 *   An HRESULT.
	 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
	 *   &lt;dl&gt;&lt;dt&gt;S_OK&lt;/dt&gt;&lt;dd&gt;Elements successfully deleted.
	 *   &lt;dt&gt;E_FAIL&lt;/dt&gt;&lt;dd&gt;The operation failed.
	 *   &lt;/dl&gt;
   */
  virtual HRESULT DeleteElements ( int iNbOfElements , CATMSHElement ** iElements , int iDeleteFreedNodes = 1 ) =0;
  
  /**
   * Modify a finite element.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This method is used to modify a finite element (geometry and/or graphic attributes). This
   * method should be called for each element for any geometrical or graphical modifications. A geometrical modification is a coordinates modification
   * of its linked nodes. Note that a graphical modification of finite element is not persistent. The programmer needs to use the interface 
   * @href CATIVisProperties# to store the attributes into the graphic properties.
   * @param iElement
   *   Finite element to modify.
   * @param iNewAttribute
   *   New graphic attributes. Can be set to NULL if only coordinates are changed.
   */
  virtual void ModifyElement ( CATMSHElement * iElement,
                               const CATMSHElementVisuAttribute * iNewAttribute = NULL ) =0;

  /**
   * Returns the total number of &lt;b&gt;Mesh Domain&lt;/b&gt; of the &lt;b&gt;Mesh&lt;/b&gt;.
   */
  virtual int GetNumberOfMeshDomains () =0;
  /**
   * Returns the first &lt;b&gt;Mesh Domain&lt;/b&gt; of the &lt;b&gt;Mesh&lt;/b&gt;.
   * &lt;br&gt;See @href CATMSHMeshDomain#Next method to scan the other &lt;b&gt;Mesh Domains&lt;/b&gt;.
   * &lt;br&gt;&lt;b&gt;Lifecycle rules deviation&lt;/b&gt;: the method does not AddRef the returned value..
   */
  virtual CATMSHMeshDomain * GetFirstMeshDomain () =0;
  /**
   * Retreives a &lt;b&gt;Mesh Domain&lt;/b&gt; from its integer tag.
   * @param iTag
   *   Integer tag. 
	 * @return
   *   The pointer on the &lt;b&gt;Mesh Domain&lt;/b&gt; if any or NULL if no &lt;b&gt;Mesh Domain&lt;/b&gt; correpond to this tag.
   */
  virtual CATMSHMeshDomain * GetMeshDomainFromTag ( unsigned int Tag ) =0;
  /**
   * Create a new &lt;b&gt;Mesh Domain&lt;/b&gt;.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: The finite elements which are created (using @href #CreateElements method) are associated to the 
   * current &lt;b&gt;Mesh Domain&lt;/b&gt;. This method close the previous &lt;b&gt;Mesh Domain&lt;/b&gt; and creates a new one.
   * Further calls to @href #CreateElements method will create elements associated to this &lt;b&gt;Mesh Domain&lt;/b&gt;.
   * @param MeshPart 
   *   &lt;b&gt;Mesh Part&lt;/b&gt; to which this &lt;b&gt;Mesh Domain&lt;/b&gt; will be associated (see @href CATIMSHMeshPart ).
   * @return
   *   A pointer on the created &lt;b&gt;Mesh Domain&lt;/b&gt;.
   *   &lt;br&gt;&lt;b&gt;Lifecycle rules deviation&lt;/b&gt;: the method does not AddRef the returned value..
   */
  virtual CATMSHMeshDomain * CreateMeshDomain ( CATIMSHMeshPart * MeshPart = NULL ) =0;
  /**
   * Set a new current &lt;b&gt;Mesh Domain&lt;/b&gt;.
   * Further calls to @href #CreateElements method will create elements associated to this &lt;b&gt;Mesh Domain&lt;/b&gt;.
   * @param Domain
   *   New current &lt;b&gt;Mesh Domain&lt;/b&gt;.
   */
  virtual void SetCurrentMeshDomain ( CATMSHMeshDomain * Domain ) =0;
  /**
   * Creates a group of finite elements. 
   * @param iNbElements
   *   Number of finite elements in group.
   * @param iElements
   *   Array containing the finite elements.
   *   &lt;br&gt;&lt;b&gt;Lifecycle rules deviation&lt;/b&gt;: iElements pointer is kept by the group and should not be desallocated by the callee.
	 * @return CATBaseUnknown#Release
   *   The created group of finite elements.
   */
  virtual CATIMSHGroup * CreateGroup ( int iNbElements , CATMSHElement ** iElements ) =0;
  /**
   * Creates a group of finite elements nodes. 
   * @param iNbNodes
   *   Number of finite elements nodes in group.
   * @param iNodes
   *   Array containing the finite elements nodes.
   *   &lt;br&gt;&lt;b&gt;Lifecycle rules deviation&lt;/b&gt;: iNodes pointer is kept by the group and should not be desallocated by the callee.
	 * @return CATBaseUnknown#Release
   *   The created group of finite elements nodes.
   */
  virtual CATIMSHGroup * CreateGroup ( int iNbNodes , CATMSHNode ** iNodes ) =0;
  /**
   * Update visualization after &lt;b&gt;Mesh&lt;/b&gt; modifications ( nodes/elements creation, modification or deletion).
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This method has to be called to update visualisation if and only if the modifications
   * have occured outside from the standard Build/Update process, i.e. outside from the implementation of a mesher
   * (see @href CATIMSHMesher#Mesh method).
   * &lt;br&gt;This method should be called once at the end of a transaction, when all modifications have been performed.
   */
  virtual void UpdateVisualization () =0;
  /**
   * Create nodes condensed on nodes from another &lt;b&gt;Mesh&lt;/b&gt;.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This method createss a set of finite elements nodes (named condensed nodes) in the &lt;b&gt;Mesh&lt;/b&gt; condensed
   * &lt;on nodes (named image nodes) from another &lt;b&gt;Mesh&lt;/b&gt;. This is the way to &quot;connect&quot; two different finite element models.
   * @param iNbNodes
   *   Number of finite elements nodes to create.
   * @param iImageNodes
   *   Array containing pointers to the image nodes on which the created nodes will be condensed.
   * @param ioCondensedNodes
   *   Array that will contain pointer to condensed nodes created by the method.
	 * @return
	 *   An HRESULT.
	 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
	 *   &lt;dl&gt;&lt;dt&gt;S_OK&lt;/dt&gt;&lt;dd&gt;Nodes successfully created.
	 *   &lt;dt&gt;E_FAIL&lt;/dt&gt;&lt;dd&gt;The operation failed.
	 *   &lt;/dl&gt;
   */
  virtual HRESULT CreateNodesCondensedOn ( int iNbNodes , CATMSHNode * iImageNodes [] , CATMSHNode * ioCondensedNodes [] ) =0;
  /**
   * @nodoc 
   */
  virtual CATMSHMesh * GetImplementation () =0;
  /**
   * Returns the last finite element node of the &lt;b&gt;Mesh&lt;/b&gt;.
   * &lt;br&gt;See @href CATMSHNode#Previous method to scan the other nodes.
   */
  virtual CATMSHNode * GetLastNode () =0;
};

CATDeclareHandler ( CATIMSHMesh , CATBaseUnknown );
#endif
</div>
    
    <div class="navigation">
        <div><a href="CATIMSHLocalSpecification.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATIMSHLocalSpecification.h</a></div>
        <div><a href="CATIMSHMeshDomain.html">‰∏ã‰∏ÄÈ°µ: CATIMSHMeshDomain.h ‚Üí</a></div>
    </div>
</body>
</html>