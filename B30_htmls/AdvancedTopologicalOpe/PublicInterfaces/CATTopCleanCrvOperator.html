<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdvancedTopologicalOpe/PublicInterfaces/CATTopCleanCrvOperator.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>AdvancedTopologicalOpe/PublicInterfaces/CATTopCleanCrvOperator.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATTopBlend.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATTopBlend.h</a></div>
        <div><a href="CATTopMostContinuousGeoInWireOperator.html">‰∏ã‰∏ÄÈ°µ: CATTopMostContinuousGeoInWireOperator.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATTopCleanCrvOperator_h
#define CATTopCleanCrvOperator_h

//COPYRIGHT DASSAULT SYSTEMES 2000
/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */ 
#include &quot;CATIACGMLevel.h&quot;
#include &quot;CATTopOperator.h&quot;
#include &quot;FrFTopologicalOpe.h&quot;
#include &quot;CATFreeFormDef.h&quot;
#include &quot;CATDataType.h&quot;
#include &quot;CATTopCleanCrvOperatorDef.h&quot;

class CATGeometry;
class CATCell;
class CATWire;
class CATEdge;
class CATVertex;
class CATSurface;
class CATLISTP(CATCell);


class CATTopWireContinuity;




class CATMathSetOfPoints;


 /** 
 * Class defining the operator to clean a wire body.
 * &lt;br&gt;
 * The operator produces a wire topology that is at least (G0) continuous. More over, upon request, it can:
 *&lt;ul&gt;
 * &lt;li&gt; Enhance the continuity between edges up to the continuity in curvature (G2 continuity).
 * &lt;li&gt; Concatenate all the edges sharing vertices that are G2 continuous.
 * &lt;li&gt; Allow the continuity enhancement of the wire on a shell topology support (2D cleaning mode).
 *&lt;/ul&gt;
 * The operator produces a new wire containing at most the same number of edges than the input wire.
 * The correction is controlled by the user. The operator can correct:
 * &lt;ul&gt;
 *  &lt;ul&gt;&lt;li&gt;Point discontinuities between edges, according to a point discontinuity criterion.
 *    All point discontinuity gaps less than this criterion are corrected to be set to the standard G0 gap 
 * (see @href CATGeoFactory#GetResolution ).
 *  &lt;li&gt; Tangency between edges, according to a tangency discontinuity criterion.
 *    The tangency discontinuity angles less than this criterion are corrected to be set to the standard G1 angle
 * (see @href CATGeoFactory#GetResolution ).
 *  &lt;li&gt;Curvature between edges, according to a curvature vector discontinuity criterion. 
 * Let &lt;tt&gt;C1&lt;/tt&gt; and &lt;tt&gt;C2&lt;/tt&gt; be the curvature vectors to edges &lt;tt&gt;E1&lt;/tt&gt;, &lt;tt&gt;E2&lt;/tt&gt; incident to vertex &lt;tt&gt;V&lt;/tt&gt;.
 * &lt;br&gt;Define &lt;tt&gt;R = |C1 - C2 | / max (|C1|,|C2|)&lt;/tt&gt; to be the curvature vector ratio.
 * If &lt;tt&gt;R&lt;/tt&gt; is greater than &lt;tt&gt;(1-iCurvatureRatio)/iCurvatureRatio&lt;/tt&gt;, G2 continuity will 
 * be corrected to the standard G2 value (see @href CATGeoFactory#GetResolution ).
 *  &lt;li&gt;Small edges to delete, according to an edge length criterion, upon request.
 * &lt;/ul&gt;
 *  More over after these corrections, the operator can merge edges that are connected by vertices 
 * that are continuous in curvature.
 * &lt;br&gt;
 * These operations can be driven in two control modes @href CatTopCleanCrvPriorityMode :
 * &lt;ul&gt;
 *  &lt;li&gt;@href CatTopCleanCrvPriorityMode#CatTopCleanCrvContinuity : The priority is given to continuity order achievement,
 *    regardless of the geometric deformation.
 *    Some important deformations between the input body and the result may appear.
 *  &lt;li&gt;@href CatTopCleanCrvPriorityMode#CatTopCleanCrvDeformation :
 * The process is run with an additional constraint of maximum deformation around the input wire.
 *    In this case, it can happen that some required continuity constraints are not reached, producing
 * an error in the &lt;tt&gt;Run&lt;/tt&gt; method.
 * &lt;/ul&gt; 
 * This operator follows the general scheme of the topological operators:
 * &lt;ul&gt;
 *&lt;li&gt; Creates the operator with the &lt;tt&gt;CATCreateTopCleanCrvOperator&lt;/tt&gt; global function, which defines
 * the wire to clean
 *&lt;li&gt; Sets the cleaning parameters
 *&lt;li&gt; Runs with the &lt;tt&gt;Run&lt;/tt&gt; method. In case of maximum deformation control mode, if the operator does not find
 * any solution satisfying all the constraints, an error is thrown. 
 *&lt;li&gt; Gets the result body by the &lt;tt&gt;GetResult&lt;/tt&gt; method. 
 * The result body contains at most the same number of edges 
 * than the input one. Moreover, one can access to the maximum deformation
 * between the input body and the result. 
 *&lt;li&gt; Deletes the operator with the usual C++ &lt;tt&gt;delete&lt;/tt&gt; operator.
 *&lt;/ul&gt;
 * Remark : In case of 2D cleaning mode (on shell), the continuity at transition vertices between two
 * faces could not be enhanced beyond the continuity between both faces. Indeed, the treatment does not
 * enhance the continuity of the shell.
 * &lt;/ul&gt;
 */ 
class ExportedByFrFTopologicalOpe CATTopCleanCrvOperator : public CATTopOperator
{

  //-------------------------------------------------------------------
  CATCGMVirtualDeclareClass(CATTopCleanCrvOperator);
public:
  //-------------------------------------------------------------------

  /**
  * Do not use. 
  * Constructor. 
  * Use &lt;tt&gt;CATCreateTopCleanCrvOperator&lt;/tt&gt; to create an
  * &lt;tt&gt;CATTopCleanCrvOperator&lt;/tt&gt;.
  */
                           CATTopCleanCrvOperator(      CATGeoFactory             *  iFactory         ,
                                                        CATTopData                *  iTopData         );
  
  virtual                 ~CATTopCleanCrvOperator();

  //
  // The following setting methods follow the creation of a CATTopCleanCrvOperator,
  // (see CATCreateTopCleanCrvOperator global function)
  //
  
  /**
  * Defines the point continuity criterion for G0 correction.
  * @param iConnexityGap
  * The G0 continuity criterion, set by default to the factory resolution.
  * This applies to vertices connecting edges.
  * All point discontinuity gaps less than this criterion are corrected to be set to the standard G0 gap.
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetConnexityGap       (      CATLength                    iConnexityGap    ) = 0;

  /**
  * Defines the tangency criteria for G1 correction.
  * @param iTangencyAngle
  * The tangence angle in &lt;b&gt;degrees&lt;/b&gt;, set by default to 0.5 degree.
  * &lt;tt&gt;iTangencyAngle&lt;/tt&gt; is the upper value under which a tangency correction (G1) will be performed.
  * Let &lt;tt&gt;T1&lt;/tt&gt; and &lt;tt&gt;T2&lt;/tt&gt; be the tangents to the edges &lt;tt&gt;E1&lt;/tt&gt;, &lt;tt&gt;E2&lt;/tt&gt; incident to vertex &lt;tt&gt;V&lt;/tt&gt;.
  * If &lt;tt&gt;|T1-T2|&lt;/tt&gt; is less than &lt;tt&gt;iTangencyAngle&lt;/tt&gt;, it will be corrected to the standard G1 value.
  * To be G1 corrected, vertex &lt;tt&gt;V&lt;/tt&gt; must be G0 in the input wire, 
  * or must have been corrected in G0 by the cleaning process.
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetTangencyAngle      (      CATAngle                     iTangencyAngle   ) = 0;

  /**
  * Defines the curvature criterion for G2 correction.
  * @param iCurvatureRatio
  * The curvature ratio in &lt;tt&gt;]0..1]&lt;/tt&gt;, set by default to 0.98.
  * Let &lt;tt&gt;C1&lt;/tt&gt; and &lt;tt&gt;C2&lt;/tt&gt; be the curvature vectors to edges &lt;tt&gt;E1&lt;/tt&gt;, &lt;tt&gt;E2&lt;/tt&gt; incident to vertex &lt;tt&gt;V&lt;/tt&gt;.
  * Let &lt;tt&gt;R = |C1 - C2 | / max (|C1|,|C2|)&lt;/tt&gt; be the curvature vector ratio.
  * If &lt;tt&gt;R&lt;/tt&gt; is greater than &lt;tt&gt;(1-iCurvatureRatio)/iCurvatureRatio&lt;/tt&gt;, G2 continuity will 
  * be corrected to the standard G2 value.
  * The more a vertex &lt;tt&gt;V&lt;/tt&gt; is G2 continuous, the more &lt;tt&gt;iCurvatureRatio&lt;/tt&gt; is near 1.
  * The less a vertex &lt;tt&gt;V&lt;/tt&gt; is G2 continuous, the more &lt;tt&gt;iCurvatureRatio&lt;/tt&gt; is near 0 (excluded).
  * Give a value near of 0 to try to make G2 all vertices, near 1 to only correct vertices
  * that are already quite G2. 
  * To be G2 corrected, vertex &lt;tt&gt;V&lt;/tt&gt; must be G1 in the input wire, or must have been corrected 
  * in G1 by the cleaning process.
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetCurvatureRatio     (      double                       iCurvatureRatio  ) = 0;
 
  /**
  * Defines the point continuity criterion below which the G0 correction is not applied.
  * @param iConnexityMinGap
  * The G0 continuity criterion minimum, set by default to 0.
  * If the distance between two consecutives Edges &lt; iConnexityMinGap, then 
  * G0 correction is not applied.
  *
  * Default value : 0.
  * &lt;pre&gt;
  *            +---------------+-------------------------------+------------------&gt; G0 Gap
  *            0        iConnexityMinGap                iConnexityGap
  * Correction  :     NO                     YES                        NO &lt;/pre&gt;
  *
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetConnexityMinGap    (      CATLength                    iConnexityMinGap  ) = 0;

  /**
  * Defines the tangency criterion below which the G1 correction is not applied.
  * @param iTangencyMinAngle
  * The tangence angle minimum in &lt;b&gt;degrees&lt;/b&gt;, set by default to 0 degree.
  * If |T1,T2| &lt; iTangencyMinAngle, then G1 correction is not applied.
  *
  * &lt;pre&gt;
  *        +---------------+-------------------------------+------------------&gt; G1 Gap
  *        0         iTangencyMinAngle                iTangencyAngle
  * Correction  :     NO                     YES                        NO      &lt;/pre&gt;
  *
  */
  virtual CATLONG32        SetTangencyMinAngle   (      CATAngle                     iTangencyMinAngle) = 0;

  /**
  * Defines the priority mode of cleaning operations.
  * @param iMode
  * The mode value. By default, it is set &lt;tt&gt;CatTopCleanCrvContinuity&lt;/tt&gt;.
  * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
  * &lt;dl&gt;
  * &lt;dt&gt;&lt;tt&gt;CatTopCleanCrvContinuity&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt; No Limitation of the deformation.
  * &lt;dt&gt;&lt;tt&gt;CatTopCleanCrvDeformation&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt; To limit the deformation (see also &lt;tt&gt;SetMaxDeformation&lt;/tt&gt;).
  * &lt;/dl&gt;
  * &lt;b&gt;Note&lt;/b&gt; : For a better quality result it is recommanded to use the &lt;tt&gt;CatTopCleanCrvDeformation&lt;/tt&gt; 
  * and not the default mode.
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetPriorityMode       (      CatTopCleanCrvPriorityMode   iMode            ) = 0;

  /**
  * Defines the maximum deformation allowed between the output and input bodies.
  * @param iMaxDeformation
  * The deformation value, set by default to 0.001.
  * This parameter will be used only when working in &lt;tt&gt;CatTopCleanCrvDeformation&lt;/tt&gt; priority mode.
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetMaxDeformation     (      CATLength                    iMaxDeformation  ) = 0;

  /**
  * Defines the highest continuity level to achieve on the wire.
  * @param iContinuityLevel
  * The continuity level, set by default to &lt;tt&gt;CATFrFTangentCont&lt;/tt&gt; for tangency continuity.
  * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
  * &lt;dl&gt;
  * &lt;dt&gt;&lt;tt&gt;CATFrFPointCont&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt; To limit the continuity correction to point continuity correction
  * &lt;dt&gt;&lt;tt&gt;CATFrFTangentCont&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt; To limit the continuity correction to tangency continuity correction
  * &lt;dt&gt;&lt;tt&gt;CATFrFCurvatureCont&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt; To limit the continuity correction to curvature continuity correction.
  * &lt;/dl&gt;
  * A given continuity order can be reached only if its inferior continuity levels are also reached,
  * according to the continuity correction parameters defined by &lt;tt&gt;SetConnexityGap&lt;/tt&gt;, &lt;tt&gt;SetTangencyAngle&lt;/tt&gt;,
  * &lt;tt&gt;SetCurvatureRatio&lt;/tt&gt;, &lt;tt&gt;SetConnexityMinGap&lt;/tt&gt;,&lt;tt&gt;SetTangencyMinAngle&lt;/tt&gt;.
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetContinuityLevel    (      CATFrFContinuity             iContinuityLevel ) = 0;
  
  /**
  * Retrieve the current continuity level to improve defined on operator.
  * @return
  * The current continuity level.
  */
  virtual CATFrFContinuity GetContinuityLevel    ()                                                     = 0;

/**
  * To use on Closed Wire with SetCellReduction or SetApplyMappingOfInitialVertices only.
  * This allow the CATTopCleanCrvOperator to	modify where is the Closure Vertex of the wire.
  * Note : by default the operator does not change where is the closure vertex.
  * @param iVertex
  * &lt;dl&gt;&lt;b&gt;Legal values&lt;/b&gt;:
  * &lt;tt&gt;NULL&lt;/tt&gt; (Default) the operator automatically choose a closure vertex with the following preferences.
  * &lt;dt&gt;&lt;/dt&gt;&lt;dd&gt; If SetShell is used (2D Clean) the closure vertex will be at a transition     between two faces.
  * &lt;dt&gt;&lt;/dt&gt;&lt;dd&gt; the closure vertex will be at a vertex that will not be G0 after clean.
  * &lt;dt&gt;&lt;/dt&gt;&lt;dd&gt; the closure vertex will be at a vertex that will not be G1 after clean.
  * &lt;dt&gt;&lt;/dt&gt;&lt;dd&gt; the closure vertex will be at a vertex that will not be G2 after clean.
  * &lt;/dl&gt;
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetSmartClosure       ()                                                     = 0 ;


 /**
  * Defines the way to treat non-C2 edges.
  * @param iC1ToC2Managment
  * By default the value is CATTopCleanCrvDefaultC1ToC2Management
  * &lt;dl&gt;&lt;b&gt;Legal values&lt;/b&gt;:
  * &lt;dt&gt;&lt;tt&gt;CATTopCleanCrvNoC1ToC2Management&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt; No special treatment would be applied
  * &lt;dt&gt;&lt;tt&gt;CATTopCleanCrvDefaultC1ToC2Management&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt; Edges that need a modification 
  * and that are not C2 continuous would be C2 continous in the result.
  * &lt;dt&gt;&lt;tt&gt;CATTopCleanCrvAllCurvesC1ToC2Management&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt; All non-C2-continuous Edges would be 
  * C2 continous in the result.
  * &lt;/dl&gt;
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetC1ToC2Management   (      CATTopCleanCrvC1ToC2Management iC1ToC2Managment) = 0;
  
  /**
  * Combined with cell reduction mode, forces the operator to treat either the one-edge-wire case
  * or any one edge case situated between two unsuppressed vertices.
  * In the case of an one-edge-wire, the result wire is by default exactly the same as the input.
  * @param iEnable
  * By default FALSE.
  * &lt;dl&gt;&lt;b&gt;Legal values&lt;/b&gt;:
  * &lt;tt&gt;TRUE&lt;/tt&gt; Forces the operator to treat one edge if cell reduction is activated : a smoothing based
  * on absolute wire length is applied.
  * &lt;tt&gt;FALSE&lt;/tt&gt; If there is only one edge in the wire or for cases with one edge between two vertices,
  * nothing is done.
  * &lt;/dl&gt;
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetForceOneEdgeImprovement(  CATBoolean                   iEnable          ) = 0;


  /**
  * Defines the minimum size of an edge to be corrected.
  * @param iMinimumEdgeLength
  * The minimum edge length to be kept, set by default to &lt;tt&gt;10 * Factory resolution&lt;/tt&gt;.
  * All edges which length is less than &lt;tt&gt;iAbsoluteMinEdgeLength&lt;/tt&gt; are removed.
  * @param iAbsoluteMinEdgeLength
  * &lt;dl&gt;&lt;b&gt;Legal values&lt;/b&gt;:
  * &lt;tt&gt;TRUE&lt;/tt&gt; if &lt;tt&gt;iMinimumEdgeLength&lt;/tt&gt; is the absolute wire length, 
  * &lt;tt&gt;FALSE&lt;/tt&gt; the &lt;tt&gt;iMinEdgeLength&lt;/tt&gt; is understood as a percentile of the total wire length.
  * In this case if the wire as a total length &lt;tt&gt;L&lt;/tt&gt;all edges of length &lt;tt&gt;l&lt;/tt&gt; are considered as small edges
  * if and only if &lt;tt&gt;l&lt;=iMinEdgeLength*L&lt;/tt&gt;.
  * &lt;/dl&gt;
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetMinimumEdgeLength  (      double                       iMinEdgeLength   ,
                                                        CATBoolean                   iAbsoluteMinEdgeLength = TRUE) = 0;

  /**
  * Returns the maximum deformation between input and output wires.
  * &lt;br&gt;This method must be called after the &lt;tt&gt;Run&lt;/tt&gt; method.
  * If the priority mode is &lt;tt&gt;CatTopCleanCrvDeformation&lt;/tt&gt; and if the 
  * and maximum deformation that is reached is greater than the maximum authorized
  * deformation ( @href CATTopCleanCrvOperator#SetMaxDeformation ), a NULL body is returned
  * by the &lt;tt&gt;GetResult&lt;/tt&gt; method.
  */
  virtual CATLength        GetMaxReachedDeformation()                                                   = 0;


  /**
  * Returns the 3D location on the input wire and the 3D location on the output (corrected) wire
  * corresponding to the maximum reached deformation. These locations are 3D points computed from
  * the curve geometry of edges. The distance between these two points corresponds to the
  * maximum reached deformation (see GetMaxReachedDeformation).
  * This method must be called after the Run method, otherwise a not null value is returned (error).
  * @param oInputLocation
  * Point on the input wire.
  * @param oOutputLocation
  * Point on the output wire.
  * @return
  * Integer not null in case of error.
  */
  virtual int              GetMaxDeformationLocation(   CATMathSetOfPoints         &amp; oInputLocation ,
                                                        CATMathSetOfPoints         &amp; oOutputLocation)=0;


  /**
  * Defines the set of input edges and vertices that must stay unmodified through the operator.
  * The list only contains edges and/or vertices of the input wire. An error is send if not.
  * These cells will be reproduced as the same as they are in the input wire, and their
  * underlying geometry will not be modified.
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetFixedCells           (const CATLISTP(CATCell)        &amp; iFixedCells      ) = 0;

  /**
  * Retrieves the result edge corresponding to an input edge.
  * @param iInputEdge
  * The pointer to the edge of the input wire.
  * @param oInputEdgeStatus
  * The status of the input edge.
  * @param oOutputEdge
  * The pointer to the corresponding edge in the result wire.
  * &lt;tt&gt;oOutputEdge&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt; if &lt;tt&gt;oInputEdgeStatus&lt;/tt&gt; equals 
  * &lt;tt&gt;CatTopCleanCrvCellDeleted&lt;/tt&gt;, not null otherwise.
  * @return
  * Not null if &lt;tt&gt;iInputEdge&lt;/tt&gt; is not an edge of the input wire or if edge descendance
  * is not available.
  * Edge descendance is not available if @href CATTopCleanCrvOperator#SetC3ContinuityAndCellReduction 
  * has been required.
  */
  virtual CATLONG32        GetDescendantEdge       (      CATEdge                 *  iInputEdge      ,
                                                          CatTopCleanCrvCellStatus &amp; oInputEdgeStatus,
                                                          CATEdge                 *&amp; oOutputEdge     ) = 0;

  /**
  * Retrieves the result vertex corresponding to an input vertex.
  * @param iInputVertex
  * The pointer to the vertex of the input wire.
  * @param oInputVertexStatus
  * The status of the input vertex.
  * @param oOutputVertex
  * The pointer to the corresponding vertex in the result wire .
  * &lt;tt&gt;oOutputVertex&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt; if &lt;tt&gt;oInputVertexStatus&lt;/tt&gt; equals 
  * &lt;tt&gt;CatTopCleanCrvCellDeleted&lt;/tt&gt;, not null else.
  * @return
  * Not null if &lt;tt&gt;iInputVertex&lt;/tt&gt; is not a vertex of the input wire.
  */
  virtual CATLONG32        GetDescendantVertex     (      CATVertex               *  iInputVertex      ,
                                                          CatTopCleanCrvCellStatus &amp; oInputVertexStatus,
                                                          CATVertex               *&amp; oOutputVertex     ) = 0;

  /**
  * Defines the 2D cleaning mode.
  * @param iShellBody
  * The shell body on which the wire is cleaned.
  * The topological wire on shell &quot; LyingOnLink &quot; must exist. That is a warranty the
  * wire edges to clean are geometrically represented on the &lt;tt&gt;iShellBody&lt;/tt&gt; faces.
  * @return
  * Not null if &lt;tt&gt;iShellBody&lt;/tt&gt; is a NULL pointer.
  * &lt;br&gt; An error is thrown if &lt;tt&gt;iShellBody&lt;/tt&gt; is not made of a single shell.
  * &lt;br&gt; An error is thrown if the wire on shell &quot; LyingOnLink &quot; does not exist.
  */
  virtual CATLONG32        SetShell                (      CATBody                 *  iShellBody        ) = 0;


  /**
  * Defines the 2D cleaning mode with optional topological wire on shell &quot; LyingOnLink &quot; recovery.
  * @param iShellBody
  * The shell body on which the wire is cleaned.
  * @param iLyingOnLinkRecovery
  * On TRUE, enables the recovery of the topological wire on shell &quot; LyingOnLink &quot; if absent.
  * In this case, the wire edges to clean must be geometrically represented on the
  * &lt;tt&gt;iShellBody&lt;/tt&gt; faces.
  * On FALSE, the topological wire on shell &quot; LyingOnLink &quot; must exist.
  * @return
  * Not null if &lt;tt&gt;iShellBody&lt;/tt&gt; is a NULL pointer.
  * &lt;br&gt; An error is thrown if &lt;tt&gt;iShellBody&lt;/tt&gt; is not made of a single shell.
  * &lt;br&gt; An error is thrown if the wire edges are not geometrically represented on the
  * &lt;tt&gt;iShellBody&lt;/tt&gt; faces when recovery option is enabled (TRUE).
  */
  virtual CATLONG32        SetShell                (      CATBody                 *  iShellBody        ,
                                                          CATBoolean                 iLyingOnLinkRecovery) = 0;


  /**
  * Reduce the number of cells after curvature correction.
  * @param iCellReduction
  * iCellReduction = TRUE to concatenate all the result edges sharing vertices that are G2 continuous.
  * If is CellReduction is required it is recommanded for better stability to use it in &lt;tt&gt;CATFrFCurvatureCont&lt;/tt&gt;
  * correction mode.
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetCellReduction        (      CATBoolean                 iCellReduction    ) = 0;

  /**
  * Retrieve the current status of cell reduction defined on operator.
  * @return
  * The current cell reduction status.
  */
  virtual CATBoolean       GetCellReduction        ()                                                    = 0;

  /**
  * @deprecated V5R15
  * Activate the C3 correction and cell reduction.
  * @param iC3Mode
  * iC3Mode = TRUE to ask for C3 continuity correction and cell reduction of the wire.
  * The operator concatenates all the result edges sharing vertices that are C3 continuous, 
  * and creates vertices at points that are not.
  * Point, tangency and curvature continuity corrections will automatically be performed, controlled
  * by the associated continuity thresholds.
  * if C3 correction an cell reduction is required, the edge descendance informations given
  * by @href CATTopCleanCrvOperator#GetDescendantEdge are not available.
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetC3ContinuityAndCellReduction(CATBoolean                iC3Mode           ) = 0;

  /**
  * @deprecated V5R15
  * Retrieve the current status of cell reduction defined on operator.
  */
  virtual CATBoolean       GetC3ContinuityAndCellReduction()                                             = 0;
  
  /**
  * This API should not be used.
  */
  virtual void             SetModeODT              (      char                    *  iScenarioNameStr  ,
                                                          char                    *  iInputFileNameStr ) = 0;

  /**
  * @deprecated V5R15
  * To use local optimization. ONLY AVAILABLE WITH &quot;Deformation&quot; OPTION
  * Local optimization means : new connections are computed to minimize the 3th derivative of 
  * the curves (3 order energy). The goal is to reduce oscillations of curvature combs.
  * The result could be close to we picture.
  * iOptimization = 1 = ON, iOptimization = 0 = OFF (default);
  */
  virtual CATLONG32        SetLocalOptimization    (const int                        iOptimization  = 0) = 0 ;

  /**
  * Allows the activation of the mapping of the input vertices to the output vertices.
  * @param iApplyMapping
  * If TRUE AND SetContinuityLevel(CATFrFCurvatureCont) AND SetLocalOptimization(TRUE) AND SetCellReduction(FALSE) 
  * the mapping could be activated then the quality of the wire is very similar to the quality obtained 
  * when the SetCellReduction is set to TRUE (Smoother result) but the vertices are kept. 
  * &lt;br&gt; After deletion of small edges the position of the remained vertices are saved with their
  * global curvilinear adimensional param (eg Pos(Vi)=Total_Length_From_The_Starting_Extremity_To_Vi/Total_Length_Of_Wire)
  * then a a global smoothing is applyied on a reduced wire and the vertices are reinserted at 
  * New_Pos(Vi)=Pos(Vi)*New_Total_Length_Of_Wire.
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetApplyMappingOfInitialVertices (const int               iApplyMapping  = 0) = 0 ;

  /**
  * @nodoc
  * do not use
  */
  virtual CATLONG32        SetLayDown              (const int                        iLayDown       = 1) = 0;

  /**
  * @deprecated V5R15
  * do not use
  */
  virtual CATLONG32        SetForceFillEdgeTreatment(const int                       iForceFillEdgeTreatment = 0)=0;

  /**
  * @nodoc
  * do not use
  */
  virtual CATLONG32        SetFixLines             (      int                        iFixLines      = 0) = 0;

  /**
  * @nodoc
  * do not use
  */
  virtual CATLONG32        SetFixCanonics          (      int                        iFixLevel      = 0) = 0; 

  /**
  * @nodoc
  * do not use
  */
  virtual CATLONG32        SetHybridMode2D3D       (      int                        iHybridMode2D3D   = 0) = 0; 


  /**
  * @nodoc
  * do not use
  */
  virtual CATLONG32        SetLayDownToleranceForHybridMode2D3D(double               iLDTFHM2D3D       ) = 0; 



  /**
  * @nodoc
  * do not use
  */
  virtual CATLONG32        GetTopWireContinuityOnInputWireBody(CATTopWireContinuity *&amp;oTWCOIB          ) = 0;

  /**
  * @nodoc
  * do not use
  */
  virtual CATLONG32        GetTopWireContinuityOnResultWireBody(CATTopWireContinuity *&amp;oTWCORB         ) = 0;



  /**
  * Defines the highest continuity level at the START extremity between the input wire and the
  * result wire.
  * @param iStartContLevel
  * The continuity level, set by default to &lt;tt&gt;CATFrFCurvatureCont&lt;/tt&gt; for curvature continuity.
  * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
  * &lt;dl&gt;
  * &lt;dt&gt;&lt;tt&gt;CATFrFPointCont&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt; To limit the continuity to point continuity
  * &lt;dt&gt;&lt;tt&gt;CATFrFTangentCont&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt; To limit the continuity to tangency continuity
  * &lt;dt&gt;&lt;tt&gt;CATFrFCurvatureCont&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt; To limit the continuity to curvature continuity.
  * &lt;/dl&gt;
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32        SetStartExtremityContinuityLevel(CATFrFContinuity         iStartContLevel   ) = 0;

  /**
  * Defines the highest continuity level at the END extremity between the input wire and the
  * result wire.
  * @param iEndContLevel
  * The continuity level, set by default to &lt;tt&gt;CATFrFCurvatureCont&lt;/tt&gt; for curvature continuity.
  * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
  * &lt;dl&gt;
  * &lt;dt&gt;&lt;tt&gt;CATFrFPointCont&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt; To limit the continuity to point continuity
  * &lt;dt&gt;&lt;tt&gt;CATFrFTangentCont&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt; To limit the continuity to tangency continuity
  * &lt;dt&gt;&lt;tt&gt;CATFrFCurvatureCont&lt;/tt&gt;&lt;/dt&gt;&lt;dd&gt; To limit the continuity to curvature continuity.
  * &lt;/dl&gt;
  * @return
  * Not null in case of error.
  */
  virtual CATLONG32 SetEndExtremityContinuityLevel (      CATFrFContinuity           iEndContLevel     ) = 0;


};

//
// creation of operator (ADVANCED mode)
//-------------------------------------

/**
* Creates a topological operator to clean the curve geometry of a wire.
* @param iFactory
* The factory that creates the resulting body.
* @param iTopData
* The pointer to the data defining the configuration and the journal. If the journal inside &lt;tt&gt;iTopData&lt;/tt&gt; 
* is &lt;tt&gt;NULL&lt;/tt&gt;, it is not filled. 
* @param iWireBody
* The pointer to the wire body which edges will be cleaned,
* @return
* The pointer to the created operator. To delete with the usual C++ &lt;tt&gt;delete&lt;/tt&gt; operator.
*/
extern &quot;C&quot; ExportedByFrFTopologicalOpe CATTopCleanCrvOperator * 
CATCreateTopCleanCrvOperator(CATGeoFactory     * iFactory,
                             CATTopData        * iTopData,
                             CATBody           * iWireBody);

#endif
</div>
    
    <div class="navigation">
        <div><a href="CATTopBlend.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATTopBlend.h</a></div>
        <div><a href="CATTopMostContinuousGeoInWireOperator.html">‰∏ã‰∏ÄÈ°µ: CATTopMostContinuousGeoInWireOperator.h ‚Üí</a></div>
    </div>
</body>
</html>