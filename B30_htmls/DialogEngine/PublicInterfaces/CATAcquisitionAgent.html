<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DialogEngine/PublicInterfaces/CATAcquisitionAgent.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>DialogEngine/PublicInterfaces/CATAcquisitionAgent.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="../../DataExchangeKernelItf/PublicInterfaces/XCADOptions.html">‚Üê ‰∏ä‰∏ÄÈ°µ: XCADOptions.h</a></div>
        <div><a href="CATAcquisitionFilter.html">‰∏ã‰∏ÄÈ°µ: CATAcquisitionFilter.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATAcquisitionAgent_H
#define CATAcquisitionAgent_H
#include &quot;CATDialogEngine.h&quot;

// COPYRIGHT DASSAULT SYSTEMES 1999
// protected DI0STATE.m

/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */

#include &quot;CATDialogAgent.h&quot;

#include &quot;CATBaseUnknown.h&quot;
#include &quot;CATDlgEngUtility.h&quot;
#include &quot;CATAcquisitionFilter.h&quot;
#include &quot;CATBooleanDef.h&quot;

class CATDlgContextualMenu;
class CATString;

/**
 * Base class for a state command acquisition agent.
 * &lt;b&gt;Role&lt;/b&gt;: An acquisition agent is a specific dialog agent dedicated 
 * to get something &quot;under the mouse&quot; in addition to the notification. 
 * Acquisition agents are valued as dialog agents, but in addition, they
 * store values.
 * &lt;br&gt;Do not instantiate directly acquisition agents because this base class
 * is useless as it is. Instead, use one of its derived classes:
 * @href CATPathElementAgent or @href CATIndicationAgent.
 */
class ExportedByCATDialogEngine CATAcquisitionAgent : public CATDialogAgent
{
  
  /** @nodoc */
  CATDeclareClass;
  
public:
  
  /** @nodoc */
  enum BehaviorMode {SimpleValuation, WithPrevaluation,
                     ManipulatorValuation, EditValuation,
                     ContextValuation, DragValuation };
  /**
  * Agent valuation state.
  * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: It is linked to the latest meaningful notification received 
  * by the agent.
  * @param NotValuated
  *   The agent is neither valued nor prevalued. It has not received expected
  *   notifications or has been reinitialized since then.
  * @param Transient
  *   The agent has received an expected notification which is being studied
  *   and is not accepted yet.
  * @param PreValuated
  *   The agent has received a notification representing a prevaluation.
  *   In general, the prevaluation is associated with the @href
  *   CATPreactivate and @href CATMove notifications and happens when an 
  *   object is under the mouse without being selected.
  * @param Valuated
  *   The agent has received a notification representing a valuation.
  *   In general, the valuation is associated with the @href CATActivate 
  *   notification and happens when an object is selected with a 
  *   mouse left click.
  */
  enum ValuationState {NotValuated, Transient, PreValuated, Valuated};
  
  /** @nodoc */
  CATAcquisitionAgent (const CATString &amp;iId, 
                       CATDlgEngBehavior iBehavior=NULL);
  
  virtual ~CATAcquisitionAgent ();
  
  /*---------------------------------*/
  // ValuationState Management                  
  /*---------------------------------*/
  
  /**
  * Returns the valuation state of the agent.
  * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: It is the latest state of the agent.
  * For example, if a valued agent receives a prevaluation, the returned state
  * is &lt;tt&gt;PreValuated&lt;/tt&gt;, whereas it is still valued.
  * @return
  *   The valuation state.
  */
  virtual CATAcquisitionAgent::ValuationState GetValuationState () const;
  
  /**
  * Values an agent dynamically.
  * &lt;br&gt;&lt;b&gt;Precondition&lt;/b&gt;: Use the @href CATIndicationAgent#SetValue or the 
  * @href CATPathElementAgent#SetValue method before, to give a value to the 
  * agent. But these methods are useless if you do not call 
  * &lt;tt&gt;SetValuation&lt;/tt&gt; just after.
  */
  virtual void SetValuation ();
  
  /*---------------------------------*/
  // Contextual menu                  
  /*---------------------------------*/
  
  /**
  * Returns the contextual menu.
  * &lt;br&gt;&lt;b&gt;Precondition&lt;/b&gt;: The agent must expect a @href CATContext 
  * notification and must have been valued. Such a notification is sent when
  * the user clicks with the right mouse button.
  * @return
  *   The contextual menu.
  */
  CATDlgContextualMenu * GetContextualMenu ();
  
  /*---------------------------------*/
  //     INTERNAL METHODS 
  /*---------------------------------*/
  
  /*---------------------------------*/
  /*     BEHAVIOR                    */
  /*---------------------------------*/
  
  /**
  * @nodoc
  * Associates a notification class to a valuation mode.
  * &lt;b&gt;Role&lt;/b&gt;:This method is meaningful only with @href CATPathElementAgent.
  * When the agent receives a notification whose class is a 
  * &lt;tt&gt;iNotifClass&lt;/tt&gt;, its valuation status changes according to the 
  * &lt;tt&gt;iValuationMode&lt;/tt&gt; mode. 
  * For example, if &lt;code&gt;SetBehaviorOnNotify(Valuation, &quot;CATActivate&quot;)&lt;/code&gt;
  * is called on an agent, this agent will get valued when it receives a 
  * @href CATActivate notification if the object under the mouse is expected 
  * by the agent.
  * It is the default behavior of an agent.
  * @param iValuationMode
  *   The valuation mode.
  * @param iNotifClass
  *   The notification class.
  */
  virtual void SetBehaviorOnNotify (ValuationMode iValuationMode, 
                                    const char * iNotifClass);
  
    /**
    * @nodoc
    * Cancels the effect of the @href #SetBehaviorOnNotify method.
    * @param iValuationMode
    *   The valuation mode.
    * @param iNotifClass
    *   The notification class.
  */
  virtual void ResetBehaviorOnNotify (ValuationMode iValuationMode, 
                                      const char * iNotifClass);
  
  /*------------------------------------------------*/
  /* Filter on Value                                */
  /*------------------------------------------------*/
  
  /**
  * Associates a filter to the acquisition agent.
  * @param iFilter
  *   The filter to be applied.
  */
  void SetFilter (CATAcquisitionFilter * iFilter);

  /** @nodoc */
  CATBoolean ApplyFilter ();
  
  /*------------------------------------------------*/
  /* ValuationState Management                      */
  /*------------------------------------------------*/
  
  /** @nodoc */
  virtual void SetValuationState (CATAcquisitionAgent::ValuationState);
  /** @nodoc */
  virtual void SetPrevaluation ();
  /** @nodoc */
  virtual void ResetPrevaluation ();
  
  /*------------------------------------------------*/
  /* Value Management                               */
  /*------------------------------------------------*/
  
  /** @nodoc */
  void RestoreValue ();
  
  /** @nodoc */
  virtual void * UndoValue ();
  /** @nodoc */
  virtual void * RedoValue ();
  /** @nodoc */
  virtual void ResetValue ();
  
  /** @nodoc */
  virtual void * DecodeNotification (CATCommand * from, CATNotification * notif);
  
  /** @nodoc */
  virtual void InitializeValue();
  /** @nodoc */
  virtual void StoreValue ();
  
  /*------------------------------------------------*/
  /* CSO Management                                 */
  /*------------------------------------------------*/
  
  /** @nodoc */
  virtual void PutIntoPSO ();
  /** @nodoc */
  virtual CATBoolean UpdatePSO ();
  /** @nodoc */
  virtual void RemoveFromPSO ();
  /** @nodoc */
  virtual void PutIntoHSO ();
  /** @nodoc */
  virtual void RemoveFromHSO ();
  
  /*---------------------------------*/
  //     OBSOLETE METHODS 
  /*---------------------------------*/
  
  /** 
  * @nodoc 
  * Use SetBehavior instead.
  */
  virtual void SetBehaviorMode (BehaviorMode);
  
  /** @nodoc */
  void SetCSOMode (ModeOffOn mode=ON);

private:

  // NOT implemented, only declared to prevent unexpected call to default ctors created by the compiler
  CATAcquisitionAgent ();
  CATAcquisitionAgent (const CATAcquisitionAgent &amp;);
  CATAcquisitionAgent &amp; operator= (const CATAcquisitionAgent &amp;);
  
};

#endif
</div>
    
    <div class="navigation">
        <div><a href="../../DataExchangeKernelItf/PublicInterfaces/XCADOptions.html">‚Üê ‰∏ä‰∏ÄÈ°µ: XCADOptions.h</a></div>
        <div><a href="CATAcquisitionFilter.html">‰∏ã‰∏ÄÈ°µ: CATAcquisitionFilter.h ‚Üí</a></div>
    </div>
</body>
</html>