<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DialogEngine/PublicInterfaces/CATCommandHeaderWithSDOForAgent.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>DialogEngine/PublicInterfaces/CATCommandHeaderWithSDOForAgent.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATCmdSwitchAgent.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATCmdSwitchAgent.h</a></div>
        <div><a href="CATCustomizableState.html">‰∏ã‰∏ÄÈ°µ: CATCustomizableState.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATCommandHeaderWithSDOForAgent_H
#define CATCommandHeaderWithSDOForAgent_H
#include &quot;CATDialogEngine.h&quot;

// COPYRIGHT DASSAULT SYSTEMES 2000
// protected CATCmdDialogAgents.m

/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */

#include &quot;CATCommandHeaderWithSDO.h&quot;

#include &quot;CATEventSubscriberTypedefs.h&quot;

class CATString;
class CATCommandHeader;
class CATListPtrCATBaseUnknown;
class CATCommandHeaderWithSDORep;
class CATNotification;
class CATDialogAgent;

/**
 * Class for command headers to represent Dialog Agents in a toolbar. 
 * &lt;b&gt;Role&lt;/b&gt;: This header allows you to see a @href CATDialogAgent in a toolbar. The
 * agents are set in the Set of Dialog Objects (SDO) by the CATStateCommand thanks to the
 * @href CATStateCommand#AddSDOElement method. 
 * &lt;br&gt;
 * An object in the SDO is visualized thanks this class under these three conditions:
 * &lt;ol&gt;
 *  &lt;li&gt;it&#x27;s a component which OM derives from the @href CATDialogAgent component&lt;/li&gt;
 *  &lt;li&gt;it implements an interface, which derives from @href CATIAfrDialog ,
 *      to give its representation&lt;/li&gt;
 *  &lt;li&gt;it is activated.&lt;/li&gt;
 * &lt;/ol&gt;
 * 
 * &lt;p&gt;
 * &lt;b&gt;Example of usage&lt;/b&gt;: You are in a workshop, workbench or in an Add-in
 * &lt;ol&gt; 
 *  &lt;li&gt;Create an instance of the class&lt;/li&gt;
 *  &lt;pre&gt;
 *    new CATCommandHeaderWithSDOForAgent(&quot;HeaderID&quot;, IID_CATIMyVisuForMyToolbar);
 *  &lt;/pre&gt;
 *  
 *  &lt;li&gt;Associate this instance with a starter&lt;/li&gt;
 *  &lt;pre&gt;
 *    // The container which represents the toolbar
 *    NewAccess(CATCmdContainer,pCATMySDOTlb,CATMySDOTlb);
 *      ......
 *      // Starter to visualize all objects in the SDO
 *      NewAccess(CATCmdStarter,pCATMySDOStr,CATMySDOStr);
 *       .....
 *      // Associate the command header with the starter
 *      SetAccessCommand(pCATMySDOStr,&quot;HeaderID&quot;)
 *  &lt;/pre&gt;
 * &lt;/ol&gt;  
 * &lt;ul&gt;
 *  &lt;li&gt;&lt;b&gt;HeaderID&lt;/b&gt;:Identificator of the header&lt;/li&gt;
 *  &lt;li&gt;&lt;b&gt;IID_CATIMyVisuForMyToolbar&lt;/b&gt;: IID of an interface which derives from @href CATIAfrDialog &lt;/li&gt;
 *  &lt;li&gt;&lt;b&gt;CATMySDOTlb&lt;/b&gt;:Identificator of the toolbar where dialog agent will be set&lt;/li&gt;
 *  &lt;li&gt;&lt;b&gt;CATMySDOStr&lt;/b&gt;:Identificator of the starter dedicated to the header&lt;/li&gt;
 * &lt;/ul&gt;
 * 
 */

class ExportedByCATDialogEngine CATCommandHeaderWithSDOForAgent : public CATCommandHeaderWithSDO
{
  
  /** @nodoc */
  CATDeclareClass;
  CATDeclareHeaderResources;
  
public:
  
  /**
  * Constructs a header to represent Dialog Agent in a toolbar.
  * @param iHeaderID
  *    Identificator of the header. You must follow the nomenclature :
  *    &lt;br&gt;&lt;b&gt;ZZZxxx&lt;/b&gt;HeaderName&lt;b&gt;Hdr&lt;/b&gt; where
  *    &lt;ol&gt;
  *     &lt;li&gt;ZZZ: The trigram of the enterprise&lt;/li&gt;
  *     &lt;li&gt;xxx: The trigram of FW or the product&lt;/li&gt;
  *     &lt;li&gt;Hdr: For &lt;b&gt;H&lt;/b&gt;ea&lt;b&gt;d&lt;/b&gt;e&lt;b&gt;r&lt;/b&gt; &lt;/b&gt;
  *    &lt;/ol&gt;
  *    &lt;br&gt;This identificator is not used for any Nls or Rsc Resources. 
  * @param iVisuIID
  *    Interface deriving from @href CATIAfrDialog.
  *    &lt;br&gt;Agent must implement this interface to be visualized.
  */
  CATCommandHeaderWithSDOForAgent (const CATString &amp; iHeaderID, const IID &amp; iVisuIID);
  
  virtual ~CATCommandHeaderWithSDOForAgent ();
  
  /**
  * @nodoc
  */
  virtual CATCommandHeader * Clone ();
  
  /**
  * @nodoc
  * Agent are visualized when they are activated. 
  * see @href CATCommandHeaderWithSDO#BuildRep
  * Call @href #ConnectToAgent
  */
  virtual void BuildRep (CATListPtrCATBaseUnknown &amp; iElems);
  
  /**
  * @nodoc
  * see @href CATCommandHeaderWithSDO#DestroyRep
  * Call @href #DeconnectFromAgent
  */
  virtual void DestroyRep (CATListPtrCATBaseUnknown &amp; iElems);
  
  
protected:

  /** @nodoc */
  CATCommandHeaderWithSDOForAgent(CATCommandHeaderWithSDOForAgent * header);

  
/**
* @nodoc
* see @href CATCommandHeaderWithSDO#BuildSDORep
  */
  void BuildSDORep (CATCommandHeaderWithSDORep &amp; iRep);

  
private:

  /**
  * @nodoc
  * Copy constructor. Not Implemented.
  */
  CATCommandHeaderWithSDOForAgent (const CATCommandHeaderWithSDOForAgent &amp; iHeaderToCopy);
  
  // Callback when an agent change of state
  // agent cancel,
  void OnSDOAgentChangeCB (CATCallbackEvent iPublishedEvent,
                           void * iPublishingObject,
                           CATNotification * iNotification,
                           CATSubscriberData iClientData,
                           CATCallback iCallback);
  
  // To set the OnSDOAgentChangeCB callback
  // this method is called in the ..
  void ConnectToAgent (CATDialogAgent &amp; iAgent);
  
  // To remove callback
  void DeconnectFromAgent (CATDialogAgent &amp; iAgent);
  
  // NOT implemented, only declared to prevent unexpected call to default ctors created by the compiler
  CATCommandHeaderWithSDOForAgent ();
  CATCommandHeaderWithSDOForAgent &amp; operator= (const CATCommandHeaderWithSDOForAgent &amp;);

};

#endif

</div>
    
    <div class="navigation">
        <div><a href="CATCmdSwitchAgent.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATCmdSwitchAgent.h</a></div>
        <div><a href="CATCustomizableState.html">‰∏ã‰∏ÄÈ°µ: CATCustomizableState.h ‚Üí</a></div>
    </div>
</body>
</html>