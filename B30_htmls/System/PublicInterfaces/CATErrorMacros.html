<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System/PublicInterfaces/CATErrorMacros.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>System/PublicInterfaces/CATErrorMacros.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATErrorDefs.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATErrorDefs.h</a></div>
        <div><a href="CATErrors.html">‰∏ã‰∏ÄÈ°µ: CATErrors.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef XHMACROS_H
#define XHMACROS_H

// COPYRIGHT DASSAULT SYSTEMES 1999

/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */

//-----------------------------------------------------------------------------
// Abstract:	Definition of error handling macros
//-----------------------------------------------------------------------------
// Usage:	Please refer to the manual for the description of CATTry, CATCatch,
//		 CATCatchOthers, CATEndTry, CATThrow and CATRethrow
//-----------------------------------------------------------------------------
// Note:	The implementation of the above macros can use directly the
//		C++ try, catch, throw if the compiler supports it. However,
//		it is advised not to mix code compiled with different
//		implementations
//-----------------------------------------------------------------------------
#if (defined(_AIX_SOURCE) &amp;&amp; (__xlC__ &gt;= 0x0500))
#include &lt;new.h&gt; // avoid many errors with exception related keywords
#endif
#include &quot;CATError.h&quot;
#include &quot;CATXHContext.h&quot;
#include &quot;CATDestruct.h&quot;
#include &lt;setjmp.h&gt;

//
// eXception Handling macros
//
#ifdef NATIVE_EXCEPTION

    /** @nodoc */
    #define CATTry				try {\
						    CATError::SetCurrentError (NULL);

    /** @nodoc */
    #define CATCatch(errclass,errobj)		} catch (errclass *errobj) {
    
    /** @nodoc */
    #define CATCatchOthers			} catch (...) {
    
    /** @nodoc */
    #define CATEndTry				}
    // Beware that errobj expression can have side-effects (a new exp. for ex.)
    // and thus must evaled only ONCE!
    
    /** @nodoc */
    #define CATThrow(errobj)			throw ((errobj)-&gt;Setup (__FILE__,__LINE__))
    
    /** @nodoc */
    #define CATThrow1(errobj,p)			throw ((errobj)-&gt;Setup (__FILE__,__LINE__))
    
    /** @nodoc */
    #define CATRethrow				throw
    
    /** @nodoc */
    #define CATDestructOnExit(class,var,init)	class var init
    
    /** @nodoc */
    #define CATDestructOnNonNativeExceptionEx(class, var)
    /** @nodoc */
	#define CATDestructOnNonNativeException(var)

#else /* Poor man&#x27;s exception */

    #ifndef CAT_ENABLE_NATIVE_EXCEPTION
	// Make sure native exception is not used
    	/** 
    * This method can&#x27;t be used.
    */
	#define try				ERROR
    	/** 
    * This method can&#x27;t be used.
    */
	#define catch				ERROR
    	/** 
    * This method can&#x27;t be used.
    */
	#define throw				ERROR
    #endif

    // Reference the local variable _ctxt_ in the following macros
    // so that they cannot be used out of context (no punt)
    // lots of init is done in CATXHContext constructor
    /**
    * Begin of block CNEXT exceptions.
    * @see CATEndTry
    */
    #define CATTry				\
	{					\
	    CATXHContext _ctxt_;		\
	    if (setjmp (*_ctxt_.GetJmpbuf()) == 0) {

    // errClass:Self is called to ensure that errclass has been defined
    // correctly using the class definition macros
    /**
    * Catch CNEXT specific exceptions.
    */
    #define CATCatch(errclass,errobj)	\
        } else if (_ctxt_.GetError()-&gt;IsAKindOf (errclass::ClassName())) {\
	    errclass *errobj = ((errclass *) _ctxt_.GetError())-&gt;errclass::Self ();

    /**
    * Catch CNEXT exceptions.
    */
    #define CATCatchOthers			} else if (_ctxt_.GetError()) {

    /**
    * End of block CNEXT exceptions.
    * @see CATTry
    */
    #define CATEndTry				} else {\
						    /* Possible dead code */\
						    CATRethrow;\
						}}
    // Beware that errobj expression can have side-effects (a new exp. for ex.)
    // and thus must evaled only ONCE!
    /** @nodoc */
    #define CATThrow(errobj)			(errobj)-&gt;Throw(__FILE__,__LINE__)
    /** @nodoc */
    #define CATThrow1(errobj,p)			(errobj)-&gt;Throw(__FILE__,__LINE__,(void*)p)
    /** @nodoc */
    #define CATRethrow				(_ctxt_.GetError()-&gt;Throw(NULL, 0))

    #if defined(_WINDOWS_SOURCE) &amp;&amp; !defined(PLATEFORME_DS64)

	// longjmp does the work for us on Windows!
	/** @nodoc */
    #define CATDestructOnExit(class,var,init)\
	    class var init

    #else
    /** @nodoc */
	#define CATDestructOnExit(class,var,init)\
	    class var init;				\
	    CATDestruct_&lt;class&gt; var##Destructor(&amp;var)

    #endif
    
    /** @nodoc */
    #define CATDestructOnNonNativeExceptionEx(class, var) CATDestruct_&lt;class&gt; var##Destructor (&amp;var)
	#if defined(_AIX_SOURCE)
    /** @nodoc */
	#define CATDestructOnNonNativeException(var)  CATDestructOnNonNativeExceptionEx(__typeof__(var), var)
	#else
    /** @nodoc */
	#define CATDestructOnNonNativeException(var)  CATDestructOnNonNativeExceptionEx(decltype(var), var)
	#endif

#endif

#endif
</div>
    
    <div class="navigation">
        <div><a href="CATErrorDefs.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATErrorDefs.h</a></div>
        <div><a href="CATErrors.html">‰∏ã‰∏ÄÈ°µ: CATErrors.h ‚Üí</a></div>
    </div>
</body>
</html>