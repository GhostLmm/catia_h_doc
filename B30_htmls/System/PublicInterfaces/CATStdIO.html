<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System/PublicInterfaces/CATStdIO.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>System/PublicInterfaces/CATStdIO.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATSettingRepository.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATSettingRepository.h</a></div>
        <div><a href="CATStdLib.html">‰∏ã‰∏ÄÈ°µ: CATStdLib.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">//===========================================================================
// COPYRIGHT DASSAULT SYSTEMES 1999                                          
//===========================================================================
//                                                                           
//  Standard Files                                                     
//                                                                           
//  Usage Notes: As stdio
//===========================================================================
//  Creation octobre 1999                                 adt              
//===========================================================================
/* COPYRIGHT DASSAULT SYSTEMES 1999 */
/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */
#ifndef __CATSTDIO
#define __CATSTDIO
#include &quot;JS0LIB.h&quot;
#include &quot;CATDataType.h&quot;
#include &quot;CATErrorDef.h&quot;
#include &lt;time.h&gt;

class CATUnicodeString;

/**
 * Opens a file.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;:Open a file and returns a descriptor.
 * @param iFileName
 *      The path of the file to open.
 * @param iMode 
 *      Opening mode as in fopen
 * @param oFileDesc
 *      the returned file descriptor that will be used in the other functions
 *      for manipulating the opened file.
 * @return
 *   &lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success.
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure
*/
ExportedByJS0LIB HRESULT CATFOpen( CATUnicodeString *iFileName, 
				   const char *iMode,
				   unsigned int* oFileDesc);
/**
 * Copies a file.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;:Copies a given file into a new one.
 * @param iFileName
 *      The path of the file to copy.
 * @param iCopyName
 *      the path of the copy file
 * @param iCopyTime
 *      if set the time of the original file times will be preserved.
 * @return
 *   &lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success.
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure
*/
ExportedByJS0LIB HRESULT CATFCopy( CATUnicodeString *iFileName,
				   CATUnicodeString *iCopyName,
				   int iCopyTime);
/**
 * Changes the times of a file. 
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Changes the last access and last modification times of
 * a file named by iName
 * @param iName 
 *      the path of the file. 
 * @param iNewAccessTime
 *      the new last access time. 
 * @param iNewModTime
 *      the new last modification time
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/ 
ExportedByJS0LIB HRESULT CATFSetTimes ( CATUnicodeString  *iName, 
					time_t iNewAccessTime,
					time_t iNewModTime);
/**
 * Changes the status of a file.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Applies the rights a the file named by iReferenceFile to 
 * the file named by iFileToUpdate.
 * @param iReferenceFile
 *      the path of the reference file.
 * @param iFileToUpdate
 *      the path of the file which rights have to be modified.
 * @return
 *   &lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success.
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure
*/
ExportedByJS0LIB HRESULT CATFChmod (CATUnicodeString  *iReferenceFile, 
				    CATUnicodeString  *iFileToUpdate);

#ifdef __cplusplus
extern &quot;C&quot; {
#endif
  
/**
 * Opens a file. 
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;:Open a file and returns a descriptor.
 * @param iFileName 
 *      The path of the file to open. 
 * @param iMode  
 *      Opening mode as in fopen 
 * @param oFileDesc 
 *      the returned file descriptor that will be used in the other functions
 *      for manipulating the opened file. 
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/ 
  ExportedByJS0LIB HRESULT CATFOpen( const wchar_t *iFileName, 
				     const char *iMode,
				     unsigned int* oFileDesc);

/**
 * Closes a file.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;:Writes any buffered data and closes a file previously 
 * opened with CATFOpen.
 * @param iFileDesc
 *      the file descriptor that has been obtained through @href #CATFOpen
 * @return
 *   &lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success.
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure
*/
  ExportedByJS0LIB HRESULT CATFClose(unsigned int iFileDesc);

/**
 * Flushes a file.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;:Writes any buffered data for the previously opened with 
 * CATFOpen file and leaves it open
 * @param iFileDesc
 *      the file descriptor that has been obtained through @href #CATFOpen
 * @return
 *   &lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success.
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure
*/
  ExportedByJS0LIB HRESULT CATFFlush(unsigned int iFileDesc);


/**
 * Reads from a file. 
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;:Reads from  a file previously opened with CATFOpen. 
 * @param iFileDesc
 *      the file descriptor that has been obtained through @href #CATFOpen
 * @param iBuff 
 *      The buffer where the data will be stored. 
 * @param iSize
 *      The size of iBuff buffer. 
 * @param oRead 
 *      the length of data actually read 
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/ 
  ExportedByJS0LIB HRESULT CATFRead(unsigned int iFileDesc, char *iBuff, 
				    unsigned int iSize, unsigned int *oRead);
  
/**
 * Writes in a file. 
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;:Writes into a file previously opened with CATFOpen. 
 * @param iFileDesc
 *      the file descriptor that has been obtained through @href #CATFOpen
 * @param iBuff 
 *      The buffer of data to write. 
 * @param iSize
 *      The size of iBuff buffer. 
 * @param oRead 
 *      the length of data actually written. 
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/ 
  ExportedByJS0LIB HRESULT CATFWrite(unsigned int iFileDesc, const char *iBuff,
				     unsigned int iSize, 
				     unsigned int *oWritten);

/**
 * Moves the file pointer. 
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Moves the file pointer of a file previously opened with 
 * CATFOpen. 
 * @param iFileDesc
 *    the file descriptor that has been obtained through @href #CATFOpen
 * @param iOffset
 *    The position of the next I/O operation, which can be either positive 
 *    or negative.
 * @param iOrigine
 *    the origine used to determined the new file pointer. 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; SEEK_SET:&lt;/tt&gt; the pointer is set to iOffset.
 *   &lt;br&gt;&lt;tt&gt; SEEK_CUR:&lt;/tt&gt; the pointer is set to the current position plus 
 *                           iOffset.
 *   &lt;br&gt;&lt;tt&gt; SEEK_END:&lt;/tt&gt; the pointer is set to the size of the file plus 
 *                           the value of iOffset.
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/   
  ExportedByJS0LIB HRESULT CATFSeek ( unsigned int iFileDesc, int iOffset, 
				       int iOrigine);

/**
 * Moves the file pointer. 
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Moves the file pointer of a file previously opened with 
 * CATFOpen. This function is for large files.
 * @param iFileDesc
 *    the file descriptor that has been obtained through @href #CATFOpen
 * @param iOffset
 *    The position of the next I/O operation, which can be either positive 
 *    or negative.
 * @param iOrigine
 *    the origine used to determined the new file pointer. 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; SEEK_SET:&lt;/tt&gt; the pointer is set to iOffset.
 *   &lt;br&gt;&lt;tt&gt; SEEK_CUR:&lt;/tt&gt; the pointer is set to the current position plus 
 *                           iOffset.
 *   &lt;br&gt;&lt;tt&gt; SEEK_END:&lt;/tt&gt; the pointer is set to the size of the file plus 
 *                           the value of iOffset.
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/   
  ExportedByJS0LIB HRESULT CATFSeek64( unsigned int iFileDesc, 
				       CATLONG64 iOffset, 
				       int iOrigine);
 
/**
 * Returns the current offset. 
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Returns the current offset in a file previously opened 
 * with CATFOpen. 
 * @param iFileDesc
 *    the file descriptor that has been obtained through @href #CATFOpen
 * @param oOffset
 *    The position of the next I/O operation.
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/    
  ExportedByJS0LIB HRESULT CATFTell (unsigned int iFileDesc,
				     unsigned int *oOffset);
 
/**
 * Returns the current offset. 
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Returns the current offset in a file previously opened 
 * with CATFOpen. This function is for large files.
 * @param iFileDesc
 *    the file descriptor that has been obtained through @href #CATFOpen
 * @param oOffset
 *    The position of the next I/O operation.
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/
  ExportedByJS0LIB HRESULT CATFTell64 (unsigned int iFileDesc,
				       CATLONG64 *oOffset);

/**
 * Determines if the end f the file has been reached.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Determines if EOF  has previously been detected reading 
 * the file identified by iFileDesc.
 * @param iFileDesc
 *    the file descriptor that has been obtained through @href #CATFOpen 
  * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt; if EOF has been reached. 
 *   &lt;br&gt;&lt;tt&gt; S_FALSE :&lt;/tt&gt; if the EOF has not been reached.
 *   &lt;br&gt;&lt;tt&gt; negative:&lt;/tt&gt; if an error has been encountered.
*/
  ExportedByJS0LIB HRESULT CATFEof (unsigned int iFileDesc);

 
/**
 * Returns the size of a file. 
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Returns the current size of a file previously opened 
 * with CATFOpen. 
 * @param iFileDesc
 *    the file descriptor that has been obtained through @href #CATFOpen
 * @param oSize
 *    The size of the file.
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/
  ExportedByJS0LIB HRESULT CATFSize (unsigned int iFileDesc, 
				     unsigned int* oSize);

/**
 * Returns the size of a file. 
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Returns the current size of a file previously opened 
 * with CATFOpen. This function is for large files.
 * @param iFileDesc
 *    the file descriptor that has been obtained through @href #CATFOpen
 * @param oSize
 *    The size of the file.
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/
  ExportedByJS0LIB HRESULT CATFSize64 (unsigned int iFileDesc, 
				       CATLONG64 * oSize);
  
/**
 * Reads a line from a file.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Reads characters from the file  into the array pointed to
 * by ioBuff, until iNb-1 characters are read, or a newline character is read 
 * and transferred to ioBuff, or an end-of-file condition is encountered.
 * The string is then terminated with a null character.
 * @param ioBuff
 *    the buffer where the read characters will be stored.
 * @param iNb
 *    The size of the buffer.
 * @param iFileDesc
 *    the file descriptor that has been obtained through @href #CATFOpen
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/
  ExportedByJS0LIB HRESULT CATFGets ( char * ioBuff, int iNb, 
				      unsigned int iFileDesc);

/**
 * Writes a line into a file.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Writes the null-terminated string pointed to by iBuff to 
 * the file pointed by iFileDesc. The terminating null character is not written
 * @param iBuff
 *    the string to write.
 * @param iFileDesc
 *    the file descriptor that has been obtained through @href #CATFOpen
 * @param oWritten
 *    On success the number of characters actually written.
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/
  ExportedByJS0LIB HRESULT CATFPuts ( const char * iBuff, 
				      unsigned int iFileDesc,
				      int *oWritten);
/**
 * Reads a character.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Obtains the next byte (if present) as an unsigned char 
 * converted to an int, from the input file pointed to by iFileDesc, and 
 * advances the associated file position indicator for the file.
 * @param iFileDesc
 *    the file descriptor that has been obtained through @href #CATFOpen
 * @param oC
 *    On success the read character.
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/
  ExportedByJS0LIB HRESULT CATFGetc ( unsigned int iFileDesc, int *oC);


/**
 * Writes a character.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Writes the byte specified by iChar (converted to an 
 * unsigned char) to the output file pointed to by iFileDesc, at the position
 * indicated by the associated file-position indicator and advances the 
 * indicator appropriately. 
 * @param iFileDesc
 *    the file descriptor that has been obtained through @href #CATFOpen
 * @param iChar
 *    the character to write.
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/
  ExportedByJS0LIB HRESULT CATFPutc ( unsigned int iFileDesc, int iChar);

  
/**
 * Copies a file.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;:Copies a given file into a new one.
 * @param iFileName
 *      The path of the file to copy.
 * @param iCopyName
 *      the path of the copy file
 * @param iCopyTime
 *      if set the times of the original file will be preserved.
 * @return
 *   &lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success.
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure
*/
  ExportedByJS0LIB HRESULT CATFCopy ( const wchar_t *iName, 
				      const wchar_t *iCopyName,
				      int iCopyTime =0);
/**
 * Changes the status of a file. 
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Applies the rights a the file named by iReferenceFile to  
 * the file named by iFileToUpdate. 
 * @param iReferenceFile 
 *      the path of the reference file. 
 * @param iFileToUpdate 
 *      the path of the file which rights have to be modified. 
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/ 
  ExportedByJS0LIB HRESULT CATFChmod (const wchar_t *iReferenceFile, 
				      const wchar_t *iFileToUpdate);

/**
 * Changes the times of a file. 
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Changes the last access and last modification times of
 * a file named by iName
 * @param iName 
 *      the path of the file. 
 * @param iNewAccessTime
 *      the new last access time. 
 * @param iNewModTime
 *      the new last modification time
 * @return 
 *   &lt;b&gt;Legal values&lt;/b&gt;: 
 *   &lt;br&gt;&lt;tt&gt; S_OK :&lt;/tt&gt;on Success. 
 *   &lt;br&gt;&lt;tt&gt; negative :&lt;/tt&gt; on failure 
*/ 
  ExportedByJS0LIB  HRESULT CATFSetTimes ( const wchar_t *iName, 
					   time_t iNewAccessTime,
					   time_t iNewModTime);
  
#ifdef __cplusplus
};
#endif
#endif
</div>
    
    <div class="navigation">
        <div><a href="CATSettingRepository.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATSettingRepository.h</a></div>
        <div><a href="CATStdLib.html">‰∏ã‰∏ÄÈ°µ: CATStdLib.h ‚Üí</a></div>
    </div>
</body>
</html>