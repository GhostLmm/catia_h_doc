<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System/PublicInterfaces/CATTime.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>System/PublicInterfaces/CATTime.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATSystemErrors.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATSystemErrors.h</a></div>
        <div><a href="CATTimeSpan.html">‰∏ã‰∏ÄÈ°µ: CATTimeSpan.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATTIME_H
#define CATTIME_H

// COPYRIGHT DASSAULT SYSTEMES 1999

/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */

#ifdef _WINDOWS_SOURCE 
#ifdef __NS0S7TIM
#define ExportedByNS0S7TIM  __declspec(dllexport) 
#else
#define ExportedByNS0S7TIM  __declspec(dllimport) 
#endif
#else
#define ExportedByNS0S7TIM
#endif

#include &lt;time.h&gt;

/**
* Defines a possible value for the argument iFlag of the method CATTime::ConvertToString.
* If CATGMT is not specified in the iFlag argument, @href #ConvertToString  will return a string representation of the local time &amp; date corresponding to the CATTime instance.
* If CATGMT is specified in the argument iFlag of the @href #ConvertToString method, the generated string will be a string representation of the GMT time &amp; date (instead of the local time).
*/
#define CATGMT	1

class CATUnicodeString;
class CATTimeSpan;

class CATSysTimeData;

/**
 * Time zone symbolic variables definition
 */
typedef enum
{
  // Time in the current time zone
  CATLocal = 0

  // Universal Coordinated Time (brand new name)
, CATUTC = 1

  // Greenwhich Mean Time (deprecated name)
, CATGMT0 = CATUTC

  // Keep retro conversion
#ifndef CATGMT
, CATGMT = CATUTC
#endif
} CATTz;

/**
 * Class to use for date and time representation.
 * &lt;p&gt;
 * CATTime has to be used whenever a time representation is
 * needed, ie either seen, entered, or manipulated by the 
 * end user. In this way, the application is shielded from 
 * implementation details regarding language, locale, and so forth.
 * Applications thus become portable since they can handle
 * time expressed in any language.
 * &lt;p&gt;
 */
class ExportedByNS0S7TIM CATTime
{


public :

/**
 * Constructs an instance.
 * Current Date &amp; Time are used for member variable initialization
 */
   CATTime();

/**
 * Copy constructor.
 * Constructs an instance from another CATTime instance.
 */
   CATTime(const CATTime&amp; iTime);

/**
 * Constructs an instance from time_t variable (see C RunTime Library).
 * @param iTime
 *   time_t representation of Date &amp; Time.
 */
   CATTime(time_t iTime); 

/**
 * Constructs an instance from every Date &amp; Time components,
 * @param iYear
 *   Year &lt;b&gt;Legal values&lt;/b&gt;: from 1970 to 2038.
 * @param iMonth
 *   Month &lt;b&gt;Legal values&lt;/b&gt;: from 1 to 12.
 * @param iDay
 *   Day &lt;b&gt;Legal values&lt;/b&gt;: from 1 to 31.
 * @param iHour
 *   Hour
 * @param iMin
 *   Minute
 * @param iSec
 *   Second
 * @param iTimeZone
 *   Time zone value (Default is &lt;b&gt;CATLocal&lt;/b&gt;).
 */
   CATTime(int iYear, int iMonth, int iDay, int iHour, int iMin, int iSec, const CATTz&amp; iTimeZone = CATLocal);
   
   ~CATTime();


/**
 * Returns an object that represents the current time.
 */
   static CATTime GetCurrentLocalTime();


/**
 * Recycles an existing instance from time_t variable (see C RunTime Library).
 * @param iTime
 *   time_t representation of Date and Time.
 * @return
 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;
 *     &lt;dt&gt;1 &lt;/dt&gt;
 *        &lt;dd&gt;Successful.&lt;/dd&gt;
 *     &lt;dt&gt;0 &lt;/dt&gt;
 *        &lt;dd&gt;An error occurred.&lt;/dd&gt;
 *   &lt;/dl&gt;
 */
   int Settime_t(time_t iTime);

/**
 * Recycles an existing instance from every Date and Time components.
 * @param iYear
 *   Year &lt;b&gt;Legal values&lt;/b&gt;: from 1970 to 2038.
 * @param iMonth
 *   Month &lt;b&gt;Legal values&lt;/b&gt;: from 1 to 12.
 * @param iDay
 *   Day &lt;b&gt;Legal values&lt;/b&gt;: from 1 to 31.
 * @param iHour
 *   Hour
 * @param iMin
 *   Minute
 * @param iSec
 *   Second
 * @param iTimeZone
 *   Time zone value (Default is &lt;b&gt;CATLocal&lt;/b&gt;).
 * @return
 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;
 *     &lt;dt&gt;1 &lt;/dt&gt;
 *        &lt;dd&gt;Successful.&lt;/dd&gt;
 *     &lt;dt&gt;0 &lt;/dt&gt;
 *        &lt;dd&gt;An error occurred.&lt;/dd&gt;
 *   &lt;/dl&gt;
 */
   int SetDateTime(int iYear, int iMonth, int iDay, int iHour, int iMin, int iSec, const CATTz&amp; iTimeZone = CATLocal);

/**
 * Recycles an existing instance from every Date components.
 * @param iYear
 *   Year &lt;b&gt;Legal values&lt;/b&gt;: from 1970 to 2038.
 * @param iMonth
 *   Month &lt;b&gt;Legal values&lt;/b&gt;: from 1 to 12.
 * @param iDay
 *   Day &lt;b&gt;Legal values&lt;/b&gt;: from 1 to 31.
 * @param iTimeZone
 *   Time zone value (Default is &lt;b&gt;CATLocal&lt;/b&gt;).
 * @return
 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;
 *     &lt;dt&gt;1 &lt;/dt&gt;
 *        &lt;dd&gt;Successful.&lt;/dd&gt;
 *     &lt;dt&gt;0 &lt;/dt&gt;
 *        &lt;dd&gt;An error occurred.&lt;/dd&gt;
 *   &lt;/dl&gt;
 */
   int SetDate(int iYear, int iMonth, int iDay, const CATTz&amp; iTimeZone = CATLocal);

/**
 * Recycles an existing instance from every Time components.
 * @param iHour
 *   Hour
 * @param iMin
 *   Minutes
 * @param iSec
 *   Seconds
 * @param iTimeZone
 *   Time zone value (Default is &lt;b&gt;CATLocal&lt;/b&gt;).
 * @return
 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;
 *     &lt;dt&gt;1 &lt;/dt&gt;
 *        &lt;dd&gt;Successful.&lt;/dd&gt;
 *     &lt;dt&gt;0 &lt;/dt&gt;
 *        &lt;dd&gt;An error occurred.&lt;/dd&gt;
 *   &lt;/dl&gt;
 */
   int SetTime(int iHour, int iMin, int iSec, const CATTz&amp; iTimeZone = CATLocal);

/**
 * Returns the hour.
 * The result is inconsistent if this is an Invalid CATTime Object.
 * @param iTimeZone
 *   Time zone value (Default is &lt;b&gt;CATLocal&lt;/b&gt;).
 * @return the hour 
 */
   int GetHour(const CATTz&amp; iTimeZone = CATLocal) const;

/**
 * Returns the minute.
 * The result is inconsistent if this is an Invalid CATTime Object.
 * @param iTimeZone
 *   Time zone value (Default is &lt;b&gt;CATLocal&lt;/b&gt;).
 * @return the minute.
 */
   int GetMinute(const CATTz&amp; iTimeZone = CATLocal) const;

/**
 * Returns the second.
 * The result is inconsistent if this is an Invalid CATTime Object.
 * @param iTimeZone
 *   Time zone value (Default is &lt;b&gt;CATLocal&lt;/b&gt;).
 * @return the second.
 */
   int GetSecond(const CATTz&amp; iTimeZone = CATLocal) const;

/**
 * Returns the day.
 * The result is inconsistent if this is an Invalid CATTime Object.
 * @param iTimeZone
 *   Time zone value (Default is &lt;b&gt;CATLocal&lt;/b&gt;).
 * @return the day.
 */
   int GetDay(const CATTz&amp; iTimeZone = CATLocal) const;

/**
 * Returns the month.
 * The result is inconsistent if this is an Invalid CATTime Object.
 * @param iTimeZone
 *   Time zone value (Default is &lt;b&gt;CATLocal&lt;/b&gt;).
 * @return the month.
 */
   int GetMonth(const CATTz&amp; iTimeZone = CATLocal) const;

/**
 * Returns the year.
 * The result is inconsistent if this is an Invalid CATTime Object.
 *   Time zone value (Default is &lt;b&gt;CATLocal&lt;/b&gt;).
 * @return the year.
 */
   int GetYear(const CATTz&amp; iTimeZone = CATLocal) const;

/**
 * Returns the day of the year.
 * The result is inconsistent if this is an Invalid CATTime Object.
 * @param iTimeZone
 *   Time zone value (Default is &lt;b&gt;CATLocal&lt;/b&gt;).
 * @return the day.
 */
   int GetDayOfYear(const CATTz&amp; iTimeZone = CATLocal) const;

/**
 * Returns the day of the week.
 * The result is inconsistent if this is an Invalid CATTime Object.
 * @param iTimeZone
 *   Time zone value (Default is &lt;b&gt;CATLocal&lt;/b&gt;).
 * @return the day.
 */
   int GetDayOfWeek(const CATTz&amp; iTimeZone = CATLocal) const;

/**
 * Returns a time_t structure.
 * The result is inconsistent if this is an Invalid CATTime Object.
 * @return A time_t representation of Date &amp; Time
 */
   time_t Gettime_t() const;

/**
 * Returns the status of this CATTime Object.
 * The status of a CATTime object is invalid in the following cases :
 * &lt;ol&gt;
 * &lt;li&gt;If its value is set from a time_t value that could not be converted to a valid date and time value.&lt;/li&gt;
 * &lt;li&gt;If its value is set by @href #SetDateTime with invalid parameter values.&lt;/li&gt;
 * &lt;li&gt;If this object has experienced an overflow or underflow during an arithmetic assignement operation ( +, -, +=, etc.).&lt;/li&gt;
 * &lt;li&gt;If an invalid value was assigned to this object.&lt;/li&gt;
 * &lt;/ol&gt;
 * @return
 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;
 *     &lt;dt&gt;1 &lt;/dt&gt;
 *        &lt;dd&gt;this is a Valid CATTime Object&lt;/dd&gt;
 *     &lt;dt&gt;0 &lt;/dt&gt;
 *        &lt;dd&gt;this is a not Valid CATTime Object&lt;/dd&gt;
 *   &lt;/dl&gt;
 */
   int GetStatus() const;

/**
 * Converts date and time to CATUnicodeString depending on locale conventions and geographical standpoint.
 * @param iFormatString The Format-control string. See &lt;tt&gt;strfime&lt;/tt&gt; in C RunTime Library for valid format.
 * @return CATUnicodeString representing date and time.
 * @note This method is deprecated, use the below one instead
 */
   CATUnicodeString ConvertToString ( const CATUnicodeString&amp; iFormatString,
				      int iFlag=0 ) const;

/**
 * Same as @href #ConvertToString.
 * @param iTimeZone
 *   Time zone value
 */
   CATUnicodeString ConvertToString(const CATUnicodeString&amp; iFormatString, const CATTz&amp; iTimeZone) const;

/**
 * Assignment operator from a time_t.
 * @param iTimeToCopy
 *   time_t variable to be copied.
 */
   CATTime&amp; operator = (time_t iTimeToCopy);
/**
 * Assignment operator from a CATTime instance.
 * @param iTimeToCopy
 *   CATTime instance to copy.
 */
   CATTime&amp; operator = (const CATTime &amp;iTimeToCopy);

/**
 * Equality operator.
 * @return
 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;
 *     &lt;dt&gt;1 &lt;/dt&gt;
 *        &lt;dd&gt;if compared Objects are equal,&lt;/dd&gt;
 *     &lt;dt&gt;0 &lt;/dt&gt;
 *        &lt;dd&gt;otherwise,&lt;/dd&gt;
 *     &lt;dt&gt;-1 &lt;/dt&gt;
 *        &lt;dd&gt;if one or the two compared objects are Invalid for @href #GetStatus &lt;/dd&gt;
 *   &lt;/dl&gt;
 */
   int operator == ( const CATTime &amp;iTimeToCompare ) const;
/**
 * Inequality operator.
 * @return
 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;
 *     &lt;dt&gt;1 &lt;/dt&gt;
 *        &lt;dd&gt;if compared Objects are different,&lt;/dd&gt;
 *     &lt;dt&gt;0 &lt;/dt&gt;
 *        &lt;dd&gt;otherwise,&lt;/dd&gt;
 *     &lt;dt&gt;-1 &lt;/dt&gt;
 *        &lt;dd&gt;if one or the two compared objects are Invalid for @href #GetStatus &lt;/dd&gt;
 *   &lt;/dl&gt;
 */
   int operator != ( const CATTime &amp;iTimeToCompare ) const;
/**
 * Less-than operator.
 * @return
 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;
 *     &lt;dt&gt;1 &lt;/dt&gt;
 *        &lt;dd&gt;if the Object is inferior than iTimeToCompare,&lt;/dd&gt;
 *     &lt;dt&gt;0 &lt;/dt&gt;
 *        &lt;dd&gt;otherwise,&lt;/dd&gt;
 *     &lt;dt&gt;-1 &lt;/dt&gt;
 *        &lt;dd&gt;if one or the two compared objects are Invalid for @href #GetStatus &lt;/dd&gt;
 *   &lt;/dl&gt;
 */
   int operator &lt;  ( const CATTime &amp;iTimeToCompare ) const;
/**
 * Less-than or equal operator.
 * @return
 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;
 *     &lt;dt&gt;1 &lt;/dt&gt;
 *        &lt;dd&gt;if the Object is inferior than or equal to iTimeToCompare,&lt;/dd&gt;
 *     &lt;dt&gt;0 &lt;/dt&gt;
 *        &lt;dd&gt;otherwise,&lt;/dd&gt;
 *     &lt;dt&gt;-1 &lt;/dt&gt;
 *        &lt;dd&gt;if one or the two compared objects are Invalid for @href #GetStatus &lt;/dd&gt;
 *   &lt;/dl&gt;
 */
   int operator &lt;= ( const CATTime &amp;iTimeToCompare ) const;
/**
 * Greater-than or equal operator.
 * @return
 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;
 *     &lt;dt&gt;1 &lt;/dt&gt;
 *        &lt;dd&gt;if the Object is superior than or equal to iTimeToCompare,&lt;/dd&gt;
 *     &lt;dt&gt;0 &lt;/dt&gt;
 *        &lt;dd&gt;otherwise,&lt;/dd&gt;
 *     &lt;dt&gt;-1 &lt;/dt&gt;
 *        &lt;dd&gt;if one or the two compared objects are Invalid for @href #GetStatus &lt;/dd&gt;
 *   &lt;/dl&gt;
 */
   int operator &gt;= ( const CATTime &amp;iTimeToCompare ) const;
/**
 * Greater-than operator.
 * @return
 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 *   &lt;dl&gt;
 *     &lt;dt&gt;1 &lt;/dt&gt;
 *        &lt;dd&gt;if the Object is superior than iTimeToCompare,&lt;/dd&gt;
 *     &lt;dt&gt;0 &lt;/dt&gt;
 *        &lt;dd&gt;otherwise,&lt;/dd&gt;
 *     &lt;dt&gt;-1 &lt;/dt&gt;
 *        &lt;dd&gt;if one or the two compared objects are Invalid for @href #GetStatus &lt;/dd&gt;
 *   &lt;/dl&gt;
 */
   int operator &gt;  ( const CATTime &amp;iTimeToCompare ) const;


/**
 * Addition operator from  CATTimeSpan.
 * @param iTimeSpan
 *   CATTimeSpan instance representing elapsed time to add to. 
 */
  CATTime operator + ( const CATTimeSpan &amp;iTimeSpan ) const;
/**
 * Substraction operator from CATTimeSpan.
 * @param iTimeSpan
 *   CATTimeSpan instance representing elapsed time to substract from. 
 */
  CATTime operator - ( const CATTimeSpan &amp;iTimeSpan ) const;

/**
 * Substraction operator from CATTime.
 * @param iTimeToSubstract
 *   CATTime instance representing date and time to substract from. 
 */
  CATTimeSpan operator - ( const CATTime &amp;iTimeToSubstract ) const;

/**
 * Addition assignment operator from CATTimeSpan.
 * @param iTimeSpan
 *   CATTimeSpan instance representing elapsed time to add from to. 
 */
  const CATTime&amp; operator += ( const CATTimeSpan &amp;iTimeSpan );
/**
 * Substraction assignment operator from CATTimeSpan.
 * @param iTimeSpan
 *   CATTimeSpan instance representing elapsed time to substract from to. 
 */
  const CATTime&amp; operator -= ( const CATTimeSpan &amp;iTimeSpan );


private:
  time_t _Time;
  CATSysTimeData *_Data;
};

#endif
</div>
    
    <div class="navigation">
        <div><a href="CATSystemErrors.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATSystemErrors.h</a></div>
        <div><a href="CATTimeSpan.html">‰∏ã‰∏ÄÈ°µ: CATTimeSpan.h ‚Üí</a></div>
    </div>
</body>
</html>