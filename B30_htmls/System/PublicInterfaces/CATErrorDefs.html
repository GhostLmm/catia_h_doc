<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System/PublicInterfaces/CATErrorDefs.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>System/PublicInterfaces/CATErrorDefs.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATErrorDef.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATErrorDef.h</a></div>
        <div><a href="CATErrorMacros.html">‰∏ã‰∏ÄÈ°µ: CATErrorMacros.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATERRORDEFS_H
#define CATERRORDEFS_H

// COPYRIGHT DASSAULT SYSTEMES 1999

/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */

//-----------------------------------------------------------------------------
// Abstract:	Macro definitions for the Error Handling system
//-----------------------------------------------------------------------------

#include &quot;JS0ERROR.h&quot;
#include &quot;CATMacForIUnknown.h&quot;
#include &quot;CATMetaClass.h&quot;

/**
 * Error identifier.
 */
typedef unsigned int CATErrorId;

/** @nodoc */
typedef void (*CATTerminateFunction) ();

//
// Declare an error class: should be included in the class public part
//
/** @nodoc */
#define CATDeclareErrorClass(thisClass,baseClass)		\
	CATDeclareClass;					\
	thisClass(CATErrorId id);				\
	thisClass(CATErrorId id, const char *msgId,             \
		  const char *catalog = NULL);	                \
	CAT_DECLARE_ERROR_CLASS(thisClass)			\
	virtual void GetErrorTable (unsigned int *,		\
				    const CATErrDsc **);	\
	static const unsigned int errorTableLength;		\
	static const CATErrDsc errorTable[];

/**
 * Creates an error class.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This macro creates all the class method and data member
 * declaration.
 * It must be inserted in the error class header file, after the public keyword.
 * @param thisClass
 *   The name of the error class to create
 * @param baseClass
 *   The name of the error class base class.
 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: This class must derive from CATError
 *   and the created error class must derive from it
 */
#define CATDeclareError(thisClass,baseClass)		        \
	CATDeclareClass;                                        \
	thisClass(CATErrorId id);				\
	thisClass(CATErrorId id, const char *msgId,             \
	     const char *catalog = NULL);	                \
	thisClass( const char *msgId,const char *catalog );     \
	CAT_DECLARE_ERROR_CLASS(thisClass)		        \
	virtual void GetErrorTable (unsigned int *,		\
	     const CATErrDsc **);	                        \
	static const unsigned int errorTableLength;		\
	static const CATErrDsc errorTable[];
//
// Implement the methods declared in the macro above. Should be included
// in a source file
//
/** @nodoc */
#define CATImplementErrorClass(thisClass,baseClass)		\
	CATImplementClass(thisClass,Implementation,baseClass,CATNull); \
        CAT_IMPLEMENT_CTOR(thisClass,baseClass)			\
	CAT_IMPLEMENT_SETUP(thisClass)				\
	CAT_IMPLEMENT_CLONESELF(thisClass)			\
	CAT_IMPLEMENT_GETMESSAGETABLE(thisClass)

/**
 * Creates an error class.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This macro creates all the class method bodies.
 * It must be inserted in the error class source file.
 * @param thisClass
 *   The name of the error class to create
 * @param baseClass
 *   The name of the error class base class.
 *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: This class must derive from CATError
 *   and the created error class must derive from it
 */
#define CATImplementError(thisClass,baseClass)		\
	CATImplementClass(thisClass,Implementation,baseClass,CATNull); \
        CAT_IMPLEMENT_CTOR_BIS(thisClass,baseClass)			\
	CAT_IMPLEMENT_SETUP(thisClass)				\
	CAT_IMPLEMENT_CLONESELF(thisClass)			\
	CAT_IMPLEMENT_GETMESSAGETABLE(thisClass)
	

//
// Declarations for a base Error Class (only used by CATError)
//
/** @nodoc */
#define CATDeclareBaseErrorClass(thisClass)			\
	CATDeclareClass;					\
	CAT_DECLARE_ERROR_CLASS(thisClass)			\
	virtual void GetErrorTable (unsigned int *,		\
				    const CATErrDsc **) = 0;

//
// Common declarations for all Error Classes
//
/** @nodoc */
#define CAT_DECLARE_ERROR_CLASS(thisClass)			\
        thisClass *Setup (const char *, int line);		\
	thisClass *Self () { return this; }			\
	virtual CATError *CloneSelf ();

//
// Implement methods for a base error class
//
/** @nodoc */
#define CATImplementBaseErrorClass(thisClass)			\
	CATImplementClass(thisClass,Implementation,CATNull,CATNull);

//
// For use by msgp only
//
/** @nodoc */
#define CATDefineErrorTable(errClass,numErr)			\
	const unsigned int errClass::errorTableLength = numErr;	\
	const CATErrDsc errClass::errorTable[numErr]

//
// If not using msg
//
/**
 * Enables an error class for NLS messages.
 * @param errClass
 *   The name of the error class to create
 */
#define CATImplementNLSErrorClass(errClass)			\
	const unsigned int errClass::errorTableLength = 0;	\
        const CATErrDsc errClass::errorTable[1] = { 0 };

//
// Constructor definition
//
/** @nodoc */
#define CAT_IMPLEMENT_CTOR(thisClass,baseClass)			\
        thisClass::thisClass (CATErrorId id) : baseClass (id) {}\
        thisClass::thisClass (CATErrorId id, const char *cat, const char *m) :\
	    baseClass (id,cat,m) {}
/** @nodoc */
#define CAT_IMPLEMENT_CTOR_BIS(thisClass,baseClass)		              \
        thisClass::thisClass (CATErrorId id) : baseClass (id) {}              \
        thisClass::thisClass (CATErrorId id, const char *cat, const char *m) :\
          baseClass (id,cat,m) {}                                             \
        thisClass::thisClass (const char *cat, const char *m) :               \
        baseClass (cat,m) {} 
        
        	    

// This method is for the native throw, to setup the error object properly
// and return it for the throw. This method cannot be inherited because
// the signature of the throw will always be the base class!
/** @nodoc */
#define CAT_IMPLEMENT_SETUP(thisClass)				\
	thisClass *thisClass::Setup (const char *file, int line)\
	{							\
	    CATError::Setup (file, line);			\
	    return this;					\
	}

//
// Should be removed
//
/** @nodoc */
#define CAT_IMPLEMENT_CLONESELF(thisClass)			\
	CATError *thisClass::CloneSelf ()			\
	{							\
	    thisClass *obj = new thisClass (*this);		\
	    return (CATError *) obj;				\
	}

//
// Return the error table
//
/** @nodoc */
#define CAT_IMPLEMENT_GETMESSAGETABLE(thisClass)		\
	void thisClass::GetErrorTable (unsigned int *len,	\
				       const CATErrDsc **table)	\
	{							\
	    *len = errorTableLength;				\
	    *table = errorTable;				\
	}


#endif
</div>
    
    <div class="navigation">
        <div><a href="CATErrorDef.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATErrorDef.h</a></div>
        <div><a href="CATErrorMacros.html">‰∏ã‰∏ÄÈ°µ: CATErrorMacros.h ‚Üí</a></div>
    </div>
</body>
</html>