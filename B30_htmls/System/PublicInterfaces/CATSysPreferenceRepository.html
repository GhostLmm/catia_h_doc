<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System/PublicInterfaces/CATSysPreferenceRepository.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>System/PublicInterfaces/CATSysPreferenceRepository.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATSysParamMap.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATSysParamMap.h</a></div>
        <div><a href="CATSysSettingController.html">‰∏ã‰∏ÄÈ°µ: CATSysSettingController.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATSYSPREFERENCEREPOSITORY_H
#define CATSYSPREFERENCEREPOSITORY_H

// COPYRIGHT DASSAULT SYSTEMES 2003

/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */

#include &quot;JS0SETT.h&quot;
#include &quot;CATEventSubscriber.h&quot;
#include &quot;CATCallbackManager.h&quot;
#include &quot;CATLib.h&quot;
#include &quot;CATDataType.h&quot;

class CATString;
class CATUnicodeString;
class CATDLName;
class CATSettingInfo;
class CATSettingRepository;


/**
 * Maximun length for  the name of the Repositories and their attributes.
 */
#define MAXSETTINGNAME 255
/**
 * @nodoc 
 */
#define MAXSETTINGPATH  CATMaxPathSize




/**
 * Class for managing the user&#x27;s preferences.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: CATSysPreferenceRepositories manage aggregates of attributes
 * that are used to store and retrieve values and parameters set by the user. 
 * They are stored between working sessions in one preference file. 
 * &lt;p&gt;
 * Each CATSysPreferenceRepository has a unique name used by the application to 
 * access it. Each attribute within one CATSysPreferenceRepository is identified
 * by its name and type. 
 * &lt;p&gt;
 * Setting attributes can store the values of simple types such as integers or
 * floats. In addition, a marshallable object should be saved as a setting 
 * attribute with less or no impact on the application. 
 * &lt;p&gt;
 * A CATSysPreferenceRepository instance can be saved in memory for temporary storage
 * using a commit/rollback mechanism, and in a file for persistent storage. 
 */
class ExportedByJS0SETT CATSysPreferenceRepository : public CATEventSubscriber
{
public:

/**
 * Creates a CATSysPreferenceRepository.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Creates the unique instance of the class CATSysPreferenceRepository
 * named with the given argument. If a setting file exists, it is read.
 * @param iPrefName
 *	The name of the CATSysPreferenceRepository used by the applications 
 *	to retrieve it.
*/
  static CATSysPreferenceRepository* GetPreferenceRepository( const char* iPrefName);


/** @nodoc */
  static CATSysPreferenceRepository* GetPreferenceRepositoryEx( const char* iPrefName);

/** @nodoc */
  virtual ~CATSysPreferenceRepository();

 

/**
 * Retrieves the value of a setting attribute.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Retrieves using its name, the value of an attribute 
 * constituted by one CATBaseUnknown. A pointer on a intialized and constructed
 * object of type CATBaseUnknown must be given as argument, because this object 
 * is used to set the default value of the attribute, if it does not yet exist. 
 * In this last case the method calls WritePreference () to initialize the setting
 * attribute.
 * @param iSettingName
 *	The name of the attribute to be retrieved or created.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or 
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	A pointer on an initialized CATBaseUnknow. If the attribute has not
 *	been yet created, then &lt;tt&gt;ioSetting&lt;/tt&gt; is used as default, otherwise
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; is overwritten by the retrieved value.
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Success 
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 ReadPreference(const char* iSettingName, CATBaseUnknown * ioSetting);

/**
 * Sets the value of a setting attribute.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets the value of an attribute of type CATBaseUnknown
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than
 *	or equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	An initialized CATBaseUnknow. 
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Success
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 WritePreference(const char* iSettingName, CATBaseUnknown *iSetting);


/**
 * Retrieves the value of a setting attribute which is an array of CATBaseUnknown.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Retrieves using its name, the values of each element of the
 * array constituting an attribute. The array is defined as an array of pointers on 
 * constructed CATBaseUnknown, because it is used to set the default value of 
 * the attribute, if it does not yet exist. In this last case the method calls
 * WritePreference () to initialize the setting attribute.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than
 *	or equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of pointers on initialized CATBaseUnknow.
 *	If the attribute has not been yet created, then the elements of
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are used as default values, otherwise the elements of 
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are overwritten by the retrieved values.
 * @param iSize
 *	The number of elements to read.
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;&gt;0:&lt;/tt&gt;  on Success returns the number of elements really read
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 ReadPreference(const char* iSettingName, CATBaseUnknown ** ioSetting, 
			   CATLONG32 iSize);

/**
 * Sets the value of a setting attribute which is an array of CATBaseUnknown.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets the values of each element of the array constituting the
 * attribute. The array is defined as an array of pointers on constructed 
 * CATBaseUnknown.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of pointeur on initialized CATBaseUnknow.
 * @param iSize
 *	The size of the array.
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Success
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 WritePreference(const char* iSettingName, CATBaseUnknown **iSetting, 
			    CATLONG32 iSize);



/**
 * Retrieves the value of a setting attribute.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Retrieves using its name, the value of an attribute 
 * constituted by one CATString. A pointer on a intialized and constructed 
 * object of type CATString must be given as argument, because this object is 
 * used to set the default value of the attribute, if it does not yet exist. 
 * In this last case the method calls WritePreference () to initialize the settings 
 * attribute.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	A pointer on a construted CATString. If the attribute has not
 *	been yet created, then &lt;tt&gt;ioSetting&lt;/tt&gt; is used as default values,
 *	otherwise &lt;tt&gt;ioSetting&lt;/tt&gt; is overwritten by the retrieved value.
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Success
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 ReadPreference(const char* iSettingName, CATString * ioSetting);

/**
 * Sets the value of a setting attribute.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets the value of an attribute of type CATString
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than
 *	or equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	pointer on a constructed CATString. 
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Success
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 WritePreference(const char* iSettingName, CATString * iSetting);



/**
 * Retrieves the value of a setting attribute which is an array of CATString.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Retrieves using its name, the values of each element of the 
 * array constituting an attribute. The array is defined as an array of pointers 
 * on constructed CATString, because it is used to set the default value of 
 * the attribute, if it does not yet exist. In this last case the method calls
 * WritePreference () to initialize the setting attribute.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or 
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of pointeur on constructed CATString.
 *	If the attribute has not been yet created, then the elements of
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are used as default values, otherwise the elements of 
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are overwritten by the retrieved values.
 * @param iSize
 *	The number of elements to read
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;&gt;0:&lt;/tt&gt;  on Success returns the number of elements really read
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 ReadPreference(const char* iSettingName, CATString ** ioSetting, 
			   CATLONG32 iSize);

/**
 * Sets the value of a setting attribute which is an array of CATString.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets the values of each element of the array constituting the
 * attribute. The array is defined as an array of pointers on constructed 
 * CATString.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or 
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of pointeur on initialized CATString.
 * @param iSize
 *	The size of the array.
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Success
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 WritePreference(const char* iSettingName, CATString ** iSetting, 
			    CATLONG32 iSize);


 
/**
 * Retrieves the value of a setting attribute.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Retrieves using its name, the value of an attribute 
 * constituted by one CATUnicodeString. A pointer on a intialized and constructed
 * object of type CATUnicodeString must be given as argument, because this object
 * is used to set the default value of the attribute, if it does not yet exist.
 * In this last case the method calls WritePreference () to initialize the setting 
 * attribute.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	A pointer on a construted CATString. 
 *	If the attribute has not been yet created, then &lt;tt&gt;ioSetting&lt;/tt&gt;
 *	is used as default value, otherwise &lt;tt&gt;ioSetting&lt;/tt&gt; is overwritten 
 *	by the retrieved value.
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Succes
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 ReadPreference(const char* iSettingName, CATUnicodeString * ioSetting);

/**
 * Sets the value of a setting attribute.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets the value of an attribute of type CATUnicodeString
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or 
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	pointer on a constructed CATUnicodeString. 
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Success
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 WritePreference(const char* iSettingName, CATUnicodeString * iSetting);



/**
 * Retrieves the value of a setting attribute which is an array of 
 * CATUnicodeString.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Retrieves using its name, the values of each element of the
 * array constituting an attribute. The array is defined as an array of pointers on 
 * constructed CATUnicodeString, because it is used to set the default value of 
 * the attribute, if it does not yet exist. In this last case the method calls
 * WritePreference () to initialize the setting attribute.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than 
 *	or equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of pointeur on constructed CATUnicodeString.
 *	If the attribute has not been yet created, then the elements of
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are used as default values, otherwise the elements of 
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are overwritten by the retrieved values.
 * @param iSize
 *	The number of elements to read.
 * @return 
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;&gt;0:&lt;/tt&gt;  on Success returns the number of elements really read
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 ReadPreference(const char* iSettingName, CATUnicodeString ** ioSetting, 
			   CATLONG32 iSize);

/**
 * Sets the value of a setting attribute which is an array of CATUnicodeString.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets the values of each element of the array constituting the
 * attribute. The array is defined as an array of pointers on constructed 
 * CATUnicodeString.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of pointeur on initialized CATUnicodeString.
 * @param iSize
 *	The size of the array.
 * @return 
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Success
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 WritePreference(const char* iSettingName, CATUnicodeString ** iSetting, 
			    CATLONG32 iSize);
  


/**
 * Retrieves the value of a setting attribute which is an array of char.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Retrieves using its name, the values of each element of the
 * array constituting an attribute. The array is defined as an array of initialized
 * char because it is used to set the default value of the attribute, if it does
 * not yet exist. In this last case the method calls WritePreference () to initialize 
 * the setting attribute.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or 
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of initialized char.
 *	If the attribute has not been yet created, then the elements of
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are used as default values, otherwise the elements of 
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are overwritten by the retrieved values.
 * @param iLength
 *	The number of elements to read.
 * @return 
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;&gt;0:&lt;/tt&gt;  on Success returns the number of elements really read
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 ReadPreference( const char* iSettingName, char * ioSetting, 
			    CATLONG32 iLength=1);


/**
 * Sets the value of a setting attribute which is an array of chars.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets the values of each element of the array constituting the
 * attribute. The array is defined as an array of initialized char.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of initialized chars.
 * @param iLength
 *	The size of the array.
 * @return 
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Success
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 WritePreference( const char* iSettingName, char *iSetting, 
			     CATLONG32 iLength=1);



/**
 * Retrieves the value of a setting attribute which is an array of doubles.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Retrieves using its name, the values of each element of the 
 * array constituting an attribute. The array is defined as an array of 
 * initialized doubles because it is used to set the default value of the 
 * attribute, if it does not yet exist. In this last case the method calls
 * WritePreference () to initialize the setting attribute.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or 
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of initialized doubles.
 *	If the attribute has not been yet created, then the elements of
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are used as default values, otherwise the elements of 
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are overwritten by the retrieved values.
 * @param iLength
 *	The number of elements to read.
 * @return 
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;&gt;0:&lt;/tt&gt;  on Success returns the number of elements really read
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 ReadPreference(const char* iSettingName, double * ioSetting,
			   CATLONG32 iLength=1);

/**
 * Sets the value of a setting attribute which is an array of doubles.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets the values of each element of the array constituting the
 * attribute. The array is defined as an array of initialized doubles.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of initialized doubles.
 * @param iLength
 *	The size of the array.
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Success
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 WritePreference(const char* iSettingName, double *iSetting, 
			    CATLONG32 iLength=1);


/**
 * Retrieves the value of a setting attribute which is an array of floats.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Retrieves using its name, the values of each element of the 
 * array constituting an attribute. The array is defined as an array of initialized 
 * floats because it is used to set the default value of the attribute, if it 
 * does not yet exist. In this last case the method calls WritePreference () to 
 * initialize the setting attribute.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or 
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of initialized floats.
 *	If the attribute has not been yet created, then the elements of
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are used as default values, otherwise the elements of 
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are overwritten by the retrieved values.
 * @param iLength
 *	The number of elements to read.
 * @return 
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;&gt;0:&lt;/tt&gt;  on Success returns the number of elements really read
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 ReadPreference(const char* iSettingName, float * ioSetting, 
			   CATLONG32 iLength=1);

/**
 * Sets the value of a setting attribute which is an array of floats.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets the values of each element of the array constituting the
 * attribute. The array is defined as an array of initialized floats.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or 
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of initialized floats.
 * @param iLength
 *	The size of the array.
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Success
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 WritePreference(const char* iSettingName, float *iSetting, 
			    CATLONG32 iLength=1);


/**
 * Retrieves the value of a setting attribute which is an array of ints.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Retrieves using its name, the values of each element of the 
 * array constituting an attribute. The array is defined as an array of initialized 
 * ints because it is used to set the default value of the attribute, if it 
 * does not yet exist. In this last case the method calls WritePreference () to 
 * initialize the setting attribute.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of initialized ints.
 *	If the attribute has not been yet created, then the elements of
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are used as default values, otherwise the elements of 
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are overwritten by the retrieved values.
 * @param iLength
 *	The number of elements to read.
 * @return 
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;&gt;0:&lt;/tt&gt;  on Success returns the number of elements really read
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
 */
  CATLONG32 ReadPreference(const char* iSettingName, int * ioSetting, 
			   CATLONG32 iLength=1);

/**
 * Sets the value of a setting attribute which is an array of ints.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets the values of each element of the array constituting the
 * attribute. The array is defined as an array of initialized ints.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of initialized ints.
 * @param iLength
 *	The size of the array.
 * @return 
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Success
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 WritePreference(const char* iSettingName, int * iSetting, 
			    CATLONG32 iLength=1);



/**
 * @nodoc 
 * 64 bits
 * Retrieves the value of a setting attribute which is an array of longs.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Retrieves using its name, the values of each element of the
 * array constituting an attribute. The array is defined as an array of initialized 
 * longs because it is used to set the default value of the attribute, if it 
 * does not yet exist. In this last case the method calls WritePreference () to 
 * initialize the setting attribute.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or 
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of initialized longs.
 *	If the attribute has not been yet created, then the elements of
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are used as default values, otherwise the elements of 
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are overwritten by the retrieved values.
 * @param iLength
 *	The number of elements to read.
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;&gt;0:&lt;/tt&gt;  on Success returns the number of elements really read
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 ReadPreference(const char* iSettingName, long * ioSetting, 
			   CATLONG32 iLength=1);

/**
 * @nodoc 
 * 64 bits
 * Sets the value of a setting attribute which is an array of longs.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets the values of each element of the array constituting the
 * attribute. The array is defined as an array of initialized longs.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of initialized longs.
 * @param iLength
 *	The size of the array.
 * @return 
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Success
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 WritePreference(const char* iSettingName, long * iSetting, 
			    CATLONG32 iLength=1);


/**
 * Retrieves the value of a setting attribute which is an array of shorts.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Retrieves using its name, the values of each element of the 
 * array constituting an attribute. The array is defined as an array of initialized 
 * shorts because it is used to set the default value of the attribute, if it 
 * does not yet exist. In this last case the method calls WritePreference () to 
 * initialize the setting attribute.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or 
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of initialized shorts.
 *	If the attribute has not been yet created, then the elements of
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are used as default values, otherwise the elements of 
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are overwritten by the retrieved values.
 * @param iLength
 *	The number of elements to read.
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;&gt;0:&lt;/tt&gt;  on Success returns the number of elements really read
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 ReadPreference(const char* iSettingName, short * ioSetting, 
			   CATLONG32 iLength=1);

/**
 * Sets the value of a setting attribute which is an array of shorts.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets the values of each element of the array constituting the
 * attribute. The array is defined as an array of initialized shorts.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of initialized shorts.
 * @param iLength
 *	The size of the array.
 * @return 
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Success
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 WritePreference(const char* iSettingName, short *iSetting, 
			    CATLONG32 iLength=1);



/**
 * Retrieves the value of a setting attribute which is an array of unsigned ints.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Retrieves using its name, the values of each element of the 
 * array constituting an attribute. The array is defined as an array of initialized 
 * unsigned ints because it is used to set the default value of the attribute, 
 * if it does not yet exist. In this last case the method calls WritePreference () to 
 * initialize the setting attribute.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of initialized unsigned ints.
 *	If the attribute has not been yet created, then the elements of
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are used as default values, otherwise the elements of 
 *	&lt;tt&gt;ioSetting&lt;/tt&gt; are overwritten by the retrieved values.
 * @param iLength
 *	The number of elements to read.
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;&gt;0:&lt;/tt&gt;  on Success returns the number of elements really read
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 ReadPreference(const char* iSettingName, unsigned int* ioSetting, 
			   CATLONG32 iLength=1);

/**
 * Sets the value of a setting attribute which is an array of unsigned ints.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Sets the values of each element of the array constituting the
 * attribute. The array is defined as an array of initialized unsigned ints.
 * @param iSettingName
 *	The name of the attribute to be set.
 *	&lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or
 *	equal to  @href MAXSETTINGNAME.
 * @param ioSetting
 *	an array of initialized unsigned ints.
 * @param iLength
 *	The size of the array.
 * @return 
 *	&lt;b&gt;Legal values&lt;/b&gt;:
 *	&lt;br&gt;&lt;tt&gt;1 :&lt;/tt&gt;  on Success
 *	&lt;br&gt;&lt;tt&gt;0  :&lt;/tt&gt;  if a class conflict on the attribute has occured.
 * 	&lt;br&gt;&lt;tt&gt;-1:&lt;/tt&gt;  on failure
*/
  CATLONG32 WritePreference(const char* iSettingName, unsigned int* iSetting, 
			    CATLONG32 iLength=1);
 



  


/**
 * Makes a persistent copy of the CATsettingRepository on file.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Makes first a persistent copy of the CATsettingRepository 
 * in Memory by calling @href #Commit , then writes on file the persistent 
 * representation
 * @param iReserved
 *	reserved for internal use. Not to be used.
 * @return
 * &lt;b&gt;Legal values&lt;/b&gt; 0 on Success, otherwise negative.
*/
  HRESULT SaveRepository(const char* iReseved=NULL); 
 

/**
 * Restores a previous persistent copy of the CATSysPreferenceRepository in Memory.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Restores the persistent memory copy of the 
 * CATSysPreferenceRepository, done by the lastest call to @href #Commit .
 * All modifications that have occured on any attributes of the 
 * CATSysPreferenceRepository, since the lastest call to Commit,  are discarded.
 * @return
 * &lt;b&gt;Legal values&lt;/b&gt; S_OK on Success, otherwise negative.
*/
  HRESULT Rollback();


/**
 * Makes a persistent copy of the CATSysPreferenceRepository in Memory.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Makes a persistent copy of the CATSysPreferenceRepository in Memory
 * The values of the attributes could be restore after that by doing a call to
 * @href #Rollback. 
 * @return
 * &lt;b&gt;Legal values&lt;/b&gt; S_OK on Success, otherwise -1.
*/
  HRESULT Commit(); 


/**
 * Indicates the existence of a given attribute.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Searches within the CATSysPreferenceRepository for an attribute
 * named &lt;tt&gt;iAttributeName&lt;/tt&gt; and of type &lt;tt&gt;iAttributeClass&lt;/tt&gt;.
 * @param iAttributeName
 *	The name of the attribute to be set.
 *	&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or equal 
 *	to @href MAXSETTINGNAME.
 * @param iAttributeClass
 *	The type of the requested attribute, that could be &quot;int&quot;, &quot;float&quot;,...
 * @return
 *	the number of elements constituting the attribute, otherwise negative.
*/
  CATLONG32 IsPresent( const char *iAttributeName ,const char *iAttributeClass );
  

/**
 * Removes a given preference.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Removes in the CATSysPreferenceRepository the attribute
 * named &lt;tt&gt;iAttributeName&lt;/tt&gt;.
 * @param iAttributeName
 *	The name of the attribute to be removed.
 *	&lt;b&gt;Legal values&lt;/b&gt;: The length of the string must be less than or equal 
 *	to @href MAXSETTINGNAME.
 * @return
 * &lt;b&gt;Legal values&lt;/b&gt; 0 on Success, otherwise negative.
*/
  HRESULT DelPreference(const char *iAttributeName);
  
 
/**
 * Browses the CATSysPreferenceRepository.
 * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Returns the Name, the type and the number of constituting 
 * elements of an attribute. The strings are copied but their allocation
 * must be done by the caller. 
 * @param oAttributeName
 *	a pointer to an allocated buffer where the attribute&#x27;s name will be copied
 * @param oAttributeClass
 *	a pointer to an allocated buffer where the attribute&#x27;s type will be copied
 * @param oAttributeSize
 *	a pointer to a integer to put the number of constituting elements
 * @param iReset
 *	iReset = 1 forces to begin with the first Attribute,reseting the state
 *	reached with the last call to this method, otherwise 0
 * @return
 *	&lt;b&gt;Legal values&lt;/b&gt; 0 until reaching the last Attribute and returning 
 *      -1 when the last attribute is reached
*/
  CATLONG32 NextAttribute( char *oAttributeName, char *oAttributeClass, 
			   CATLONG32 *oAttributeSize,
			   short iReset = 0); 


  


private: 
/** @nodoc */
  CATSysPreferenceRepository ();
/** @nodoc */
  CATSettingRepository * _Pref;
/** @nodoc */
  static CATSysPreferenceRepository * _RootPref;
/** @nodoc */
  CATSysPreferenceRepository * _Next;
/** @nodoc */
  CATSysPreferenceRepository * _Prev;
  
}; 



#endif





</div>
    
    <div class="navigation">
        <div><a href="CATSysParamMap.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATSysParamMap.h</a></div>
        <div><a href="CATSysSettingController.html">‰∏ã‰∏ÄÈ°µ: CATSysSettingController.h ‚Üí</a></div>
    </div>
</body>
</html>