<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FeatureModelerExt/PublicInterfaces/CATIFmFeatureBehaviorCustomization.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>FeatureModelerExt/PublicInterfaces/CATIFmFeatureBehaviorCustomization.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATFmStartUpFacade.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATFmStartUpFacade.h</a></div>
        <div><a href="CATOmbObjectInContext.html">‰∏ã‰∏ÄÈ°µ: CATOmbObjectInContext.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">
#ifndef __CATIFmFeatureBehaviorCustomization_h__
#define __CATIFmFeatureBehaviorCustomization_h__


// COPYRIGHT DASSAULT SYSTEMES 2010

/**
 * @CAA2Level L1
 * @CAA2Usage U4 CATFmFeatureCustomizationAdaptor
 */


// FeatureModelerExt forwards and headers.
class CATFmCCPContext;
#include &quot;FeatureModelerExt.h&quot; // ExportedByFeatureModelerExt

// Other forwards and headers.
class CATListValCATBaseUnknown_var;
#include &quot;CATBaseUnknown.h&quot;
#include &quot;CATSysBoolean.h&quot; // CATBoolean


extern ExportedByFeatureModelerExt IID IID_CATIFmFeatureBehaviorCustomization;

/**
 * Interface to implement user defined behaviors.
 * &lt;p&gt;Refer to the CAA Encyclopedia Feature Modeler pages, and more specifically the articles:&lt;ul&gt;
 * &lt;li&gt;Understanding Delete Protocol Customization&lt;/li&gt;
 * &lt;li&gt;Cut, Copy Paste Customization&lt;/li&gt;
 * &lt;li&gt;Understanding Update &lt;/li&gt;&lt;/ul&gt;
 * before implementing this interface on the Late Types of your StartUps.&lt;/p&gt;
 * &lt;p&gt;&lt;b&gt;Usage restriction&lt;/b&gt;: This interface is U4 only because no specific value exist for interface that must only be implemented.
 * &lt;br&gt;Application or not allowed to query or use this Interface on any objects but their own.&lt;/p&gt;
 * &lt;p&gt;&lt;b&gt;BOA information&lt;/b&gt;: This interface must be implemented using the BOA (Basic Object Adapter).
 * To know more about the BOA, refer to the CAA Encyclopedia home page. Several articles deal with the BOA.&lt;/p&gt;
 */
class ExportedByFeatureModelerExt CATIFmFeatureBehaviorCustomization : public CATBaseUnknown
{
  CATDeclareInterface;
public:

  // 1. Removal.

  /**
   * Retrieves the deletability of a Feature from its application owner perspective.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Services and algorithms may invoke this method to check if the removal of an applicative Feature is legitimate.
   * &lt;p&gt;Override it to let the caller know if he should proceed with the removal. If this method is not overriden, the default rule is to allow the deletion
   * of all Features that are not aggregated, and refuse the deletion of any aggregated Feature.&lt;/p&gt;
   * &lt;p&gt;Warnings:&lt;ul&gt;
   * &lt;li&gt;This method is intended to be called at any time, even when the model MUST NOT be modified. DO NOT alter or try to alter the model.&lt;/li&gt;
   * &lt;li&gt;Not all services or algorithms invoke and check the result of this method.
   * &lt;br&gt; @href CATFmFeatureFacade#DeleteSelf is an example of a function that will not invoke this check.
   * Since only the owner of the Feature can successfuly invoke the method &lt;tt&gt;DeleteSelf&lt;/tt&gt;, the removal is done under
   * the owner&#x27;s responsibility and will not invoke this &lt;tt&gt;CanBeRemoved&lt;/tt&gt; method that is also implemented by the Feature owner.&lt;/li&gt;&lt;/ul&gt;&lt;/p&gt;
   * @param oDeletable [out]
   *   Whether or not the Feature deletion is legitimate within the application design.
   * @return
   *   An HRESULT value.
   *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
   *   &lt;dl&gt;
   *     &lt;dt&gt;S_OK&lt;/dt&gt;
   *     &lt;dd&gt;oDeletable has been valuated.&lt;/dd&gt;
   *     &lt;dt&gt;E_FAIL&lt;/dt&gt;
   *     &lt;dd&gt;Otherwise. How the removal process will handle this failure is currently unspecified.&lt;/dd&gt;
   *     &lt;dt&gt;E_NOTIMPL&lt;/dt&gt;
   *     &lt;dd&gt;This method has been implemented only for C++ reasons, the default behavior being correct for the current Feature.
   *       &lt;br&gt;This return code is not considered as a failure, the value of the output parameter is ignored
   *       and the process continues using only the default behavior.
   *       &lt;br&gt;This is the value returned by the CATFmFeatureCustomizationAdaptor method.&lt;/dd&gt;
   *   &lt;/dl&gt;
   */
  virtual HRESULT CanBeRemoved(CATBoolean &amp; oDeletable) const = 0;

  /**
   * Performs additional applicative clean-up at a Feature removal.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This method is invoked on each feature when its logical removal is just beginning.
   * &lt;br&gt;Override this method to perform additional model alteration related to the object removal,
   * like the deletion of a singleton Feature that will become useless after the removal of the last Feature that used the singleton.
   * &lt;br&gt;All the components (recursively) of the current feature will be deleted automatically. This is the default behavior.
   * &lt;br&gt;Warnings:&lt;ul&gt;
   * &lt;li&gt;This method is not intended to be used to stop/prevent the removal. DO NOT try to stop/prevent the removal.&lt;/li&gt;
   * &lt;li&gt;This method is not called during a document removal (either Close, Unload...) or undo/redo operations.&lt;/li&gt;&lt;/ul&gt;
   * @return
   *   An HRESULT value.
   *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
   *   &lt;dl&gt;
   *     &lt;dt&gt;S_OK&lt;/dt&gt;
   *     &lt;dd&gt;The clean-up has been performed successfuly.&lt;/dd&gt;
   *     &lt;dt&gt;E_FAIL&lt;/dt&gt;
   *     &lt;dd&gt;Otherwise. How the removal process will handle this failure is currently unspecified.&lt;/dd&gt;
   *     &lt;dt&gt;E_NOTIMPL&lt;/dt&gt;
   *     &lt;dd&gt;This method has been implemented only for C++ reasons, the default behavior being sufficient for the current Feature.
   *       &lt;br&gt;This return code is not considered as a failure, the value of the output parameter is ignored
   *       and the process continues using only the default behavior.
   *       &lt;br&gt;This is the value returned by the CATFmFeatureCustomizationAdaptor method.&lt;/dd&gt;
   *   &lt;/dl&gt;
   */
  virtual HRESULT BeforeRemove() = 0;


  // 2. Update.

  /**
   * Generates the result of a Feature for the Update.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: The build is launched by the Update Engine, after the Feature inputs (sp_in attributes) have been updated.
   * &lt;br&gt;Override this method to compute the result of the Feature.
   * &lt;br&gt;In the implementation:
   * &lt;ul&gt;&lt;li&gt;The Update Behavior or values of sp_IN attributes must not be changed.
   *         This would cause a reimpact, leaving the feature outdated after the Update&lt;/li&gt;
   *     &lt;li&gt;The values of sp_OUT attributes, if any, can be changed.&lt;/li&gt;&lt;/ul&gt;
   * @return
   *   An HRESULT value.
   *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
   *   &lt;dl&gt;
   *     &lt;dt&gt;S_OK&lt;/dt&gt;
   *     &lt;dd&gt;The build succeeded.&lt;/dd&gt;
   *     &lt;dt&gt;E_FAIL&lt;/dt&gt;
   *     &lt;dd&gt;Otherwise (the Update process is then aborted).&lt;/dd&gt;
   *     &lt;dt&gt;E_NOTIMPL&lt;/dt&gt;
   *     &lt;dd&gt;This method has been implemented only for C++ reasons, the current Feature is not expected to be involved in an Update process.
   *       &lt;br&gt;How the Update process will handle this failure is currently unspecified.
   *       &lt;br&gt;If the current Feature is to be involved in an Update process, override this method and return S_OK even if nothing speecific must be done.&lt;/dd&gt;
   *   &lt;/dl&gt;
   */
  virtual HRESULT Build() = 0;


  // 3. CCP.

  /**
   * Computes the list of objects to take part in a Copy operation.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Override this method to provide a list of additional objects that need to be copied along with the current Feature.
   * &lt;br&gt;All the components and extensions (both recursively) of the current feature will necessarily be copied.
   * This cannot be prevented and is considered as the default behavior. Adding components of the current feature is useless and may slow down the process.
   * &lt;br&gt;Warning: this method is intended to be called at any time, even when the model MUST NOT be modified. DO NOT alter or try to alter the model.
   * @param iInitialSetOfObjects [in]
   *   The set of objects intially selected to be duplicated by the Copy operation.
   * @param oObjectToAddToBoundary [out]
   *   The additional objects that must also be copied and must be included in the Copy algorithm.
   * @return
   *   An HRESULT value.
   *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
   *   &lt;dl&gt;
   *     &lt;dt&gt;S_OK&lt;/dt&gt;
   *     &lt;dd&gt;The operation succeeded.&lt;/dd&gt;
   *     &lt;dt&gt;E_FAIL&lt;/dd&gt;
   *     &lt;dd&gt;Otherwise (the Copy/Paste process is then aborted).&lt;/dd&gt;
   *     &lt;dt&gt;E_NOTIMPL&lt;/dt&gt;
   *     &lt;dd&gt;This method has been implemented only for C++ reasons, the default behavior being sufficient for the current Feature.
   *       &lt;br&gt;This return code is not considered as a failure, the value of the output parameter is ignored
   *       and the process continues using only the default behavior.
   *       &lt;br&gt;This is the value returned by the CATFmFeatureCustomizationAdaptor method.&lt;/dd&gt;
   *   &lt;/dl&gt;
   */
  virtual HRESULT CcpRegisterAdditionalObjectsForCopy(const CATListValCATBaseUnknown_var &amp; iInitialSetOfObjects, CATListValCATBaseUnknown_var &amp; oObjectToAddToBoundary) const = 0;

  /**
   * Integrates the created objects in their environment.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Override this method to perform modification to the clone structure to adapt it to its new context.
   * &lt;br&gt;Modifications to be performed in this method are for example the invalidation of a computed cache or result stored in an
   * attribute value, or manage refrences to a singleton.
   * &lt;br&gt;The deletion of any &quot;copy&quot; is to be avoided as it could prevent correct rerouting of links among the &quot;copies&quot; and lead to a corrupted model.
   * &lt;br&gt;This method will be invoked on all &quot;copy&quot; Features, once all the copies have been created.
   * A link set on a Feature that has been copied to itself or to another Feature also copied will be rerouted to reference the copy of its original target.
   * This cannot be prevented and is considered as the default behavior.
   * &lt;br&gt;Warnings:&lt;ul&gt;
   *   &lt;li&gt;This method has nothing to do with the Update mechanism and is not related to the @href #Build method described here-above.&lt;/li&gt;
   *   &lt;li&gt;The order in which the &quot;copies&quot; will be updated is not part of the specfication; any behavior, even repeatedly observed, may vary across
   *   runs, platforms or releases. No assumption must be made about an implicit order, no algorithm may depend on it.&lt;/li&gt;
   *   &lt;li&gt;This method is intended to be called at times when the model is not necessarily fully consistent from the involved applications point of view.
   *   This method is invoked iteratively on many object. The final &quot;Paste&quot; step that links the copies to the targets has not yet been started.
   *   No operation that has impacts the model beyond the application control (such as an @href CATFMFeatureFacade#Update ) shall be done.&lt;/li&gt;&lt;/ul&gt;
   * @param iContext [in]
   *   An object describing the context of the operation and providing additional inputs required to implement the method.
   * @return
   *   An HRESULT value.
   *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
   *   &lt;dl&gt;
   *     &lt;dt&gt;S_OK&lt;/dt&gt;
   *     &lt;dd&gt;The operation succeeded.&lt;/dd&gt;
   *     &lt;dt&gt;E_FAIL&lt;/dd&gt;
   *     &lt;dd&gt;Otherwise (the Copy/Paste process is then aborted).&lt;/dd&gt;
   *     &lt;dt&gt;E_NOTIMPL&lt;/dt&gt;
   *     &lt;dd&gt;This method has been implemented only for C++ reasons, the default behavior being sufficient for the current Feature.
   *       &lt;br&gt;This return code is not considered as a failure, the process continues using only the default behavior.
   *       &lt;br&gt;This is the value returned by the CATFmFeatureCustomizationAdaptor method.&lt;/dd&gt;
   *   &lt;/dl&gt;
   * @see CATFmCCPContext
   */
  virtual HRESULT CcpUpdate(const CATFmCCPContext &amp; iContext) = 0;

  /**
   * Creates the link between the copies and the paste targets.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Override this method to implement the final step of the paste operation.
   * &lt;br&gt;This method will be invoked on the target Features, once all the copies have been created and updated.
   * Depending on the applicative modelization, a link or aggregation link may have to be set between the Paste target(s) and the created copies.
   * The default behavior is to do nothing.
   * @param iContext [in]
   *   An object describing the context of the operation and providing additional inputs required to implement the method.
   * @return
   *   An HRESULT value.
   *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
   *   &lt;dl&gt;
   *     &lt;dt&gt;S_OK&lt;/dt&gt;
   *     &lt;dd&gt;The operation succeeded.&lt;/dd&gt;
   *     &lt;dt&gt;E_FAIL&lt;/dt&gt;
   *     &lt;dd&gt;Otherwise (the Paste process is then aborted).&lt;/dd&gt;
   *     &lt;dt&gt;E_NOTIMPL&lt;/dt&gt;
   *     &lt;dd&gt;This method has been implemented only for C++ reasons, the default behavior being sufficient for the current Feature.
   *       &lt;br&gt;This return code is not considered as a failure, the process continues using only the default behavior.
   *       &lt;br&gt;This is the value returned by the CATFmFeatureCustomizationAdaptor method.&lt;/dd&gt;
   *   &lt;/dl&gt;
   * @see CATFmCCPContext
   */
  virtual HRESULT CcpPaste(const CATFmCCPContext &amp; iContext) = 0;


  /**
   * Computes the list of objects to take part in a Cut operation.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Override this method to provide a list of additional objects that need to be deleted along with the current Feature.
   * &lt;br&gt;All the components and extensions (both recursively) of the current feature will necessarily be deleted.
   * This cannot be prevented and is considered as the default behavior. Adding components of the current feature is useless and may slow down the process.
   * &lt;br&gt;Note: Some implementations of the interactive Delete command are also based on the Cut algorithm internally.
   * &lt;br&gt;Warning: this method is intended to be called at any time, even when the model MUST NOT be modified. DO NOT alter or try to alter the model.
   * @param iInitialSetOfObjects [in]
   *   The set of objects intially selected to be suppressed by the Cut operation.
   * @param oObjectToAddToBoundary [out]
   *   The additional objects that must also be deleted and must be included in the Cut algorithm.
   * @return
   *   An HRESULT value.
   *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
   *   &lt;dl&gt;
   *     &lt;dt&gt;S_OK&lt;/dt&gt;
   *     &lt;dd&gt;The operation succeeded.&lt;/dd&gt;
   *     &lt;dt&gt;E_FAIL&lt;/dt&gt;
   *     &lt;dd&gt;Otherwise (the Cut/Delete process is then aborted).&lt;/dd&gt;
   *     &lt;dt&gt;E_NOTIMPL&lt;/dt&gt;
   *     &lt;dd&gt;This method has been implemented only for C++ reasons, the default behavior being sufficient for the current Feature.
   *       &lt;br&gt;This return code is not considered as a failure, the value of the output parameter is ignored
   *       and the process continues using only the default behavior.
   *       &lt;br&gt;This is the value returned by the CATFmFeatureCustomizationAdaptor method.&lt;/dd&gt;
   *   &lt;/dl&gt;
   */
  virtual HRESULT CcpRegisterAdditionalObjectsForRemove(const CATListValCATBaseUnknown_var &amp; iInitialSetOfObjects, CATListValCATBaseUnknown_var &amp; oObjectToAddToBoundary) const = 0;

};


#endif // __CATIFmFeatureBehaviorCustomization_h__

</div>
    
    <div class="navigation">
        <div><a href="CATFmStartUpFacade.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATFmStartUpFacade.h</a></div>
        <div><a href="CATOmbObjectInContext.html">‰∏ã‰∏ÄÈ°µ: CATOmbObjectInContext.h ‚Üí</a></div>
    </div>
</body>
</html>