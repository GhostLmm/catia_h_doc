<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FeatureModelerExt/PublicInterfaces/CATFmContainerFacade.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>FeatureModelerExt/PublicInterfaces/CATFmContainerFacade.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATFmCatalogFacade.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATFmCatalogFacade.h</a></div>
        <div><a href="CATFmContainerServices.html">‰∏ã‰∏ÄÈ°µ: CATFmContainerServices.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">
#ifndef __CATFmContainerFacade_h__
#define __CATFmContainerFacade_h__


// COPYRIGHT DASSAULT SYSTEMES 2010

/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */


// FeatureModelerExt forwards and headers.
class CATFmFeatureIterator;
#include &quot;CATFmCredentials.h&quot;
#include &quot;FeatureModelerExt.h&quot; // ExportedByFeatureModelerExt

// Other forwards and headers.
class CATBaseUnknown;
class CATBaseUnknown_var;
#include &quot;CATDataType.h&quot; // CATUINTPTR
#include &quot;CATSysBoolean.h&quot; // CATBoolean
#include &quot;IUnknown.h&quot; // HRESULT, IID


/**
 * Class representing a Feature Container.
 * &lt;b&gt;Role&lt;/b&gt;: This class is a Facade object providing access to a Feature Container, according to the provided Accreditations.
 * &lt;br&gt;It gathers in a single place all operations defined at the Feature Modeler level that can be performed on a Feature Container.
 * &lt;p&gt;&lt;b&gt;Lifecycle&lt;/b&gt; information.&lt;br&gt;
 *   The recommended usage is to create Facades as local variables in functions and methods bodies.&lt;br&gt;
 *   Facades expose methods such as @href CATFmFeatureFacade#DeleteSelf and @href CATFmStartUpFacade#Instantiate that can explicitly change the life
 *   cycle of objects they reference, but the mere existence of a Facade should not implicitely influence the life cycle (either logical or C++) of
 *   the object it is bound to. Consequently Facades use weak references to ensure secure operation: attempts to access deleted objects will safely fail.
 *   Facades are then not really intended to be used as global variables or class member data. The life cycle of Facades should not extend
 *   beyond the scope of the function in which they have been created, and cannot be used safely to store a reference to an object over an extended
 *   duration. Most notably, while the correct comparison (see @href CATBaseUnknown#IsEqual ) of 2 &lt;tt&gt;AddRef&lt;/tt&gt;&#x27;d pointers can descriminate
 *   between two pointers to the same Logically deleted object and two pointers to the distinct Logically deleted objects,the comparison of 2 Facades
 *   does not provide this ability.&lt;br&gt;
 *   Refer to the CAA Encyclopedia Feature Modeler pages to learn how to manage the Life Cycle of your objects.&lt;/p&gt;
 * &lt;p&gt;&lt;b&gt;Access Control&lt;/b&gt; information.&lt;br&gt;
 *   Interactions with Feature Modeler entities, either read-only or read+write, are subject to authorization.&lt;br&gt;
 *   On a Facade with no (or insufficient) Accreditations only the methods related to the Facade binding will succeed.
 *   Such a Facade can most notably be used as an output parameter for a method like @href CATFmFeatureFacade#GetContainerFacade
 *   to retrieve immediatly a pointer to the Feature Container through @href #GetContainer or @href #QueryInterfaceOnContainer .
 *   All other methods, i.e. those for wich E_ACCESSDENIED is a legal return value, will fail.&lt;br&gt;
 *   To be allowed to create Feature Containers, instantiate its own Features in a Feature Container and scan a Feature Container for
 *   its own Features, an application must be registered as being based on Feature Modeler.&lt;/p&gt;
 * @see CATFmCredentials .
 */
class ExportedByFeatureModelerExt CATFmContainerFacade
{
public:

  /**
   * Constructs an empty Feature Container Facade.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This constructor creates a Facade with no Accreditation and not bound to any Feature Container.
   * &lt;br&gt;Only the assignment operator can affect the Accreditations Set of a Facade after its construction.
   */
  CATFmContainerFacade();

  /**
   * Constructs a Feature Container Facade.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This constructor creates a Facade with the provided Accreditations Set and not bound to any Feature Container.
   * @param iAccreditations [in]
   *   The Accreditations Set obtained by the application.
   *   Refer to the Access Control section of the @href CATFmContainerFacade class documentation.
   *   &lt;br&gt;Only the assignment operator can affect the Accreditations Set of a Facade after its construction.
   *   &lt;br&gt;&lt;b&gt;Lifecycle&lt;/b&gt;: A Facade keeps a copy of the Accreditations Set. Any change in &lt;tt&gt;iAccreditations&lt;/tt&gt;
   *   (RegisterAsCatalogOwner ...) performed after the Facade creation will not affect the Facade.
   */
  CATFmContainerFacade(const CATFmCredentials &amp; iAccreditations);

  /**
   * Constructs a Feature Container Facade.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This constructor creates a Facade with the provided Accreditations Set and bound to a Feature Container.
   * @param iAccreditations [in]
   *   The Accreditations Set obtained by the application.
   *   Refer to the Access Control section of the @href CATFmContainerFacade class documentation.
   *   &lt;br&gt;Only the assignment operator can affect the Accreditations Set of a Facade after its construction.
   *   &lt;br&gt;&lt;b&gt;Lifecycle&lt;/b&gt;: A Facade keeps a copy of the Accreditations Set. Any change in &lt;tt&gt;iAccreditations&lt;/tt&gt;
   *   (RegisterAsCatalogOwner ...) performed after the Facade creation will not affect the Facade.
   * @param iContainer [in]
   *   Any interface on the Container, as a &lt;tt&gt;CATBaseUnknown&lt;/tt&gt; pointer.
   *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:&lt;ul&gt;
   *     &lt;li&gt;NULL&lt;/li&gt;
   *     &lt;li&gt;Any interface pointer on a Feature Container.&lt;/li&gt;&lt;/ul&gt;
   *   Any other value, such as an interface on an object that is not a Feature Container, will be handled like a NULL pointer.
   *   &lt;br&gt;&lt;b&gt;Lifecycle&lt;/b&gt;: Refer to the Lifecycle section of the @href CATFmContainerFacade class documentation.
   */
  CATFmContainerFacade(const CATFmCredentials &amp; iAccreditations, CATBaseUnknown * iContainer);

  /**
   * Destructor.
   */
  ~CATFmContainerFacade();


  // Required standard C++ methods.

  /**
   * Copy constructor.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This method creates an exact copy of a Feature Container Facade.
   * @param iContainerFacade [in]
   *   The Facade to copy.
   */
  CATFmContainerFacade(const CATFmContainerFacade &amp; iContainerFacade);

  /**
   * Assignment operator.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This method transforms this Facade to an exact copy of another Feature Container Facade.
   * &lt;br&gt;Both the Credentials and the bound Feature Container are copied.
   * @param iContainerFacade [in]
   *   The Facade to copy.
   */
  CATFmContainerFacade &amp; operator=(const CATFmContainerFacade &amp; iContainerFacade);


  // 0. Facades common methods.

  /**
   * Binds the Facade to a Feature Container.
   * &lt;br&gt;This method does not affect the Accreditations Set of the Facade.
   * @param iContainer [in]
   *   Any interface pointer to the Container as a &lt;tt&gt;CATBaseUnknown&lt;/tt&gt; pointer.
   *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:&lt;ul&gt;
   *     &lt;li&gt;NULL&lt;/li&gt;
   *     &lt;li&gt;Any interface pointer on a Feature Container.&lt;/li&gt;&lt;/ul&gt;
   *   Any other value, such as an interface on an object that is not a Feature Container, will be handled like a NULL pointer.
   *   &lt;br&gt;&lt;b&gt;Lifecycle&lt;/b&gt;: Refer to the Lifecycle section of the @href CATFmContainerFacade class documentation.
   * @return
   *   This Facade.
   */
  CATFmContainerFacade &amp; operator=(CATBaseUnknown * iContainer);

  /**
   * Compares the bound Feature Container(s) of two Facades.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: compares the bound Feature Container(s) of two Facades without taking the Accreditations into account.
   * &lt;br&gt;An Feature Container is valid if and only has neither been Logically deleted nor unloaded.
   * @param iContainerFacade [in]
   *   The Feature Container Facade to be compared to this.
   * @return
   *   An integer value.
   *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
   *   &lt;ul&gt;&lt;li&gt;&lt;tt&gt;TRUE&lt;/tt&gt;: if the Facades are either both invalid or both bound to the same valid Feature Container.&lt;/li&gt;
   *       &lt;li&gt;&lt;tt&gt;FALSE&lt;/tt&gt;: in any other case.&lt;/li&gt;&lt;/ul&gt;
   */
  CATBoolean CompareContainerWith(const CATFmContainerFacade &amp; iContainerFacade) const;

  /**
   * Checks the Facade validity.
   * &lt;br&gt;A Feature Container Facade is valid if and only if it is bound to a Feature Container that has neither been Logically deleted nor unloaded.
   * @return
   *   An integer value.
   *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
   *   &lt;ul&gt;&lt;li&gt;&lt;tt&gt;TRUE&lt;/tt&gt;: if the Facade is valid.&lt;/li&gt;
   *       &lt;li&gt;&lt;tt&gt;FALSE&lt;/tt&gt;: if the Facade is invalid.&lt;/li&gt;&lt;/ul&gt;
   */
  CATBoolean IsValid() const;

  /**
   * Logical-negation (or logical-NOT) operator.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Checks if the Facade is invalid.
   * &lt;br&gt;A Feature Container Facade is valid if and only if it is bound to a Feature Container that has neither been Logically deleted nor unloaded.
   * @return
   *   An integer value.
   *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
   *   &lt;ul&gt;&lt;li&gt;&lt;tt&gt;1&lt;/tt&gt;: if the Facade is invalid.&lt;/li&gt;
   *       &lt;li&gt;&lt;tt&gt;0&lt;/tt&gt;: if the Facade is valid.&lt;/li&gt;&lt;/ul&gt;
   */
  int operator!() const;

  /**
   * Unbinds the Facade from its bound Feature Container.
   * &lt;br&gt;This method does not affect the Accreditations Set of the Facade.
   * @return
   *   This Facade.
   */
  CATFmContainerFacade &amp; Clear();

  /**
   * Retrieves the bound Feature Container through a user specified interface pointer.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Use to query Applicative Modeler level interfaces on the bound Feature Container.
   * @param iIID [in]
   *   The interface identifier for which a pointer is requested.
   * @param oPPV [out, CATBaseUnknown#Release]
   *   The address where the returned pointer to the interface is located.
   * @return
   *   An HRESULT value.
   *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
   *   &lt;dl&gt;
   *     &lt;dt&gt;S_OK&lt;/dt&gt;
   *     &lt;dd&gt;The query succeeds.&lt;/dd&gt;
   *     &lt;dt&gt;E_NOINTERFACE&lt;/dt&gt;
   *     &lt;dd&gt;The interface does not exist.&lt;/dd&gt;
   *     &lt;dt&gt;E_FAIL&lt;/dt&gt;
   *     &lt;dd&gt;The object is not valid.&lt;/dd&gt;
   *     &lt;dt&gt;E_OUTOFMEMORY&lt;/dt&gt;
   *     &lt;dd&gt;A memory allocation failed.&lt;/bb&gt;
   *     &lt;dt&gt;E_UNEXPECTED&lt;/dt&gt;
   *     &lt;dd&gt;The query failed for any other reason.&lt;/dd&gt;
   *   &lt;/dl&gt;
   * @see CATBaseUnknown#QueryInterface .
   */
  HRESULT QueryInterfaceOnContainer(const IID &amp; iIID, void ** oPPV) const;

  /**
   * Returns the bound Feature Container through a CATBaseUnknown smart pointer.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: Use to retrieve an Applicative Modeler level interface on the bound Feature Container through smart pointers.
   * @return
   *   A smart pointer to the Feature Container.
   *   &lt;br&gt;Warning: the exact type of the interface returned as a &lt;tt&gt;CATBaseUnknown&lt;/tt&gt; pointer
   *   is not part of the specification and may vary. Do not make any assumption about it.
   */
  CATBaseUnknown_var GetContainer() const;


  // 1. Content iterators.

  /**
   * Scans the bound Container for Root Features.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This method fills an iterator with the Root Features found in a Container. &quot;Root&quot; Features are not-aggregated Features.
   * &lt;br&gt;An application declared as being based on Feature Modeler will be able to find the Features defined in its registered catalogs (according
   * to the provided Accreditations Set).
   * @param oIterator [out]
   *   A (caller provided) Iterator that will be filled with the Features of this Container.
   *   &lt;br&gt;If the method fails &lt;tt&gt;oIterator&lt;/tt&gt; is not modified, it is otherwise overwritten with the retrieved value.
   * @return
   *   An HRESULT value.
   *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
   *   &lt;dl&gt;
   *     &lt;dt&gt;S_OK&lt;/dt&gt;
   *     &lt;dd&gt;The Iterator has been successfuly populated.&lt;/dd&gt;
   *     &lt;dt&gt;E_ACCESSDENIED&lt;/dt&gt;
   *     &lt;dd&gt;Credentials do not grant access to this Feature Container.&lt;/dd&gt;
   *     &lt;dt&gt;E_INVALIDARG&lt;/dt&gt;
   *     &lt;dd&gt;Facade is not bound to a valid Container.&lt;/dd&gt;
   *     &lt;dt&gt;E_FMNOTLOADED&lt;/dt&gt;
   *     &lt;dd&gt;This Container is not loaded.&lt;/dd&gt;
   *     &lt;dt&gt;Other&lt;/dt&gt;
   *     &lt;dd&gt;Another failure has occured.&lt;/dd&gt;
   *  &lt;/dl&gt;
   * @see CATFmFeatureIterator .
   */
  HRESULT ScanRootFeatures(CATFmFeatureIterator &amp; oIterator);

  /**
   * Scans the bound Container for Features.
   * &lt;br&gt;&lt;b&gt;Role&lt;/b&gt;: This method fills an iterator with the Features found in a Container, either Root or not. &quot;Root&quot; Features are not-aggregated Features.
   * &lt;br&gt;An application declared as being based on Feature Modeler will be able to find the Features defined in its registered catalogs (according
   * to the provided Accreditations Set).
   * @param oIterator [out]
   *   A (caller provided) Iterator that will be filled with the Features of this Container.
   *   &lt;br&gt;If the method fails &lt;tt&gt;oIterator&lt;/tt&gt; is not modified, it is otherwise overwritten with the retrieved value.
   * @return
   *   An HRESULT value.
   *   &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
   *   &lt;dl&gt;
   *     &lt;dt&gt;S_OK&lt;/dt&gt;
   *     &lt;dd&gt;The Iterator has been successfuly populated.&lt;/dd&gt;
   *     &lt;dt&gt;E_ACCESSDENIED&lt;/dt&gt;
   *     &lt;dd&gt;Credentials do not grant access to this Feature Container.&lt;/dd&gt;
   *     &lt;dt&gt;E_INVALIDARG&lt;/dt&gt;
   *     &lt;dd&gt;Facade is not bound to a valid Container.&lt;/dd&gt;
   *     &lt;dt&gt;E_FMNOTLOADED&lt;/dt&gt;
   *     &lt;dd&gt;This Container is not loaded.&lt;/dd&gt;
   *     &lt;dt&gt;Other&lt;/dt&gt;
   *     &lt;dd&gt;Another failure has occured.&lt;/dd&gt;
   *  &lt;/dl&gt;
   * @see CATFmFeatureIterator .
   */
  HRESULT ScanFeatures(CATFmFeatureIterator &amp; oIterator);

private:
  CATUINTPTR m_Data[2];
};


#endif // __CATFmContainerFacade_h__

</div>
    
    <div class="navigation">
        <div><a href="CATFmCatalogFacade.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATFmCatalogFacade.h</a></div>
        <div><a href="CATFmContainerServices.html">‰∏ã‰∏ÄÈ°µ: CATFmContainerServices.h ‚Üí</a></div>
    </div>
</body>
</html>