<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAADoc/CAAManufacturingItf.edu/CAAMaiUserToolDatabaseCustomization.m/LocalInterfaces/CAAEMaiUserToolDatabaseCustomization.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>CAADoc/CAAManufacturingItf.edu/CAAMaiUserToolDatabaseCustomization.m/LocalInterfaces/CAAEMaiUserToolDatabaseCustomization.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="../../CAAMaiUserPostProcessorIntegration.m/LocalInterfaces/CAAIMaiUserPostProcessorIntegrationUUID.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CAAIMaiUserPostProcessorIntegrationUUID.h</a></div>
        <div><a href="../../IdentityCard/IdentityCard.html">‰∏ã‰∏ÄÈ°µ: IdentityCard.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">// COPYRIGHT DASSAULT SYSTEMES 2000
// ===================================================================
//
// CAAEMaiUserToolDatabaseCustomization:
//
// Sample code for : Manufacturing Modeler
// Mission         : Customize the Tool Database access
//
// ===================================================================

#ifndef CAAEMaiUserToolDatabaseCustomization_h
#define CAAEMaiUserToolDatabaseCustomization_h

// System Framework
#include &quot;CATBaseUnknown.h&quot;   // for inheritance
#include &quot;CATListOfInt.h&quot;     // for List of Integers
#include &quot;CATListOfDouble.h&quot;  // for List of Doubles
#include &quot;CATListOfCATUnicodeString.h&quot; // for List of CATUnicodeString
#include &quot;CATUnicodeString.h&quot;  // for CATUnicodeString management
#include &quot;CATIDocId.h&quot;    // for CATIDocId management

// Motherinterface of CATIMfgResourceQueryUserDatabase
#include &quot;CATIMfgResourceQuery.h&quot;
#include &quot;CATBaseUnknown.h&quot;

class CAAEMaiUserToolDatabaseCustomization : public CATBaseUnknown
{
  CATDeclareClass;

  public: 
    
	// Constructor and Destructor
	//------------------------------------------------
	CAAEMaiUserToolDatabaseCustomization();
	virtual ~CAAEMaiUserToolDatabaseCustomization();
	
	// This method allows to make connection to the database
	//----------------------------------------------------------------------
	virtual HRESULT InitConnection ();
	
	// This method allows to reset connection to the database
	//----------------------------------------------------------------------
	virtual HRESULT ResetConnection ();
	
	// This method allows to define the names that will be displayed
	// in the Tool Selection panel combo &quot;Look in&quot;
	//----------------------------------------------------------------------
	virtual HRESULT GetNamesToDisplay  (CATListOfCATUnicodeString &amp;oListNames);
	
	// This method allows to initialize the database query
	//----------------------------------------------------------------------
	virtual HRESULT Initialize (const CATUnicodeString &amp;iName, 
								              const CATUnicodeString &amp;iType);


/**
 * Defines the type of resource on which we want to add constraints.
 * Only used for Tool Assembly queries
 * @param iResourceType
 *     The type of resource (MfgTool or MfgInsert).
 * @param iFamily
 *     The family of the resource (MfgEndMillTool, MfgRoundInsert...), defined in 
 *     CATMfgToolConstant &amp; CATMfgInsertConstant
 */
   virtual HRESULT AddSubComponentTypeConstraint (CATIMfgResourceQuery::MfgResourceQueryType  iResourceType,
                                                  const CATUnicodeString                     &amp;iFamily);

	// This method allows to add a constraint on the name of the tool to search
	// A like condition will be defined 
	// (ex: search tool where name like %ID%)
	//----------------------------------------------------------------------
	virtual HRESULT AddNameLikeConstraint  (const CATUnicodeString   &amp;iValue,
                                          CATIMfgResourceQuery::MfgResourceQueryType iResourceType=CATIMfgResourceQuery::MfgCurrent);
	
	// This method allows to add a constraint on the nominal diameter of the tool
	// to search. A between condition will be defined 
	// (ex: search tool where nominal diameter between 10.0mm and 15.0mm)
	//----------------------------------------------------------------------
	virtual HRESULT AddDiameterBetweenConstraint (const double             &amp;iMinValue,
												                        const double             &amp;iMaxValue,
										                            const CATUnicodeString   &amp;iUnit,
                                                CATIMfgResourceQuery::MfgResourceQueryType iResourceType=CATIMfgResourceQuery::MfgCurrent);
	
	// This method allows to add a constraint on the integer type parameters
	// on the tool to search. 
	// Legal values for iOperator:
  // 0:Equal
	// 1:Not Equal
	// 2:Less
	// 3:Greater
	// 4:Less or Equal
	// 5:Greater Or Equal
	// 6:Not Less
	// 7:Not Greater
	// (ex: search tool where number of flutes = 5)
	//----------------------------------------------------------------------
	virtual HRESULT AddConstraint (const CATUnicodeString   &amp;iAttribute, 
								                 const int                &amp;iOperator,
								                 const int                &amp;iValue,
                                 CATIMfgResourceQuery::MfgResourceQueryType iResourceType=CATIMfgResourceQuery::MfgCurrent);
	
	// This method allows to add a constraint on the double type parameters
	// on the tool to search. 
	// Legal values for iOperator:
    // 0:Equal
	// 1:Not Equal
	// 2:Less
	// 3:Greater
	// 4:Less or Equal
	// 5:Greater Or Equal
	// 6:Not Less
	// 7:Not Greater
	// (ex: search tool where nominal diameter &gt;= 10.00 mm)
	//----------------------------------------------------------------------
	virtual HRESULT AddConstraint (const CATUnicodeString   &amp;iAttribute, 
								                 const int                &amp;iOperator,
								                 const double             &amp;iValue,
								                 const CATUnicodeString   &amp;iUnit,
                                 CATIMfgResourceQuery::MfgResourceQueryType iResourceType=CATIMfgResourceQuery::MfgCurrent);
	
	// This method allows to add a constraint on the string type parameters
	// on the tool to search. 
	// Legal values for iOperator:
    // 0:Equal
    // 10:Like
	// (ex: search tool where name == &quot;Identifier&quot;)
	//----------------------------------------------------------------------
	virtual HRESULT AddConstraint  (const CATUnicodeString   &amp;iAttribute, 
								                  const int                &amp;iOperator,
								                  const CATUnicodeString   &amp;iValue,
                                  CATIMfgResourceQuery::MfgResourceQueryType iResourceType=CATIMfgResourceQuery::MfgCurrent);
	
	// This method allows to add several constraints 
	// on the tool to search. 
	// Defines several constraints for query on a specific attribute.
	// (ex: search tool where nominal diameter == 10.0mm or nominal diameter == 15.00mm)
	//----------------------------------------------------------------------
	virtual HRESULT AddConstraints (const CATUnicodeString            &amp;iAttribute, 
									                const CATUnicodeString            &amp;iUnit,
								                  const int                         &amp;iTypeValue,
                                  const CATListOfInt                &amp;iOperators,
                                  const CATListOfInt                &amp;iIntValues,
                                  const CATListOfDouble             &amp;iDblValues,
                                  const CATListOfCATUnicodeString   &amp;iStrValues,
                                  const CATListOfInt                &amp;iLogLinks,
                                  CATIMfgResourceQuery::MfgResourceQueryType iResourceType=CATIMfgResourceQuery::MfgCurrent);
	
	// This method allows to execute the query in database
	//----------------------------------------------------------------------
	virtual HRESULT Execute();
	
	// This method allows to read the number of tools matching the query
	//----------------------------------------------------------------------
	virtual HRESULT GetResultSize(int &amp;NbElem,
                                CATIMfgResourceQuery::MfgResourceQueryType iResourceType=CATIMfgResourceQuery::MfgCurrent);
	
	// This method allows to read the description of a given record in database
	//----------------------------------------------------------------------
	virtual HRESULT GetDescription (const int                  &amp;iElem, 
					 			                  CATListOfCATUnicodeString  &amp;oAttributes, 
                                  CATListOfInt               &amp;oTypeValues, 
                                  CATListOfInt               &amp;oNbValues,
                                  CATListOfInt               &amp;oIntValues,
                                  CATListOfDouble            &amp;DblValues, 
                                  CATListOfCATUnicodeString  &amp;StrValues,
                                  CATIMfgResourceQuery::MfgResourceQueryType iResourceType=CATIMfgResourceQuery::MfgCurrent);

/**
 * Retrieves the Tool or Insert name defined on the tool assembly, and its index.
 * @param iNumElem
 *    integer representating the index of the tool assembly
 * @param oCompName
 *    The component name
 * @param oCompNumElem
 *    integer representing the index of the tool assembly component,
 *    use GetDescription with same MfgResourceQueryType and this index to get its values
 * @param iResourceType
 *    type of resources to retrieve (MfgTool or MfgInsert)
 */
   virtual HRESULT GetComponentNameAndIndex(const int        &amp;iNumElem,
                                            CATUnicodeString &amp;oCompName,
                                            int              &amp;oCompNumElem,
                                            CATIMfgResourceQuery::MfgResourceQueryType iResourceType=CATIMfgResourceQuery::MfgCurrent);

	// This method allows to read the representaion of a given tool in database
	//-------------------------------------------------------------------------
	virtual HRESULT GetRepresentation  (const int         &amp;iElem,
  								                    CATUnicodeString  &amp;oPathName,
                                      CATIMfgResourceQuery::MfgResourceQueryType iResourceType=CATIMfgResourceQuery::MfgCurrent);

	// This method allows to read the representaion of a given tool in database
	//-------------------------------------------------------------------------
	virtual HRESULT GetRepresentation  (const int         &amp;iElem,
  								                    CATIDocId         *&amp;oDocId,
																			CATIMfgResourceQuery::MfgResourceQueryType iResourceType=CATIMfgResourceQuery::MfgCurrent);

/**
 * Retrieves the correctors information.
 * @param iElem
 *     The object number 
 * @param oListPoints       : List of type point as CATUnicodeString (Ex: P1, ..., P9) 
 * @param oListNumber       : List of corrector number as Integer 
 * @param oListLengthNumber : List length Corrector number as Integer 
 * @param oListRadiusNumber : List radius Corrector number as Integer 
 * @param oListDiameter     : List tool diameter for this point as Double 
 */
   virtual HRESULT GetCorrectors (const int                 &amp;iElem,
                                  CATListOfCATUnicodeString &amp;oListPoints,
                                  CATListOfInt              &amp;oListNumber,
                                  CATListOfInt              &amp;oListLengthNumber,
                                  CATListOfInt              &amp;oListRadiusNumber,
                                  CATListOfDouble           &amp;oListDiameter,
                                  CATIMfgResourceQuery::MfgResourceQueryType iResourceType=CATIMfgResourceQuery::MfgCurrent);

/**
 * Instanciate the resource in the document.
 * @param iElem
 *     The object number 
 * @param hBUResources
 *     The handler on the created resource
 * @param piDoc
 *     The CATDocument where the resource has to be instantiated
 */
   virtual HRESULT InstantiateResourceInDocument (const int          &amp;iElem,
                                                  CATBaseUnknown_var &amp;hBUResources,
                                                  CATIMfgResourceQuery::MfgResourceQueryType iResourceType=CATIMfgResourceQuery::MfgCurrent,
                                                  CATDocument *piDoc = NULL);

  private:
	
	// Copy constructor
	//-------------------------------------------------------------------------
  CAAEMaiUserToolDatabaseCustomization(const CAAEMaiUserToolDatabaseCustomization &amp;iObjectToCopy);
    
	
	CATUnicodeString _Type, _Name;
};

#endif


</div>
    
    <div class="navigation">
        <div><a href="../../CAAMaiUserPostProcessorIntegration.m/LocalInterfaces/CAAIMaiUserPostProcessorIntegrationUUID.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CAAIMaiUserPostProcessorIntegrationUUID.h</a></div>
        <div><a href="../../IdentityCard/IdentityCard.html">‰∏ã‰∏ÄÈ°µ: IdentityCard.h ‚Üí</a></div>
    </div>
</body>
</html>