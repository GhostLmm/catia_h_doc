<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAADoc/CAAVisualization.edu/CAAVisBasics.m/LocalInterfaces/CAAVisBaseApplication.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>CAADoc/CAAVisualization.edu/CAAVisBasics.m/LocalInterfaces/CAAVisBaseApplication.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="../../CAAVisBasicAppli.m/LocalInterfaces/CAAVisBasicWindow.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CAAVisBasicWindow.h</a></div>
        <div><a href="CAAVisBaseApplicationFrame.html">‰∏ã‰∏ÄÈ°µ: CAAVisBaseApplicationFrame.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CAAVisBaseApplication_h
#define CAAVisBaseApplication_h

// COPYRIGHT DASSAULT SYSTEMES 2000

//=============================================================================
//  Abstract of the sample:
//  ----------------------
//
//  Sample demonstrating the basic Visualization functionnalities. These
//  functionnalities can be divided into two parts:
//
//  I. Visualizing graphical representations
//
//    - Creating a viewer into a document
//    - Creating graphical representations from an existing tessellation
//    - Managing levels of details for graphical representations on your own
//    - Adding a graphical representation to a viewer/viewpoint
//    - Creating a render
//    - Modifying the viewpoint.
//
//  II. Manipulating visualized graphical representations
//
//    - Attaching a manipulator to a graphical representation
//    - Manipulating graphical representations using manipulators
//    - Attaching an indicator to a viewer
//    - Activating the multiselection by trap selection
//    - Decoding information held by a manipulator&#x27;s event.
//  
//===========================================================================
//  Usage:
//  ------
//
//  Type:
//    CAAVisBase
//
//  A frame with a menu bar is displayed. This
//  frame is a multi document frame. A default document
//  is opened: it displays a 3D viewer containing a 3D torus.
//
//===========================================================================
//  Abstract of the class:
//  ----------------------
//
//  Application class.
//
//  This is the main object in the process. It avoids writing a main function.
//  The event loop is managed automatically by deriving from 
//  CATInteractiveApplication. 
//  It contains the ignition and end steps.
//
//===========================================================================
//  Inheritance:
//  ------------
//           CAAVisBaseApplication
//             CATInteractiveApplication (Dialog Framework)
//               CATApplication (System Framework)
//
//===========================================================================
//  Main Method:
//  ------------
//
//  BeginApplication: Contains the whole application code.
//  EndApplication
//
//===========================================================================


//Dialog Framework
#include &quot;CATInteractiveApplication.h&quot;

//Visualization Framework
#include &quot;list.h&quot;

//Local Framework
class CAAVisBaseDocument; //Our documents base class
class CAAVisBaseApplicationFrame;

//Visualization Framework
class CAT3DBagRep;
class CAT3DManipulator;

class CAAVisBaseApplication : public CATInteractiveApplication
{
public:

  // Constructs the application
  CAAVisBaseApplication();
  
  virtual ~CAAVisBaseApplication();

  //Build and destroy the application
  virtual void BeginApplication();

  //Returns the application return code.
  virtual int EndApplication();

private:

  // Copy constructor, not implemented
  // Set as private to prevent from compiler automatic creation as public.
  CAAVisBaseApplication(const CAAVisBaseApplication &amp;iObjectToCopy);

  // Assignment operator, not implemented
  // Set as private to prevent from compiler automatic creation as public.
  CAAVisBaseApplication &amp; operator = (const CAAVisBaseApplication &amp;iObjectToCopy);

  // Opens a new CAAVisBaseCGRDocument. The data
  // is read from the indicated CGR file.
  // Parameters
  //   iFileName
  //     The CGR file name.
  void OpenCGR(const char *iFileName);
  
  // Inserts a model in the active document.
  // Parameters
  //   iFileName
  //     The file name of the CGR file from
  //     which the model to insert is read.
  void InsertModel(const char *iFileName);
  
  // Renders the bounding boxes on the active
  // document&#x27;s scene.
  // Parameters
  //   iTemChecked
  //     Indicates whether the &quot;BE Render&quot; check item
  //     was checked or unchecked.
  //     Legal values :
  //       0 Unchecked
  //       1 Checked
  void RenderBE(int iItemChecked);

  // Reframes the active document&#x27;s viewpoint
  void Reframe();

  // Modifies the viewpoint parameters
  void ModifyViewpoint();

  // Adds or remove manipulator onto the active document&#x27;s scene
  // Parameters
  //   iTemChecked
  //     Indicates whether we must
  //     add or remove manipulator
  //     Legal values :
  //       0 remove
  //       1 add
  void AddManipulator(int iItemChecked);

  // Called when the Exit is asked.
  // Deletes all elements manipulated in this application
  //
  void DestroyApplicationObjects();

  // Creates the frame&#x27;s layout:
  // - A menu bar:
  //     - A File menu
  //     - A Render menu
  //     - A Viewpoint menu
  void CreateLayout();
  
  // Multi Documents related callback
  void AddMDICallbacks(CAAVisBaseDocument *iDocument);

  //Removes callbacks added.
  void RemoveMDICallbacks(CAAVisBaseDocument *iDocument);

  // Multi Documents related callback
  void WindowMDICB(CATCallbackEvent   iEvent,
                   void              *iPublisher,
                   CATNotification   *iNotification,
                   CATSubscriberData  iData,
                   CATCallback        iCallbackId);

  //When a window is activated.
  void OnWindowActivated(CAAVisBaseDocument *iDocument);

  //Warns the application that a window
  //is being closed. The associated document
  //must be deleted.
  void OnDeleteWindow(CAAVisBaseDocument *iDocument);

  //Inserts a graphical representation read from a CGR file into
  //the active document.
  void InsertCB         (CATCommand *iPublisher, CATNotification *iNotification, CATCommandClientData  iData);

  //Opens a CGR file in a new document.
  void OpenCB           (CATCommand *iPublisher, CATNotification *iNotification, CATCommandClientData  iData);

  //Renders the bounding boxes on the active document&#x27;s scene.
  void RenderBECB       (CATCommand *iPublisher, CATNotification *iNotification, CATCommandClientData  iData);

  //Reframes the active document&#x27;s scene.
  void ReframeCB        (CATCommand *iPublisher, CATNotification *iNotification, CATCommandClientData  iData);

  //Modifies the active document&#x27;s main 3D viewpoint parameters, thanks to a dialog box.
  void ModifyViewpointCB(CATCommand *iPublisher, CATNotification *iNotification, CATCommandClientData  iData);

  //To exit the application
  void ExitCB           (CATCommand *iPublisher, CATNotification *iNotification, CATCommandClientData  iData);

  //When the viewpoint is modified through the CAAVisBaseViewpointDlg dialog box
  void NewViewpointCB   (CATCommand *iPublisher, CATNotification *iNotification, CATCommandClientData  iData);

  //When the &quot;Manipulator&quot; push item is activated:
  void ManipulatorCB    (CATCommand *iPublisher, CATNotification *iNotification, CATCommandClientData  iData);

  //When the manipulator is manipulated
  void OnManipulateCB   (CATCommand *iPublisher, CATNotification *iNotification, CATCommandClientData  iData);
  
  //VisuObjects creation
  void CreateObjectCB   (CATCommand *iPublisher, CATNotification *iNotification, CATCommandClientData  iData);
  
private:

  //Frame 
  CAAVisBaseApplicationFrame *_pApplicationFrame;

  //Pointer to the current active document
  CAAVisBaseDocument *_pActiveDoc;
  
  //Opened documents list
  list&lt;CAAVisBaseDocument&gt; _Documents;
  
  //Active document index
  int _ActiveDocIndex;
  
  //List of bag reps containing the bounding boxes
  //of every opened documents
  list&lt;CAT3DBagRep&gt; _BoxesBags;

  //Manipulators. One potential manipulator by opened
  //document.
  list&lt;CAT3DManipulator&gt; _Manipulators;
  
};

#endif
</div>
    
    <div class="navigation">
        <div><a href="../../CAAVisBasicAppli.m/LocalInterfaces/CAAVisBasicWindow.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CAAVisBasicWindow.h</a></div>
        <div><a href="CAAVisBaseApplicationFrame.html">‰∏ã‰∏ÄÈ°µ: CAAVisBaseApplicationFrame.h ‚Üí</a></div>
    </div>
</body>
</html>