<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CATAnalysisBase/PublicInterfaces/CATSamAxis.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>CATAnalysisBase/PublicInterfaces/CATSamAxis.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATSam1DSpaceList.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATSam1DSpaceList.h</a></div>
        <div><a href="CATSamCharacVersion.html">‰∏ã‰∏ÄÈ°µ: CATSamCharacVersion.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">// COPYRIGHT DASSAULT SYSTEMES  1999
//=============================================================================
//
// CATSamAxis
//
//=============================================================================
//
// Usage Notes: axis information of a collector characteristic
//
//=============================================================================
// Juin 99   Creation                                                  JND, LBK
//=============================================================================
#ifndef CATSamAxis_H_
#define CATSamAxis_H_

#include &quot;CATSAM0Explicit.h&quot;
#include &quot;CATSamExplicitRoot.h&quot;
#include &quot;CATAnalysisExplicitTypes.h&quot;

#include &quot;CATListOfCATUnicodeString.h&quot;

class CATSamStream;
class CATSamDimensionHandler;

class CATMathVector;
class CATSamBasicAxis;
class CATSamDimension;
class CATMath3x3Matrix;
/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */

/**
 * Definition of the axis system information of a collector characteristic.
 * It defines the axis system orientations for each position, repeat and lamina.&lt;br&gt;
 * &lt;br&gt;
 * &lt;b&gt;Public member :&lt;/b&gt;
 * &lt;ul&gt;
 * &lt;pre&gt;&lt;li&gt;int * const PublicWorkPtr&lt;/pre&gt;
 *   A pointer to a public work area.
 * &lt;/ul&gt;
 */
class ExportedByCATSAM0Explicit CATSamAxis : public CATSamExplicitRoot
{
  public :
/**
 * Default constructor.
 */
    CATSamAxis();

/**
 * Constructs and initializes a &lt;b&gt;CATSamAxis&lt;/b&gt; object with an instance of a &lt;b&gt;CATSamDimension&lt;/b&gt;.&lt;br&gt;
 * The instance is initialized with the members NbPosition, NbRepeat, NbLamina and NbSMI of the &lt;b&gt;CATSamDimension&lt;/b&gt; object.
 * @param iDimension
 *   The &lt;b&gt;CATSamDimension&lt;/b&gt; instance used to initialize the &lt;b&gt;CATSamAxis&lt;/b&gt;.
 * @see CATSamDimension
 */ 
    CATSamAxis(const CATSamDimension* iDimension) ;

/**
 * Copy constructor.
 */
    CATSamAxis(const CATSamAxis &amp; iAxis);

/**
 * Destructor.
 */
    virtual ~CATSamAxis() ;

/**
 * Assignment operator.
 */
    CATSamAxis &amp;operator = (const CATSamAxis &amp;iAxis) ;

/**
 * Dumps the contents of the object.
 * @param oListOfString
 *   The List of CATUnicodeString.
 * @param iIndent
 *   The indentation level (one level represents 3 spaces).
 * @param iRecurse
 *   The number of recursion levels.
 * @param iLoopSize
 *   The size of loops.
 */
    void Dump(CATListValCATUnicodeString* oListOfString, int iIndent = 0, int iRecurse = 1, int iLoopSize = 10) const ;

/**
 * Dumps the contents of the object.
 * @param iIndent
 *   The indentation level (one level represents 3 spaces).
 * @param iRecurse
 *   The number of recursion levels.
 * @param iLoopSize
 *   The size of loops.
 */
    void Dump(int iIndent = 0, int iRecurse = 1, int iLoopSize = 10) const ;

/**
 * Initializes a &lt;b&gt;CATSamAxis&lt;/b&gt; object with an instance of a &lt;b&gt;CATSamDimension&lt;/b&gt;.&lt;br&gt;
 * The instance is initialized with the members NbPosition, NbRepeat, NbLamina and
 * NbSMI of the &lt;b&gt;CATSamDimension&lt;/b&gt; object.
 * @param iDimension
 *   The &lt;b&gt;CATSamDimension&lt;/b&gt; instance used to initialize the &lt;b&gt;CATSamAxis&lt;/b&gt;.
 * @see CATSamDimension
 */ 
    HRESULT Initialize(const CATSamDimension* iDimension) ;


/**
 * Sets the definition of the axis for a position and a repeat in the position.&lt;br&gt;
 * The coordinates of the Uaxis, Vaxis and Waxis vectors are computed in order
 * to have an orthonormal axis system, and the direction of wAxis is equal to
 * the direction defined by iOrigin and iPointOnZAxis, except in case of CATSamRefFrameType*Spherical.
 * @param iPosition
 *   The index of the position.
 * @param iLamina
 *   The index of the lamina.
 * @param iSMI
 *   The index of the position in the lamina.
 * @param iRepeat
 *   The index of the repeat for the postion.
 * @param iOrigin[3]
 *   The coordinates of the origin of the Z axis.
 * @param iPointOnZAxis[3]
 *   The coordinates of a point of the Z axis.
 * @param iPointOnXoZPlane[3]
 *   The coordinates of a point of the +X,o,+Z plane.
 * @param iRefFrameType
 *   The mathematical type of the axis.
 * @param iLocationPoint[3]
 *   The coordinates of the point where the axis will be computed.
 * Only used when iRefFrameType = CATSamRefFrameType*Cylindrical or CATSamRefFrameType*Spherical.
 * @see CATSamRefFrameType
 */
    HRESULT SetDefinition(int iPosition,
                          int iLamina,
                          int iSMI,
                          int iRepeat,
                          const float iOrigin[3],
                          const float iPointOnZAxis[3],
                          const float iPointOnXoZPlane[3],
                          CATSamRefFrameType iRefFrameType,
                          const float iLocationPoint[3]) ;

/**
 * Set the Axis angle in Radians for a a Position, a Lamina,
 * a position in the Lamina and a repeat for the position.
 * @param iPosition
 *   The index of the position.
 * @param iLamina
 *   The index of the lamina.
 * @param iSMI
 *   The index of the position in the lamina.
 * @param iRepeat
 *   The index of the repeat for the postion.
 * @param iAxisAngle
 *   The orientation angle in Radians of the Axis.
 */
    HRESULT SetAxisAngle(int iPosition,
                         int iLamina,
                         int iSMI,
                         int iRepeat,
                         float iAxisAngle);

/**
 * Get the Axis angle in Radians for a a Position, a Lamina,
 * a position in the Lamina and a repeat for the position.
 * @param iPosition
 *   The index of the position.
 * @param iLamina
 *   The index of the lamina.
 * @param iSMI
 *   The index of the position in the lamina.
 * @param iRepeat
 *   The index of the repeat for the postion.
 * @param iAxisAngle
 *   The orientation angle in Radians of the Axis.
 */
    HRESULT GetAxisAngle(int iPosition,
                         int iLamina,
                         int iSMI,
                         int iRepeat,
                         float &amp; oAxisAngle) const;

/**
 * Add a angle to the Axis angle in Radians for a Position, a Lamina,
 * a position in the Lamina and a repeat for the position.
 * @param iPosition
 *   The index of the position.
 * @param iLamina
 *   The index of the lamina.
 * @param iSMI
 *   The index of the position in the lamina.
 * @param iRepeat
 *   The index of the repeat for the postion.
 * @param iAxisAngle
 *   The orientation angle in Radians of the Axis.
 */
    HRESULT AddAxisAngle(int iPosition,
                         int iLamina,
                         int iSMI,
                         int iRepeat,
                         float iAxisAngle);

/**
 * Get the Definition of the instance of the &lt;b&gt;CATSamAxis&lt;/b&gt; object for
 * a Position, a Lamina, a position in the Lamina and a repeat for the position.
 * The 3 vectors U,V and W are defined in order to have an orthonormal axis system.
 * @param iPosition
 *   The index of the position.
 * @param iLamina
 *   The index of the lamina.
 * @param iSMI
 *   The index of the position in the lamina.
 * @param iRepeat
 *   The index of the repeat for the postion.
 * @param oUaxis[3]
 *   The coordinates of the U vector of the axis.
 * @param oVaxis[3]
 *   The coordinates of the V vector of the axis.
 * @param oWaxis[3]
 *   The coordinates of the W vector of the axis.
 */
    HRESULT GetDefinition(int iPosition,
                          int iLamina,
                          int iSMI,
                          int iRepeat,
                          float oUaxis[3],
                          float oVaxis[3],
                          float oWaxis[3]) const;

/**
 * Get the Definition of the instance of the &lt;b&gt;CATSamAxis&lt;/b&gt; object for
 * a Position, a Lamina, a position in the Lamina and a repeat for the position.
 * The 3 vectors U,V and W are defined in order to have an orthonormal axis system.
 * @param iPosition
 *   The index of the position.
 * @param iLamina
 *   The index of the lamina.
 * @param iSMI
 *   The index of the position in the lamina.
 * @param iRepeat
 *   The index of the repeat for the postion.
 * @param iVectorU
 *   The U vector of the axis.
 * @param iVectorV
 *   The V vector of the axis.
 * @param iVectorW
 *   The W vector of the axis.
 */
    HRESULT GetDefinition(int iPosition,
                          int iLamina,
                          int iSMI,
                          int iRepeat,
                          CATMathVector &amp; oVectorU,
                          CATMathVector &amp; oVectorV,
                          CATMathVector &amp; oVectorW) const;

/**
 * Set the Definition of the instance ofthe &lt;b&gt;CATSamAxis&lt;/b&gt; object for
 * a Position, a Lamina, a position in the Lamina and a repeat for the position.
 * @param iPosition
 *   The index of the position.
 * @param iLamina
 *   The index of the lamina.
 * @param iSMI
 *   The index of the position in the lamina.
 * @param iRepeat
 *   The index of the repeat for the postion.
 * @param iUaxis[3]
 *   The coordinates of the U vector of the axis.
 * @param iVaxis[3]
 *   The coordinates of the V vector of the axis.
 * @param iWaxis[3]
 *   The coordinates of the W vector of the axis.
 */
    HRESULT SetDefinition(int iPosition,
                          int iLamina,
                          int iSMI,
                          int iRepeat,
                          const float iUaxis[3],
                          const float iVaxis[3],
                          const float iWaxis[3]);

/**
 * Set the Definition of the instance ofthe &lt;b&gt;CATSamAxis&lt;/b&gt; object for
 * a Position, a Lamina, a position in the Lamina and a repeat for the position.
 * @param iPosition
 *   The index of the position.
 * @param iLamina
 *   The index of the lamina.
 * @param iSMI
 *   The index of the position in the lamina.
 * @param iRepeat
 *   The index of the repeat for the postion.
 * @param iVectorU
 *   The U vector of the axis.
 * @param iVectorV
 *   The V vector of the axis.
 * @param iVectorW
 *   The W vector of the axis.
 */
    HRESULT SetDefinition(int iPosition,
                          int iLamina,
                          int iSMI,
                          int iRepeat,
                          const CATMathVector &amp; iVectorU,
                          const CATMathVector &amp; iVectorV,
                          const CATMathVector &amp; iVectorW);

/**
 * Gets the transformation matrix between the current axis system defined  for
 * a Position, a Lamina, a position in the Lamina and a repeat for the position.to the global axis.
 * @param iPosition
 *   The index of the position.
 * @param iLamina
 *   The index of the lamina.
 * @param iSMI
 *   The index of the position in the lamina.
 * @param iRepeat
 *   The index of the repeat for the postion.
 * @param oTransformationMatrix[3][3]
 *   The Transformation matrix.
 * @param iTranspose
 *   A flag to compute the reverse transformation.
 */
    HRESULT GetTransformationMatrix(int iPosition,
                                    int iLamina,
                                    int iSMI,
                                    int iRepeat,
                                    float oTransformationMatrix[3][3],
                                    CATBoolean iTranspose = FALSE) const;

/**
 * Gets the transformation matrix between the current axis system defined  for
 * a Position, a Lamina, a position in the Lamina and a repeat for the position.to the global axis.
 * @param iPosition
 *   The index of the position.
 * @param iLamina
 *   The index of the lamina.
 * @param iSMI
 *   The index of the position in the lamina.
 * @param iRepeat
 *   The index of the repeat for the postion.
 * @param oTransformationMatrix
 *   The Transformation matrix.
 * @param iTranspose
 *   A flag to compute the reverse transformation.
 */
    HRESULT GetTransformationMatrix(int iPosition,
                                    int iLamina,
                                    int iSMI,
                                    int iRepeat,
                                    CATMath3x3Matrix &amp; oTransformationMatrix,
                                    CATBoolean iTranspose = FALSE) const;

/**
 * Gets the axis index in the Axis array for a Position, a Lamina,
 * a position in the Lamina and a repeat for the position.
 * @param iPosition
 *   The index of the position.
 * @param iLamina
 *   The index of the lamina.
 * @param iSMI
 *   The index of the position in the lamina.
 * @param iRepeat
 *   The index of the repeat for the postion.
 * @param oAxisIndex
 *   The axis index.
 */
    HRESULT GetAxisIndex(int iPosition,
                         int iLamina,
                         int iSMI,
                         int iRepeat,
                         int &amp; oAxisIndex) const;

/**
 * Gets the axis angle index in the AxisAngle array for a Position, a Lamina,
 * a position in the Lamina and a repeat for the position.
 * @param iPosition
 *   The index of the position.
 * @param iLamina
 *   The index of the lamina.
 * @param iSMI
 *   The index of the position in the lamina.
 * @param iRepeat
 *   The index of the repeat for the postion.
 * @param oAxisAngleIndex
 *   The axis index.
 */
    HRESULT GetAxisAngleIndex(int iPosition,
                              int iLamina,
                              int iSMI,
                              int iRepeat,
                              int &amp; oAxisAngleIndex) const;

/**
 * Test the type of the instance.
 * Return True if iType = CATSamAxis
 * @param iType
 *   The type to test.
 */
    CATBoolean IsAKindOf(const CATString &amp; iType) const;

/**
 * Apply a transformation to the axis.
 * @param iTransformation the Transformation to Apply.
 * @see CATMath3x3Matrix
 */
    HRESULT ApplyTransformation(const CATMath3x3Matrix &amp;iTransformationMatrix);

/**
 * Internal Use Only....
 */
    const CATSamDimension* GetDimensionPtr() const;

 /**
 *   A pointer to a public work area.
 */
    int  * const PublicWorkPtr ;

  private :
    // Friend Class for Private Methods
    friend class CATSPMProcessSmi;
    friend class CATSamAxisAdaptor;
    friend class CATSPMProcessPlyId;
    friend class CATSPMProcessRepeat;
    friend class CATSPMProcessLamina;
    friend class CATSPMProcessComponent;
    friend class CATAnalysisCharacCollector;
    friend class CATAnalysisCharacCollectorPacked;

    // Stream the object.
    // @param ioStream  : The streaming buffer.
    // @param iVersion  : The version of stream.
    HRESULT Stream(CATSamStream &amp;ioStream, int iVersion) const ;

    // Unstream the object.
    // @param iStream       : The unstreaming buffer.
    // @param iVersion      : The version of stream.
    // @param iNbDimensions : The number of &lt;pre&gt;CATSamDimension&lt;/pre&gt; objects.
    // @param iDimensions   : A pointer to the array of &lt;pre&gt;CATSamDimension&lt;/pre&gt; objects.
    HRESULT UnStream(CATSamStream &amp;iStream, int iVersion, int iNbDimensions, const CATSamDimension* iDimensions) ;

    // Gets the full contents of the instance ofthe &lt;b&gt;CATSamAxis&lt;/b&gt; object.
    // @param oDimension    : The &lt;b&gt;CATSamDimension&lt;/b&gt; instance which was used to initialize the &lt;b&gt;CATSamAxis&lt;/b&gt;.
    // @param oNbAxisAngle  : The number of Angle of the axis of the object.
    // @param oAxisAngle    : The Angle of the axis of the object.
    // @param oAxis         : The Axis of the object.
    // @param oNbAxis       : The number of axis of the object.
    HRESULT GetContents(const CATSamDimension* &amp;oDimension, int &amp;oNbAxisAngle, const float* &amp;oAxisAngle, int &amp;oNbAxis, const CATSamBasicAxis* &amp;oAxis) const;

    // Sets the full constents of the instance ofthe &lt;b&gt;CATSamAxis&lt;/b&gt; object.
    // @param iAxisAngle    : The Angle of the axis of the object.
    // @param iAxis         : The Axis of the object.
    // &lt;b&gt;WARNING :: &lt;/b&gt; the iAxisAngle and iAxis must be allocated according to the
    // &lt;b&gt;CATSamDimension&lt;/b&gt; instance which was used to initialize the &lt;b&gt;CATSamAxis&lt;/b&gt;.
    HRESULT SetContents(const float* iAxisAngle, const CATSamBasicAxis* iAxis);

    // GetStructureSizes
    HRESULT GetStructureSizes(int &amp;oNbAxis, int &amp;oNbAngles) const;

    // GetType
    virtual CATSamExplicitRoot::RootType GetType() const;

    // DATA MEMBERS
    int                     _Work ;
    float*                  _AxisAngle;    
    CATSamBasicAxis*        _Axis;
    CATSamDimensionHandler* _DimensionHandler;
} ;

#endif
</div>
    
    <div class="navigation">
        <div><a href="CATSam1DSpaceList.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATSam1DSpaceList.h</a></div>
        <div><a href="CATSamCharacVersion.html">‰∏ã‰∏ÄÈ°µ: CATSamCharacVersion.h ‚Üí</a></div>
    </div>
</body>
</html>