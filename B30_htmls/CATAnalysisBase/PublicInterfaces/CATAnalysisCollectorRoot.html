<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CATAnalysisBase/PublicInterfaces/CATAnalysisCollectorRoot.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>CATAnalysisBase/PublicInterfaces/CATAnalysisCollectorRoot.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATAnalysisCollectorArchiver.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATAnalysisCollectorArchiver.h</a></div>
        <div><a href="CATAnalysisEntityCollector.html">‰∏ã‰∏ÄÈ°µ: CATAnalysisEntityCollector.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">// COPYRIGHT DASSAULT SYSTEMES  1999
//=============================================================================
//
// CATAnalysisCollectorRoot
//
//=============================================================================
//
// Usage Notes: manipulation of Collector
//
//=============================================================================
// Fevrier 2002 Creation                                                    JND
//=============================================================================
#ifndef CATAnalysisCollectorRoot_H_
#define CATAnalysisCollectorRoot_H_

/**
 * @CAA2Level L1
 * @CAA2Usage U1
 */

#include &quot;CATSAM0Explicit.h&quot;

#include &quot;CATString.h&quot;
#include &quot;CATAnalysisExplicitParent.h&quot;


/**
 * A collector is an object obtained by combining the
 * information of basic characteristics over several entities.&lt;br&gt;
 */

class ExportedByCATSAM0Explicit CATAnalysisCollectorRoot
{
  public:
/**
 * Default constructor.
 */
    CATAnalysisCollectorRoot() ;

/**
 * Copy constructor.
 */
    CATAnalysisCollectorRoot(const CATAnalysisCollectorRoot &amp; iCollector) ;

/**
 * Destructor.
 */
    virtual ~CATAnalysisCollectorRoot() ;

/**
 * Dumps the contents of the collector.
 * @param oListOfString
 *   The List of CATUnicodeString.
 * @param iIndent
 *   The indentation level (one level represents 3 spaces).
 * @param iRecurse
 *   The number of recursion levels.
 * @param iLoopSize
 *   The size of loops.
 */
    virtual void Dump(CATListValCATUnicodeString* oListOfString, 
                      int iIndent = 0, int iRecurse = 1, int iLoopSize = 10) const;

/**
 * Dumps the contents of the collector.
 * @param iIndent
 *   The indentation level (one level represents 3 spaces).
 * @param iRecurse
 *   The number of recursion levels.
 * @param iLoopSize
 *   The size of loops.
 */
    virtual void Dump(int iIndent = 0, int iRecurse = 1, int iLoopSize = 10) const;

/**
 * Obtains the context Set or Entity to which this collector belongs.
 * @param oContext
 *   A reference to the explicit version of the context.
 * @see CATAnalysisExplicitParent
 */
    virtual HRESULT GetContext(CATAnalysisExplicitParent &amp; oContext) const ;
  
/**
 * Assigns the context Set or Entity to which this collector belongs.
 * @param iContext
 *   A reference to the explicit version of the context.
 * @param iAttachToModel
 *   Indicates if the collector should be attached to the explicit
 *   model or not.
 * @see CATAnalysisExplicitParent
 */
    virtual HRESULT SetContext(const CATAnalysisExplicitParent &amp; iContext,
                               CATBoolean                  iAttachToModel = TRUE);

/**
 * Obtains the number of entities for which the collector has information.
 * @param oNbEntities
 *   The number of entities.
 */
    virtual HRESULT GetNbEntities(int &amp; oNbEntities) const ;
 
/**
 * Sets the number of entities for which the collector has information (Only for CharacCollector).
 * @param iNbEntities
 *   The number of entities.&lt;br&gt;
 *   If 0, then the number is deduced from the context and the definition.
 * @see CATAnalysisCharacCollector
 */
    virtual HRESULT SetNbEntities(int iNbEntities = 0) ;
   
/**
 * Obtains the entities for which the collector has values.
 * @param oEntityFlags[NbEntities]
 *   A pointer to the table of entity flags indicating which entities
 *   had their values collected.
 */
    virtual HRESULT GetEntities(const char* &amp; oEntityFlags) const ;
  
/**
 * Assigns the entities for which the collector has values (Only for CharacCollector).
 * @param iEntityFlags[NbEntities]
 *   A pointer to the table of entity flags indicating which entities
 *   should have their values collected.&lt;br&gt;
 *   A copy of the contents of the table will be made.
 * @see CATAnalysisCharacCollector
 */
    virtual HRESULT SetEntities(const char* iEntityFlags) ;

/**
 * Indicates if this collector is attached to the model or not.
 */
    inline const CATBoolean&amp; IsAttachedToModel() const ;
  
/**
 * Attaches or detaches this collector from the model.
 * @param iIsAttachedToModel
 *   The CATBoolean indicating the required action.
 * @param iCharacteristic
 *   The pointer to the basic characteristic to which this collector
 *   is linked to.&lt;br&gt;
 *   It is only used when detaching and if it is NULL, then it will be searched for.
 * @param iDeleteCharacteristic
 *   If the collector is to be detached, then this parameter indicates
 *   if the basic characteristic must be deleted or not.
 */
    HRESULT SetAttachedToModel(CATBoolean           iIsAttachedToModel,
                               CATSamExplicitPtr    iCharacteristic = NULL,
                               CATBoolean           iDeleteCharacteristic = FALSE) ;

/**
 * Obtains the UpToDate state of this collector.
 * &lt;br&gt; Inline Method. &lt;br&gt;
 */
    virtual CATBoolean IsUpToDate() const ;

/**
 * Obtains the Streamable state of this collector.
 */
    virtual CATBoolean IsStreamable() const ;
  
/**
 * Assigns the UpToDate state of this collector.
 * &lt;br&gt; Inline Method. &lt;br&gt;
 * @param iIsUpToDate
 *   The UpToDate state.
 */
    HRESULT SetUpToDate(CATBoolean iIsUpToDate);

/**
 * Increment the reference count.
 * @return The reference count value.
 */
    int AddRef() const ;
  
/**
 * Decrement the reference count.
 * @return The reference count value.
 */
    int Release() const ;

/**
 * Obtain the reference count.
 * &lt;br&gt; Inline Method. &lt;br&gt;
 * @return The reference count value.
 */
    inline const int&amp; GetReferenceCount() const ;

/**
 * Obtain Context model tag.
 * &lt;br&gt; Inline Method. &lt;br&gt;
 * @return Context model tag.
 */
    inline const int&amp; GetContextModelTag() const ;
  
/**
 * Requests the collector delayed destruction.
 * &lt;br&gt; Inline Method. &lt;br&gt;
 * The collector will be destroyed as soon as this will be possible.
 * @param iRequestDestruction
 *   This parameter indicates the request for the collector deletion.
 */
    inline void RequestDelayedDestruction(CATBoolean iRequestDestruction = TRUE) ;

  private:
    // friend class for Private Methods
    friend class CATAnalysisEntityCollector;
    friend class CATAnalysisCharacCollector;
    friend class CATESamCharacCollectorForSet;
    friend class CATESamCharacCollectorForProxyEntity;

    static CATULONG32 CollectorTag;
    // Reset
    virtual HRESULT Reset();
    // SetContextModelTag
    inline void SetContextModelTag(int iContextModelTag) ;
    // GetEntitiesFlags
    virtual HRESULT GetEntitiesFLags() const;

    // operator =
    CATAnalysisCollectorRoot&amp; operator = (const CATAnalysisCollectorRoot &amp; iCollector) ;

  protected:
    // DATA MEMBERS
    CATString                 _Position ;
    CATBoolean                _IsUpToDate ;
    CATBoolean                _IsAttachedToModel ;
    CATBoolean                _IsNumberingDependant ;
    CATBoolean                _IsRequestForDestruction ;
    CATBoolean                _DismisAttachement ;

    int                       _NbEntities ;
    int                       _NumReference ;
    int                       _NbFlagedEntities ;
    char*                     _EntityFlags ;

    CATSamPhysicalType        _CollectorPhysicalType ;
    CATAnalysisExplicitParent _Parent;
    int                       _ContextModelTag;
    int                       _ContextSequentialMumber;
    CATULONG32                _Tag;
} ;

/*****************************************************************/
/* Implementation of inline Methods                              */
/*****************************************************************/
inline HRESULT CATAnalysisCollectorRoot::SetUpToDate(CATBoolean iIsUpToDate) {
  _IsUpToDate = iIsUpToDate;
  return S_OK;
}

inline const int&amp; CATAnalysisCollectorRoot::GetReferenceCount() const { return _NumReference ; }

inline const CATBoolean&amp; CATAnalysisCollectorRoot::IsAttachedToModel() const { return _IsAttachedToModel; }

inline void CATAnalysisCollectorRoot::RequestDelayedDestruction(CATBoolean iRequestDestruction) { _IsRequestForDestruction = iRequestDestruction; }

inline const int&amp; CATAnalysisCollectorRoot::GetContextModelTag() const { return _ContextModelTag; }

inline void CATAnalysisCollectorRoot::SetContextModelTag(int iContextModelTag) { _ContextModelTag = iContextModelTag; }

#endif
</div>
    
    <div class="navigation">
        <div><a href="CATAnalysisCollectorArchiver.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATAnalysisCollectorArchiver.h</a></div>
        <div><a href="CATAnalysisEntityCollector.html">‰∏ã‰∏ÄÈ°µ: CATAnalysisEntityCollector.h ‚Üí</a></div>
    </div>
</body>
</html>