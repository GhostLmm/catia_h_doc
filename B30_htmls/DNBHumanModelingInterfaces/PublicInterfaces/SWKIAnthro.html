<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DNBHumanModelingInterfaces/PublicInterfaces/SWKIAnthro.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>DNBHumanModelingInterfaces/PublicInterfaces/SWKIAnthro.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="SWKI3DVisu.html">‚Üê ‰∏ä‰∏ÄÈ°µ: SWKI3DVisu.h</a></div>
        <div><a href="SWKIAnthroVariable.html">‰∏ã‰∏ÄÈ°µ: SWKIAnthroVariable.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">// COPYRIGHT DASSAULT SYSTEMES 2003

#ifndef _SWKIAnthro_h
#define _SWKIAnthro_h

/**
 * @CAA2Level L0
 * @CAA2Usage U0
 */

// *****************************************************************************
// Framework DNBHumanModelingInterfaces
// Copyright Safework Inc.
// *****************************************************************************
//  Abstract:
//  ---------
//
//    SWKIAnthro interface.
//    This interface offers non-IDL anthropometry services.
//
// *****************************************************************************
//  Usage:
//  ------
//
// *****************************************************************************
//  Inheritance:
//  ------------
//
//    SWKIManikinPart
//
// *****************************************************************************
//  Main Methods:
//  -------------
//
//    SetInternalAnthro
//    GetManikin
//    GetNumberOfVariables
//    GetVariableAtIndex
//    GetVariableFromRefNumber
//    GetVariable
//    GetManikin
//    GetSex
//    SetSex
//    GetPopulationAccommodation
//    SetPopulationAccommodation
//    GetLimitBound
//    SetLimitBound
//    GetInterpolationMethod
//    SetInterpolationMethod
//    SetValueType
//    GetConstructionType
//    SetConstructionType
//    UpdateFailed
//    UseAnthroDB
//    Reset
//    SetAnthroDBFileName
//    GetAnthroDBFileName
//    InternalSettings
// *****************************************************************************
//  History
//  -------
//
//  Author: Sylvain MARIE
//  Date  : 00/02/22
//  Goal  : Creation
// *****************************************************************************

// --- DNBHumanModelingInterfaces
#include &quot;SWKIManikinPart.h&quot;
#include &quot;SWKPostureSpec.h&quot;
//
// --- System
#include &quot;CATBooleanDef.h&quot;
//
// --- DNBHumanModeling
class SWAnthro;
class SWDBAnthro;
//
// --- DNBHumanModelingInterfaces
class SWKIManikin;
class SWKIAnthroVariable;
//
// --- ObjectModelerBase
class CATIContainer;
//
// --- ObjectSpecsModeler
class CATISpecObject;
//
// --- System
class CATString;

#ifndef SW_ANTHRO_USERVAR_NONE
#	define SW_ANTHRO_USERVAR_NONE		0x0		// The user variables are not interpolated
#endif

#ifndef SW_ANTHRO_USERVAR_NORMAL
#	define SW_ANTHRO_USERVAR_NORMAL		0x1		// The user variables use the multi-normal model
#endif

#ifndef SW_ANTHRO_VAR_VALUE
#	define SW_ANTHRO_VAR_VALUE			0x0		// Real-world format
#endif

#ifndef SW_ANTHRO_VAR_PERC
#	define SW_ANTHRO_VAR_PERC			0x1		// Percentile format
#endif

/* Sex of manikin */
#ifndef SW_ANTHRO_SEX_FEMALE
#	define SW_ANTHRO_SEX_FEMALE		0x0	/* female */
#endif

#ifndef SW_ANTHRO_SEX_MALE
#	define SW_ANTHRO_SEX_MALE		0x1	/* male */
#endif

#ifdef _WINDOWS_SOURCE
#ifdef __SWKHumanModelingItf
#define ExportedBySWKHumanModelingItf __declspec(dllexport)
#else
#define ExportedBySWKHumanModelingItf __declspec(dllimport)
#endif
#else
#define ExportedBySWKHumanModelingItf
#endif


#ifndef LOCAL_DEFINITION_FOR_IID
extern ExportedBySWKHumanModelingItf IID IID_SWKIAnthro;
#else
extern &quot;C&quot; const IID IID_SWKIAnthro;
#endif

/**
  *  This interface provides non-IDL anthropometry services.
  *  This interface is accessible from method &lt;code&gt;GetAnthro()&lt;/code&gt;
  *  of interface &lt;code&gt;SWKIManikin&lt;/code&gt;
  **/

class ExportedBySWKHumanModelingItf SWKIAnthro : public SWKIManikinPart
{
	CATDeclareInterface;

  public:

	/**
	  * Initialize the internal anthropometry.&lt;br&gt;
	  * &lt;strong&gt;This method is to be used by the system only.&lt;/strong&gt;
	  **/
	virtual HRESULT SetInternalAnthro(SWKIManikin * piManikin,
									SWAnthro * piInternalAnthro) = 0;

	/**
	  * @return The number of anthropometric variables that can be&lt;br&gt;
	  * manually overriden.
	  **/
	virtual unsigned GetNumberOfVariables() const = 0;

	/**
	  * Return the variable at the specified index.
	  *
	  * @param piIndex The index of the desired variable.&lt;br&gt;
	  * First variable is at index 0.
	  * @param piUpdateLiteralAccess The literal access (read-only or user) will
	  * be updated if the value is TRUE.
	  *
	  * @return The variable at the specified index, or &lt;code&gt;NULL&lt;/code&gt;,&lt;br&gt;
	  * if the index goes out of bounds.
	  **/
	virtual SWKIAnthroVariable * GetVariableAtIndex(unsigned piIndex, boolean piUpdateLiteralAccess = TRUE) = 0;

	/**
	  * Return the variable with the specified reference number.
	  *
	  * @param piRefNumber The reference number of the desired variable.&lt;br&gt;
	  * This reference number is taken from the
	  * &lt;strong&gt;US Army Natick&lt;/strong&gt; database&lt;br&gt;
	  * (e.g. 2 for us2, 100 for us100, etc.).
	  **/
	virtual SWKIAnthroVariable * GetVariableFromRefNumber(unsigned piRefNumber) = 0;

	/**
	  * Return the variable with the given acronym.
	  *
	  * @param piAcronym The acronym of the variable to return.
	  *
	  * @return The desired variable, or &lt;code&gt;NULL&lt;/code&gt;,&lt;br&gt;
	  * if no variable with the given acronym exists.&lt;br&gt;
	  * See document &quot;&lt;i&gt;Managing SWManikin Databases&lt;/i&gt;&quot; for
	  * more information.
	  **/
	virtual SWKIAnthroVariable * GetVariable(const CATString &amp; piAcronym) = 0;

	/**
	  * Return the manikin owning this anthropometry.
	  **/
	virtual SWKIManikin * GetManikin() const = 0;

	/**
	  * Query the sex of the manikin.
	  * @return &lt;code&gt;SW_ANTHRO_SEX_MALE&lt;/code&gt; if the manikin is male,&lt;br&gt;
	  * &lt;code&gt;SW_ANTHRO_SEX_FEMALE&lt;/code&gt;, if the manikin is female.
	  **/
	virtual int GetSex() const = 0;

	/**
	  * Set the sex of the manikin.&lt;br&gt;
	  * When the sex of the manikin is set, all variables are&lt;br&gt;
	  * updated accordingly.
	  *
	  * @param piSex The sex of the manikin, which may be either&lt;br&gt;
	  * &lt;code&gt;SW_ANTHRO_SEX_MALE&lt;/code&gt;, or &lt;code&gt;SW_ANTHRO_SEX_FEMALE&lt;/code&gt;.&lt;br&gt;
	  * All other values are discarded.
	  **/
	virtual HRESULT SetSex(int piSex) = 0;

	/**
	  * Set the population accommodation.&lt;br&gt;
	  * &lt;br&gt;
	  * The population accommodation is used in the multi-normal&lt;br&gt;
	  * algorithm, to calculate the limits of the automatic variables&lt;br&gt;
	  * when a user-defined anthropometry is entered.&lt;br&gt;
	  * The greater the population accommodation is, the wider the limits&lt;br&gt;
	  * on the automatic variables will be.
	  *
	  * @param piPopulationAccommodation The population accommodation, in a
	  * percentile format.  The value of this parameter must le within the
	  * range [0.0, 100.0].
	  *
	  * @return &lt;code&gt;S_OK&lt;/code&gt; on success, or &lt;code&gt;E_INVALIDARG&lt;/code&gt;
	  * if the parameter goes out of bounds.
	  **/
	virtual HRESULT SetPopulationAccommodation(double piPopulationAccommodation) = 0;

	/**
	  * @return the population accommodation, in a percetile (0.0 to 100.0) format.
	  **/
	virtual double GetPopulationAccommodation() const = 0;

	/**
	  * Set the population accommodation in terms of a limit bound.&lt;br&gt;
	  * &lt;br&gt;
	  * The population accommodation is used in the multi-normal&lt;br&gt;
	  * algorithm, to calculate the limits of the automatic variables&lt;br&gt;
	  * when a user-defined anthropometry is entered.&lt;br&gt;
	  * The greater the population accommodation is, the wider the limits&lt;br&gt;
	  * on the automatic variables will be.
	  *
	  * @param piLimitBound The population accommodation, in a
	  * limit bound format.  The value of this parameter must le within the
	  * range [0.0, 4.0].
	  *
	  * @return &lt;code&gt;S_OK&lt;/code&gt; on success, or &lt;code&gt;E_INVALIDARG&lt;/code&gt;
	  * if the parameter goes out of bounds.
	  **/
	virtual HRESULT SetLimitBound(double piLimitBound) = 0;

	/**
	  * @return The limit bound reflecting the population accommodation.&lt;br&gt;
	  * The value returned will be within the range [0.0, 4.0].
	  **/
	virtual double GetLimitBound() const = 0;


	/**
	  * Return the behavior of the anthropometry.&lt;br&gt;
	  * This method returns either &lt;code&gt;SW_ANTHRO_USERVAR_NONE&lt;/code&gt;
	  * or &lt;code&gt;SW_ANTHRO_USERVAR_NORMAL&lt;/code&gt;.&lt;br&gt;
	  * See method &lt;code&gt;SetInterpolationMethod&lt;/code&gt; for further details.
	  **/
	virtual int GetInterpolationMethod() const = 0;

	/**
	  * Set the behavior of the anthropometry.
	  *
	  * @param piMethod The interpolation method.
	  * This parameter can take one of the following&lt;br&gt;
	  * values: &lt;code&gt;SW_ANTHRO_USERVAR_NORMAL&lt;/code&gt; or&lt;br&gt;
	  * &lt;code&gt;SW_ANTHRO_USERVAR_NONE&lt;/code&gt;.
	  * &lt;br&gt;
	  * If the interpolation is set to &lt;code&gt;SW_ANTHRO_USERVAR_NORMAL&lt;/code&gt;,&lt;br&gt;
	  * then each user-defined anthropometric value&lt;br&gt;
	  * (cf. SWKIAnthroVariable) is verified against the&lt;br&gt;
	  * statistical bounds to make sure that the variable&#x27;s&lt;br&gt;
	  * value is within the proper range (i.e. remains realistic).&lt;br&gt;
	  * &lt;br&gt;
	  * If the interpolation is set to &lt;code&gt;SW_ANTHRO_USERVAR_NONE&lt;/code&gt;,&lt;br&gt;
	  * then the anthropometric values (cf. SWKIAnthroVariable)&lt;br&gt;
	  * from the user input are not verified, and can go&lt;br&gt;
	  * beyond the statistical limits.  If it is the case that&lt;br&gt;
	  * the values are not realistic, &lt;strong&gt;the current anthropometry&lt;br&gt;
	  * may very well lead to an ill-formed or unusable manikin&lt;/strong&gt;.
	  **/
	virtual HRESULT SetInterpolationMethod(int piMethod) = 0;

	/**
	  * Set the storage type of the values.
	  *
	  * @param piValueType If this parameter is
	  * &lt;code&gt;SW_ANTHRO_VAR_VALUE&lt;/code&gt;,&lt;br&gt;
	  * the real-world values of the variables are stored and copied&lt;br&gt;
	  * If it is &lt;code&gt;SW_ANTHRO_VAR_PERC&lt;/code&gt;, the percentile values
	  * are stored and copied.
	  **/
	virtual HRESULT SetValueType(int piValueType) = 0;

	/**
	  * Return the construction type of he manikin.&lt;br&gt;
	  * This method returns either &lt;code&gt;SWKPostureSpecStand&lt;/code&gt;
	  * or &lt;code&gt;SWKPostureSpecSit&lt;/code&gt;.&lt;br&gt;
	  * See method &lt;code&gt;SetConstructionType&lt;/code&gt; for further details.
	  **/
	virtual SWKPostureSpec GetConstructionType() const = 0;

	/**
	  * Set the the construction type of he manikin.
	  *
	  * @param piConstructionType The posture definind the construction type.
	  * This parameter can take one of the following&lt;br&gt;
	  * values: &lt;code&gt;SWKPostureSpecStand&lt;/code&gt; or&lt;br&gt;
	  * &lt;code&gt;SWKPostureSpecSit&lt;/code&gt;.
	  * &lt;br&gt;
	  * If the construction is set to &lt;code&gt;SWKPostureSpecStand&lt;/code&gt;,&lt;br&gt;
	  * then the manikin is constructed as of type &#x27;standing&#x27;.&lt;br&gt;
	  * If the construction is set to &lt;code&gt;SWKPostureSpecStand&lt;/code&gt;,&lt;br&gt;
	  * then the manikin is constructed as of type &#x27;sitting&#x27;.&lt;br&gt;
	  * &lt;br&gt;
	  * The chosen construction type influences the way the manikin&#x27;s hips,&lt;br&gt;
	  * thighs and knees are constructed to reflect the changes in those body&lt;br&gt;
	  * parts when a human changes from a standing to a sitting posture.
	  **/
	virtual HRESULT SetConstructionType(SWKPostureSpec piConstructionType) = 0;

	/**
	  * @return &lt;code&gt;TRUE&lt;/code&gt; if the last update operation
	  * failed, &lt;code&gt;FALSE&lt;/code&gt; otherwise.
	  **/
	virtual boolean UpdateFailed() const = 0;

	/**
	  * Reset the anthopometry.&lt;br&gt;
	  * This method resets each variable back to the automatic mode,
	  * then updates the anthropometry.
	  *
	  * @return &lt;code&gt;S_OK&lt;/code&gt; on success, or &lt;code&gt;E_UNEXPECTED&lt;/code&gt;
	  * if some error occurred.
	  **/
	virtual HRESULT Reset() = 0;

	/**
	  * Use the specified Anthropometry database.
	  *
	  * @param piAnthroDB A pointer to the new database.
	  **/
	virtual HRESULT UseAnthroDB(const SWDBAnthro * piAnthroDB) = 0;

	/**
	  * Initialize the file name of the current population.
	  **/
	virtual void SetAnthroDBFileName(const CATUnicodeString &amp; piName) = 0;

	/**
	  * @return The file name of the current population.
	  **/
	virtual CATUnicodeString GetAnthroDBFileName() const = 0;

	/**
	  * @nodoc
	  */
	virtual SWAnthro * InternalSettings(SWAnthro * piInternalAnthro = NULL) = 0;

	/**
	  * @nodoc
	  **/
	virtual HRESULT UpdateInternalAnthro(unsigned piRefNumber) = 0;
};

CATDeclareHandler(SWKIAnthro, SWKIManikinPart);

#endif
</div>
    
    <div class="navigation">
        <div><a href="SWKI3DVisu.html">‚Üê ‰∏ä‰∏ÄÈ°µ: SWKI3DVisu.h</a></div>
        <div><a href="SWKIAnthroVariable.html">‰∏ã‰∏ÄÈ°µ: SWKIAnthroVariable.h ‚Üí</a></div>
    </div>
</body>
</html>