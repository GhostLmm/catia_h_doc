<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KnowledgeInterfaces/PublicInterfaces/CATICkeSignature.h</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .navigation a {
            color: #2980b9;
            text-decoration: none;
            padding: 5px 10px;
            background-color: white;
            border-radius: 3px;
            border: 1px solid #bdc3c7;
        }
        .navigation a:hover {
            background-color: #3498db;
            color: white;
        }
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #bdc3c7;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
        }
        .back-to-index {
            text-align: center;
            margin: 15px 0;
        }
        .back-to-index a {
            color: #27ae60;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>KnowledgeInterfaces/PublicInterfaces/CATICkeSignature.h</h1>
    </div>
    
    <div class="navigation">
        <div><a href="CATICkeSheet.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATICkeSheet.h</a></div>
        <div><a href="CATICkeTextSheet.html">‰∏ã‰∏ÄÈ°µ: CATICkeTextSheet.h ‚Üí</a></div>
    </div>
    
    <div class="back-to-index">
        <a href="index.html">üìÅ ËøîÂõûÁõÆÂΩï</a>
    </div>
    
    <div class="content">#ifndef CATICkeSignature_h
#define CATICkeSignature_h

// COPYRIGHT DASSAULT SYSTEMES 1999

/** 
 * @CAA2Level L1
 * @CAA2Usage U3
 */

// export module
#include &quot;KnowledgeItf.h&quot;

// inherited from
#include &quot;CATBaseUnknown.h&quot;

// forward
#include &quot;CATICkeRelationForwards.h&quot;
class CATICkeTerm_var;
class CATCkeStream;

// used interface  
#include &quot;CATICkeArg.h&quot;

// OLE iid
#ifndef LOCAL_DEFINITION_FOR_IID
extern IID ExportedByKnowledgeItf IID_CATICkeSignature;
#else
extern &quot;C&quot; const IID IID_CATICkeSignature;
#endif

/**
* @nodoc
* defines which are used in SetEditionContext and GetEditionContext.
* They allow callers to specify in which context a signature of a method can be used.
* This is a way to express accurately where a specific function can be used in term of editors.
* Is it used in Law editor, or Rule editor, or both ?
*/

#define CATCkeEditionCxtFormula 1
/**
* @nodoc
*/
#define CATCkeEditionCxtRule 2
/**
* @nodoc
*/
#define CATCkeEditionCxtCheck 4
/**
* @nodoc
*/
#define CATCkeEditionCxtLaw 8
/**
* @nodoc
*/
#define CATCkeEditionCxtActions 16
/**
* @nodoc
*/
#define CATCkeEditionCxtSetOfEq 32
/**
* @nodoc
*/
#define CATCkeEditionCxtExpertCheck 64
/**
* @nodoc
*/
#define CATCkeEditionCxtExpertRule 128
/**
* @nodoc
*/

// kwa without Set Of Equations
/**
* @nodoc
*/
#define CATCkeEditionCxtKWA 31
/**
* @nodoc
*/
#define CATCkeEditionCxtKWE 192
/**
* @nodoc
*/
#define CATCkeEditionCxtAll 255

/**
* @nodoc
* A different way to express this is to use the CATCkeFunctionQuality which details
* what can support a function. Is it an inversible function ? Does it update correctly ?
*/
/**
* @nodoc
* Indicates that we know how to invert this function (in an equation)
*/
#define CATCkeFunctionQualityInversible 1
/**
* @nodoc
* Indicates that this function creates objects (and thus those objects must be managed)  
*/
#define CATCkeFunctionQualityCreateObject 2
/**
* @nodoc
* Indicates that this function operates a treatment (and thus cannot be called twice. It is not a pure computation).
*/
#define CATCkeFunctionQualityOperate 4
/**
* @nodoc
* Indicates that some of the inputs of the functions are not update compliant (they don&#x27;t know when
* they have been modified)
*/
#define CATCkeFunctionQualityNotUpdateCompliant 8


/** 
 * @nodoc
 * External functions to show an expression&lt;br&gt;
 * when creating a signature, you can define a function to show it in a particular manner
 */
typedef   CATCkeStream&amp; (*CATCkeShowExpression) (const CATICkeSignature_var &amp;,const CATICkeTerm_var &amp;,CATCkeStream &amp;);

/**
 * @nodoc
 * Possible values for defining signature information.
 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;:
 * &lt;tt&gt;CATCkeSigInfoInternal&lt;/tt&gt; never use.&lt;br&gt;
 * &lt;tt&gt;CATCkeSigInfoExternal&lt;/tt&gt; default value. Indicates that this function is not managed by KBware.&lt;br&gt;
 * &lt;tt&gt;CATCkeSigInfoInvalid&lt;/tt&gt; do not use.&lt;br&gt;
 * &lt;tt&gt;CATCkeSigInfoConsuming&lt;/tt&gt; use it to indicate that this function is really high CPU consuming.&lt;br&gt;
 */
typedef unsigned long CATCkeSignatureInfo;

/** @nodoc
 * indicates that the signature is external (out of LiteralFeatures framework) or internal
 * this is used to know if a relation potentially includes functions that couldn&#x27;t be retrieved at runtime
 * we call external those relations.&lt;br&gt;
 * You can also specify that evaluation of this signature is really high consuming. It is used, not to evaluate this function
 * the first time it is created.&lt;br&gt;
 */
extern ExportedByKnowledgeItf const CATCkeSignatureInfo  CATCkeSigInfoInternal;
extern ExportedByKnowledgeItf const CATCkeSignatureInfo  CATCkeSigInfoExternal;
extern ExportedByKnowledgeItf const CATCkeSignatureInfo  CATCkeSigInfoInvalid; 
extern ExportedByKnowledgeItf const CATCkeSignatureInfo  CATCkeSigInfoConsuming;

/**   
 * Interface dedicated to signature management.
 * &lt;b&gt;Role&lt;/b&gt;: A signature is a definition of the arguments of a function, method, operator in the KBware language.&lt;br&gt;
 * for example : &quot;name [arg: mode Type] : mode Type&quot;  ie: &quot;Real sin (x: in int): out Real&quot;.&lt;br&gt;
 * Such a signature is used to check the types compatibility when writing a relation&lt;br&gt;
 * Example : cos(sin(tan(c)*2))&lt;br&gt;
 * If you want to create a new function usable in formulas/checks/programs, you&#x27;ll have&lt;br&gt;
 * to define a signature and an evaluator&lt;br&gt;
 * @see CATICkeArg
 */
class ExportedByKnowledgeItf CATICkeSignature: public CATBaseUnknown
{

public :

/**
 * Signature mode: indicates how this function will be written in KBWare.
 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: the notation can be
 * &lt;tt&gt;Function&lt;/tt&gt; to be seen as a function : f(x,y), or
 * &lt;tt&gt;Method&lt;/tt&gt; to be seen as a method : x,f(y), or
 * &lt;tt&gt;Operator&lt;/tt&gt; do not use, or
 * &lt;tt&gt;Special&lt;/tt&gt; do not use, or
 * &lt;tt&gt;Attribut&lt;/tt&gt; to be seen as an attribute : x.f.
 */
enum Mode
{
  Function	= 1, 
  Method	= 2, 
  Operator	= 3, 
  Special	= 4, 
  Attribute	= 5,
  Event     = 6
};  
  

//--------------------------------------
// Nommage
//--------------------------------------
/**
 * Returns the name of the signature.&lt;br&gt;
 * (example : &quot;sin&quot;)
 */
virtual CATUnicodeString  Name    () const =0;
  
/**
 * Renames the signature.&lt;br&gt;
 * @param  iNewName New name 
 */
virtual void            Rename    (const CATUnicodeString &amp;iNewName) =0;

/**
 * Shows the signature to the user.&lt;br&gt;
 * Exampel: &quot;sin(Real) : Real&quot; 
 */
virtual CATUnicodeString  Show    () const =0; 

/**
 * Sets family of the signature.&lt;br&gt;
 * The family is used to classify signatures in the wizard. 
 * @param iFamilyName NLS name for family
 */
virtual void             SetFamily     (const CATUnicodeString &amp;iFamilyName) 	     = 0;

/**
 * Returns the family of the signature.&lt;br&gt;
 * The family is used to classify signatures in the wizard. 
 */
virtual CATUnicodeString           Family        () const = 0;


/**
 * Returns signatures notation.&lt;br&gt;
 * Indicates if it is an operator, a function, a method or something else&lt;br&gt;
 * @return &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: the notation can be
 * &lt;tt&gt;Function&lt;/tt&gt; to be seen as a function : f(x,y), or
 * &lt;tt&gt;Method&lt;/tt&gt; to be seen as a method : x,f(y), or
 * &lt;tt&gt;Operator&lt;/tt&gt; do not use, or
 * &lt;tt&gt;Special&lt;/tt&gt; do not use, or
 * &lt;tt&gt;Attribut&lt;/tt&gt; to be seen as an attribute : x.f.
 */
virtual CATICkeSignature::Mode    Notation      () const = 0;

/**
 * Sets notation of the signature.
 * Function is default value.
 * @param iNotation notation to be set.
 * &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: the notation can be
 * &lt;tt&gt;Function&lt;/tt&gt; to be seen as a function : f(x,y), or
 * &lt;tt&gt;Method&lt;/tt&gt; to be seen as a method : x,f(y), or
 * &lt;tt&gt;Operator&lt;/tt&gt; do not use, or
 * &lt;tt&gt;Special&lt;/tt&gt; do not use, or
 * &lt;tt&gt;Attribut&lt;/tt&gt; to be seen as an attribute : x.f.
 * @param iHowToShow function pointer to specify how to show such a signature in special cases.
 */
virtual void		   SetNotation (CATICkeSignature::Mode iNotation,CATCkeShowExpression iHowToShow = NULL) = 0;




//--------------------------------------
// prototype
//--------------------------------------

/**
 * Returns the number of arguments of this signature.&lt;br&gt;
 * (Can be 0).
 */
virtual int          PrototypeSize () const = 0;

/**
 * Returns the list of arguments of this signature.&lt;br&gt;
 * @return list of arguments (not to be deallocated)
 */
virtual CATCkeListOfArg  Prototype     () const = 0;

/**
 * Returns the returned argument of the signature.
 */
virtual CATICkeArg_var   ReturnedArg   () const = 0;

/**
 * Add an argument to the list.
 * @param iAgrToAdd argument to be added
 */
virtual void   AddArgument   (const CATICkeArg_var iArgToAdd)  = 0;

/**
 * Modifies the whole list of arguments.
 * @param iListOfArguments list of arguments to replace
 */
virtual void		   SetPrototype  (const CATCkeListOfArg iListOfArguments) = 0;

/**
 * Sets the returned argument.
 * @param iReturnedArg returned arg
 */
virtual void		   SetReturnedArg(const CATICkeArg_var &amp;iReturnedArg)  = 0;




/**
 * Indicates if the number of argument is variable.&lt;br&gt;
 * those signature must have at least one argument that defines the type of variable arguments.&lt;br&gt;   
 * @return &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: 
 * &lt;tt&gt;CATCke::True&lt;/tt&gt; if it has a variable number of arguments.
 * &lt;tt&gt;CATCke::False&lt;/tt&gt; if it has a constant number of arguments (default value).
 */
virtual CATCke::Boolean  HasVariableArgNb () const  = 0;

/**
 * Modifies the variable number of arguments property.&lt;br&gt;
 * @param iVariable &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: 
 * &lt;tt&gt;CATCke::True&lt;/tt&gt; if it has a variable number of arguments.
 * &lt;tt&gt;CATCke::False&lt;/tt&gt; if it has a constant number of arguments (default value).
 */
virtual void SetVariableArgNb (const CATCke::Boolean &amp;iVariable)  = 0;

/**
 * Modifies the visibility of the function.&lt;br&gt;
 * @param iVariable &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: 
 * &lt;tt&gt;CATCke::True&lt;/tt&gt; if it should be visible.
 * &lt;tt&gt;CATCke::False&lt;/tt&gt; if not.
 */
virtual void SetUserVisibility (const CATCke::Boolean &amp;iVariable)  = 0;

/**
 * Indicates if the function is visible.&lt;br&gt;
 * @return &lt;br&gt;&lt;b&gt;Legal values&lt;/b&gt;: 
 * &lt;tt&gt;CATCke::True&lt;/tt&gt; if it is visible.
 * &lt;tt&gt;CATCke::False&lt;/tt&gt; if not.
 */
virtual CATCke::Boolean IsUserVisible ()  = 0;

/**
 * @nodoc
 * Modifies the information.&lt;br&gt;
 * @param iInfo information 
 */
virtual void SetInformation (const CATCkeSignatureInfo info) =0;

/**
 * @nodoc
 * Returns the information.&lt;br&gt;
 */
virtual CATCkeSignatureInfo GetInformation () const =0;

/**
* @nodoc
* indicates if this signature is to be seen in different editors 
* (formula = 1, rule = 2, check = 4, set of equations = 8, 
* law = 16, actions = 32, expert check = 64, expert rule = 128)
*/
virtual void SetAllowedEditionContext(short context) = 0;

/**
* @nodoc
* indicates if this signature is to be seen in different editors 
* (formula = 1, rule = 2, check = 4, set of equations = 8, 
* law = 16, actions = 32, expert check = 64, expert rule = 128)
*/
virtual short GetAllowedEditionContext() = 0;


/**
* @nodoc
* another way to define where this function is accessible, is to describe
* what it can and cannot support. 
* (inversible = 1, create object = 2, operate treatment = 4, is not update compliant = 8)
*/
virtual void SetFunctionQuality(short Quality) = 0;

/**
* @param iRankForOptionalArguments
* Defines if the signature has optional arguments and starting from which argument (rank 1 to N).
* 0 to declare that there is no optional argument (by default). 1 to N 
*/
virtual void SetRankOfOptionalArguments (const int iRankForOptionalArguments)  = 0;

/**
* @return 
* Indicates if the signature has optional arguments and starting from which argument (rank 1 to N).
* 0 to declare that there is no optional argument (by default). 1 to N 
*/
virtual int  RankOfOptionalArguments () const  = 0;

private :
     
  // 2 define ClassName
  CATDeclareInterface;

}; 

CATDeclareHandler(CATICkeSignature,CATBaseUnknown);

#endif


</div>
    
    <div class="navigation">
        <div><a href="CATICkeSheet.html">‚Üê ‰∏ä‰∏ÄÈ°µ: CATICkeSheet.h</a></div>
        <div><a href="CATICkeTextSheet.html">‰∏ã‰∏ÄÈ°µ: CATICkeTextSheet.h ‚Üí</a></div>
    </div>
</body>
</html>